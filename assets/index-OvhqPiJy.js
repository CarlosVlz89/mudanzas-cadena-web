(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function fx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pm={exports:{}},ql={};var hv;function a2(){if(hv)return ql;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var fv;function o2(){return fv||(fv=1,Pm.exports=a2()),Pm.exports}var u=o2(),Um={exports:{}},Se={};var mv;function l2(){if(mv)return Se;mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,F={};function se(O,Z,le){this.props=O,this.context=Z,this.refs=F,this.updater=le||H}se.prototype.isReactComponent={},se.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=se.prototype;function ie(O,Z,le){this.props=O,this.context=Z,this.refs=F,this.updater=le||H}var me=ie.prototype=new ne;me.constructor=ie,G(me,se.prototype),me.isPureReactComponent=!0;var re=Array.isArray;function ue(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function A(O,Z,le){var de=le.ref;return{$$typeof:r,type:O,key:Z,ref:de!==void 0?de:null,props:le}}function N(O,Z){return A(O.type,Z,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return Z[le]})}var j=/\/+/g;function Me(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Z.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ue,ue):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Z,le,de,we){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(Ie){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case r:case e:qe=!0;break;case x:return qe=O._init,Q(qe(O._payload),Z,le,de,we)}}if(qe)return we=we(O),qe=de===""?"."+Me(O,0):de,re(we)?(le="",qe!=null&&(le=qe.replace(j,"$&/")+"/"),Q(we,Z,le,"",function(Si){return Si})):we!=null&&(R(we)&&(we=N(we,le+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+qe)),Z.push(we)),1;qe=0;var kt=de===""?".":de+":";if(re(O))for(var ot=0;ot<O.length;ot++)de=O[ot],Ie=kt+Me(de,ot),qe+=Q(de,Z,le,Ie,we);else if(ot=V(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(de=O.next()).done;)de=de.value,Ie=kt+Me(de,ot++),qe+=Q(de,Z,le,Ie,we);else if(Ie==="object"){if(typeof O.then=="function")return Q(De(O),Z,le,de,we);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return qe}function W(O,Z,le){if(O==null)return O;var de=[],we=0;return Q(O,de,"","",function(Ie){return Z.call(le,Ie,we++)}),de}function ae(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ne={map:W,forEach:function(O,Z,le){W(O,function(){Z.apply(this,arguments)},le)},count:function(O){var Z=0;return W(O,function(){Z++}),Z},toArray:function(O){return W(O,function(Z){return Z})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=E,Se.Children=Ne,Se.Component=se,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=i,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Z,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=G({},O.props),we=O.key;if(Z!=null)for(Ie in Z.key!==void 0&&(we=""+Z.key),Z)!C.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(de[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=le;else if(1<Ie){for(var qe=Array(Ie),kt=0;kt<Ie;kt++)qe[kt]=arguments[kt+2];de.children=qe}return A(O.type,we,de)},Se.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,Z,le){var de,we={},Ie=null;if(Z!=null)for(de in Z.key!==void 0&&(Ie=""+Z.key),Z)C.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(we[de]=Z[de]);var qe=arguments.length-2;if(qe===1)we.children=le;else if(1<qe){for(var kt=Array(qe),ot=0;ot<qe;ot++)kt[ot]=arguments[ot+2];we.children=kt}if(O&&O.defaultProps)for(de in qe=O.defaultProps,qe)we[de]===void 0&&(we[de]=qe[de]);return A(O,Ie,we)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:p,render:O}},Se.isValidElement=R,Se.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:ae}},Se.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Se.startTransition=function(O){var Z=I.T,le={};I.T=le;try{var de=O(),we=I.S;we!==null&&we(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ue,ge)}catch(Ie){ge(Ie)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),I.T=Z}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,Z,le){return I.H.useActionState(O,Z,le)},Se.useCallback=function(O,Z){return I.H.useCallback(O,Z)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Z){return I.H.useDeferredValue(O,Z)},Se.useEffect=function(O,Z){return I.H.useEffect(O,Z)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,Z,le){return I.H.useImperativeHandle(O,Z,le)},Se.useInsertionEffect=function(O,Z){return I.H.useInsertionEffect(O,Z)},Se.useLayoutEffect=function(O,Z){return I.H.useLayoutEffect(O,Z)},Se.useMemo=function(O,Z){return I.H.useMemo(O,Z)},Se.useOptimistic=function(O,Z){return I.H.useOptimistic(O,Z)},Se.useReducer=function(O,Z,le){return I.H.useReducer(O,Z,le)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,Z,le){return I.H.useSyncExternalStore(O,Z,le)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.3",Se}var pv;function Mp(){return pv||(pv=1,Um.exports=l2()),Um.exports}var P=Mp();const c2=fx(P);var zm={exports:{}},Fl={},Bm={exports:{}},qm={};var gv;function u2(){return gv||(gv=1,(function(r){function e(Q,W){var ae=Q.length;Q.push(W);e:for(;0<ae;){var ge=ae-1>>>1,Ne=Q[ge];if(0<o(Ne,W))Q[ge]=W,Q[ae]=Ne,ae=ge;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var W=Q[0],ae=Q.pop();if(ae!==W){Q[0]=ae;e:for(var ge=0,Ne=Q.length,O=Ne>>>1;ge<O;){var Z=2*(ge+1)-1,le=Q[Z],de=Z+1,we=Q[de];if(0>o(le,ae))de<Ne&&0>o(we,le)?(Q[ge]=we,Q[de]=ae,ge=de):(Q[ge]=le,Q[Z]=ae,ge=Z);else if(de<Ne&&0>o(we,ae))Q[ge]=we,Q[de]=ae,ge=de;else break e}}return W}function o(Q,W){var ae=Q.sortIndex-W.sortIndex;return ae!==0?ae:Q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,S=3,V=!1,H=!1,G=!1,F=!1,se=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var W=n(y);W!==null;){if(W.callback===null)i(y);else if(W.startTime<=Q)i(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function re(Q){if(G=!1,me(Q),!H)if(n(g)!==null)H=!0,ue||(ue=!0,k());else{var W=n(y);W!==null&&De(re,W.startTime-Q)}}var ue=!1,I=-1,C=5,A=-1;function N(){return F?!0:!(r.unstable_now()-A<C)}function R(){if(F=!1,ue){var Q=r.unstable_now();A=Q;var W=!0;try{e:{H=!1,G&&(G=!1,ne(I),I=-1),V=!0;var ae=S;try{t:{for(me(Q),E=n(g);E!==null&&!(E.expirationTime>Q&&N());){var ge=E.callback;if(typeof ge=="function"){E.callback=null,S=E.priorityLevel;var Ne=ge(E.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ne=="function"){E.callback=Ne,me(Q),W=!0;break t}E===n(g)&&i(g),me(Q)}else i(g);E=n(g)}if(E!==null)W=!0;else{var O=n(y);O!==null&&De(re,O.startTime-Q),W=!1}}break e}finally{E=null,S=ae,V=!1}W=void 0}}finally{W?k():ue=!1}}}var k;if(typeof ie=="function")k=function(){ie(R)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Me=j.port2;j.port1.onmessage=R,k=function(){Me.postMessage(null)}}else k=function(){se(R,0)};function De(Q,W){I=se(function(){Q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ae=S;S=W;try{return Q()}finally{S=ae}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=S;S=Q;try{return W()}finally{S=ae}},r.unstable_scheduleCallback=function(Q,W,ae){var ge=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,Q){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ae+Ne,Q={id:x++,callback:W,priorityLevel:Q,startTime:ae,expirationTime:Ne,sortIndex:-1},ae>ge?(Q.sortIndex=ae,e(y,Q),n(g)===null&&Q===n(y)&&(G?(ne(I),I=-1):G=!0,De(re,ae-ge))):(Q.sortIndex=Ne,e(g,Q),H||V||(H=!0,ue||(ue=!0,k()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var W=S;return function(){var ae=S;S=W;try{return Q.apply(this,arguments)}finally{S=ae}}}})(qm)),qm}var yv;function d2(){return yv||(yv=1,Bm.exports=u2()),Bm.exports}var Fm={exports:{}},en={};var bv;function h2(){if(bv)return en;bv=1;var r=Mp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},en.flushSync=function(g){var y=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=x,i.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):x==="script"&&i.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},en.requestFormReset=function(g){i.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.3",en}var vv;function f2(){if(vv)return Fm.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=h2(),Fm.exports}var _v;function m2(){if(_v)return Fl;_v=1;var r=d2(),e=Mp(),n=f2();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=m;break}if(T===l){v=!0,l=f,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,l=f;break}if(T===l){v=!0,l=m,a=f;break}T=T.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case se:return"Profiler";case F:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:Me(t.type)||"Memo";case C:s=t._payload,t=t._init;try{return Me(t(s))}catch{}}return null}var De=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function O(t){return{current:t}}function Z(t){0>Ne||(t.current=ge[Ne],ge[Ne]=null,Ne--)}function le(t,s){Ne++,ge[Ne]=t.current,t.current=s}var de=O(null),we=O(null),Ie=O(null),qe=O(null);function kt(t,s){switch(le(Ie,s),le(we,t),le(de,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Mb(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Mb(s),t=Vb(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(de),le(de,t)}function ot(){Z(de),Z(we),Z(Ie)}function Si(t){t.memoizedState!==null&&le(qe,t);var s=de.current,a=Vb(s,t.type);s!==a&&(le(we,t),le(de,a))}function _a(t){we.current===t&&(Z(de),Z(we)),qe.current===t&&(Z(qe),Pl._currentValue=ae)}var xa,Ea;function ms(t){if(xa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xa=s&&s[1]||"",Ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+Ea}var Po=!1;function Ni(t,s){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var q=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){q=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){q=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var D=v.split(`
`),B=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ms(a):""}function Uo(t,s){switch(t.tag){case 26:case 27:case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return t.child!==s&&s!==null?ms("Suspense Fallback"):ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return Ni(t.type,!1);case 11:return Ni(t.type.render,!1);case 1:return Ni(t.type,!0);case 31:return ms("Activity");default:return""}}function zo(t){try{var s="",a=null;do s+=Uo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,Uc=r.unstable_requestPaint,rn=r.unstable_now,Ci=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,qo=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,zh=r.unstable_LowPriority,zc=r.unstable_IdlePriority,Bc=r.log,qc=r.unstable_setDisableYieldValue,Zn=null,qt=null;function In(t){if(typeof Bc=="function"&&qc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Zn,t)}catch{}}var gt=Math.clz32?Math.clz32:Hc,Fc=Math.log,Ta=Math.LN2;function Hc(t){return t>>>=0,t===0?32:31-(Fc(t)/Ta|0)|0}var ps=256,Ri=262144,Et=4194304;function gs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ys(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?f=gs(l):(v&=T,v!==0?f=gs(v):a||(a=T&~t,a!==0&&(f=gs(a))))):(T=l&~m,T!==0?f=gs(T):v!==0?f=gs(v):a||(a=l&~t,a!==0&&(f=gs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Jn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Bh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function bs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ii(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,s,a,l,f,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-gt(a),ee=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var K=q[Y];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&ji(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function ji(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-gt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Ho(t,s){var a=s&-s;return a=(a&42)!==0?1:Di(a),(a&(t.suspendedLanes|s))!==0?0:a}function Di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $c(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function Wn(t,s){var a=W.p;try{return W.p=t,s()}finally{W.p=a}}var es=Math.random().toString(36).slice(2),Tt="__reactFiber$"+es,Lt="__reactProps$"+es,vs="__reactContainer$"+es,wa="__reactEvents$"+es,Fh="__reactListeners$"+es,Kc="__reactHandles$"+es,Qc="__reactResources$"+es,_s="__reactMarker$"+es;function Aa(t){delete t[Tt],delete t[Lt],delete t[wa],delete t[Fh],delete t[Kc]}function xs(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[vs]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Fb(t);t!==null;){if(a=t[Tt])return a;t=Fb(t)}return s}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Tt]||t[vs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function bn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Es(t){var s=t[Qc];return s||(s=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[_s]=!0}var Go=new Set,$o={};function Ts(t,s){ws(t,s),ws(t+"Capture",s)}function ws(t,s){for($o[t]=s,t=0;t<s.length;t++)Go.add(s[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function Yc(t){return xt.call(Yo,t)?!0:xt.call(Qo,t)?!1:Ko.test(t)?Yo[t]=!0:(Qo[t]=!0,!1)}function Sa(t,s,a){if(Yc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function At(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ye(t){if(!t._valueTracker){var s=Er(t)?"checked":"value";t._valueTracker=Xo(t,s,""+t[s])}}function ki(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oi=/[\n"\\]/g;function un(t){return t.replace(Oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(t,s,a,l,f,m,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Pt(s)):t.value!==""+Pt(s)&&(t.value=""+Pt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Zo(t,v,Pt(s)):a!=null?Zo(t,v,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Xc(t,s,a,l,f,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",s=s!=null?""+Pt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Zo(t,s,a){s==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Zc(t,s,a){if(s!=null&&(s=""+Pt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Pt(a):""}function wr(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(De(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Pt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function dn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Jc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Wo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Jo(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Jo(t,m,s[m])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ts(){}var el=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Ss=null;function Mi(t){var s=jn(t);if(s&&(t=s.stateNode)){var a=t[Lt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(i(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&ki(l)}break e;case"textarea":Zc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Tr(t,!!a.multiple,s,!1)}}}var Ia=!1;function Nr(t,s,a){if(Ia)return t(s,a);Ia=!0;try{var l=t(s);return l}finally{if(Ia=!1,(Sr!==null||Ss!==null)&&($u(),Sr&&(s=Sr,t=Ss,Ss=Sr=null,Mi(s),t)))for(s=0;s<t.length;s++)Mi(t[s])}}function ns(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Vi=!1}var Ns=null,tl=null,Li=null;function nl(){if(Li)return Li;var t,s=tl,a=s.length,l,f="value"in Ns?Ns.value:Ns.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Li=f.slice(t,1<l?1-l:void 0)}function Pi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function ss(){return!1}function Ft(t){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$s:ss,this.isPropagationStopped=ss,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Ft(Ks),Cr=E({},Ks,{view:0,detail:0}),sl=Ft(Cr),Rr,ja,Rs,Da=E({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(Rr=t.screenX-Rs.screenX,ja=t.screenY-Rs.screenY):ja=Rr=0,Rs=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),rl=Ft(Da),Ui=E({},Da,{dataTransfer:0}),eu=Ft(Ui),tu=E({},Cr,{relatedTarget:0}),zi=Ft(tu),il=E({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Ft(il),ka=E({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),su=Ft(ka),ru=E({},Ks,{data:0}),Is=Ft(ru),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ou[t])?!!s[t]:!1}function Ir(){return lu}var an=E({},Cr,{key:function(t){if(t.key){var s=iu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=Ft(an),uu=E({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Ft(uu),d=E({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),b=Ft(d),_=E({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(_),U=E({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(U),oe=E({},Ks,{newState:0,oldState:0}),Ce=Ft(oe),yt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var On=kn&&"TextEvent"in window&&!lt,js=kn&&(!Ke||lt&&8<lt&&11>=lt),rs=" ",is=!1;function Bi(t,s){switch(t){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function IT(t,s){switch(t){case"compositionend":return Oa(s);case"keypress":return s.which!==32?null:(is=!0,rs);case"textInput":return t=s.data,t===rs&&is?null:t;default:return null}}function jT(t,s){if(Ma)return t==="compositionend"||!Ke&&Bi(t,s)?(t=nl(),Li=tl=Ns=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return js&&s.locale!=="ko"?null:s.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!DT[t.type]:s==="textarea"}function Kg(t,s,a,l){Sr?Ss?Ss.push(l):Ss=[l]:Sr=l,s=Wu(s,"onChange"),0<s.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var al=null,ol=null;function kT(t){Rb(t,0)}function du(t){var s=bn(t);if(ki(s))return t}function Qg(t,s){if(t==="change")return s}var Yg=!1;if(kn){var Hh;if(kn){var Gh="oninput"in document;if(!Gh){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Gh=typeof Xg.oninput=="function"}Hh=Gh}else Hh=!1;Yg=Hh&&(!document.documentMode||9<document.documentMode)}function Zg(){al&&(al.detachEvent("onpropertychange",Jg),ol=al=null)}function Jg(t){if(t.propertyName==="value"&&du(ol)){var s=[];Kg(s,ol,t,Dn(t)),Nr(kT,s)}}function OT(t,s,a){t==="focusin"?(Zg(),al=s,ol=a,al.attachEvent("onpropertychange",Jg)):t==="focusout"&&Zg()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(ol)}function VT(t,s){if(t==="click")return du(s)}function LT(t,s){if(t==="input"||t==="change")return du(s)}function PT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var _n=typeof Object.is=="function"?Object.is:PT;function ll(t,s){if(_n(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(s,f)||!_n(t[f],s[f]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,s){var a=Wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function ty(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ty(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ny(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=As(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=As(t.document)}return s}function $h(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var UT=kn&&"documentMode"in document&&11>=document.documentMode,Va=null,Kh=null,cl=null,Qh=!1;function sy(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||Va==null||Va!==As(l)||(l=Va,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ll(cl,l)||(cl=l,l=Wu(Kh,"onSelect"),0<l.length&&(s=new Cs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Va)))}function qi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var La={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},Yh={},ry={};kn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fi(t){if(Yh[t])return Yh[t];if(!La[t])return t;var s=La[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ry)return Yh[t]=s[a];return t}var iy=Fi("animationend"),ay=Fi("animationiteration"),oy=Fi("animationstart"),zT=Fi("transitionrun"),BT=Fi("transitionstart"),qT=Fi("transitioncancel"),ly=Fi("transitionend"),cy=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function as(t,s){cy.set(t,s),Ts(s,[t])}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Pa=0,Zh=0;function fu(){for(var t=Pa,s=Zh=Pa=0;s<t;){var a=Mn[s];Mn[s++]=null;var l=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];if(Mn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&uy(a,f,m)}}function mu(t,s,a,l){Mn[Pa++]=t,Mn[Pa++]=s,Mn[Pa++]=a,Mn[Pa++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,s,a,l){return mu(t,s,a,l),pu(t)}function Hi(t,s){return mu(t,null,null,s),pu(t)}function uy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-gt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function pu(t){if(50<jl)throw jl=0,lm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ua={};function FT(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,s,a,l){return new FT(t,s,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ys(t,s){var a=t.alternate;return a===null?(a=xn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function gu(t,s,a,l,f,m){var v=0;if(l=t,typeof t=="function")Wh(t)&&(v=1);else if(typeof t=="string")v=Qw(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=xn(31,a,s,f),t.elementType=A,t.lanes=m,t;case G:return Gi(a.children,f,m,s);case F:v=8,f|=24;break;case se:return t=xn(12,a,s,f|2),t.elementType=se,t.lanes=m,t;case re:return t=xn(13,a,s,f),t.elementType=re,t.lanes=m,t;case ue:return t=xn(19,a,s,f),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case ne:v=9;break e;case me:v=11;break e;case I:v=14;break e;case C:v=16,l=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=xn(v,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Gi(t,s,a,l){return t=xn(7,t,l,s),t.lanes=a,t}function ef(t,s,a){return t=xn(6,t,null,s),t.lanes=a,t}function hy(t){var s=xn(18,null,null,0);return s.stateNode=t,s}function tf(t,s,a){return s=xn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var fy=new WeakMap;function Vn(t,s){if(typeof t=="object"&&t!==null){var a=fy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:zo(s)},fy.set(t,s),s)}return{value:t,source:s,stack:zo(s)}}var za=[],Ba=0,yu=null,ul=0,Ln=[],Pn=0,jr=null,Ds=1,ks="";function Xs(t,s){za[Ba++]=ul,za[Ba++]=yu,yu=t,ul=s}function my(t,s,a){Ln[Pn++]=Ds,Ln[Pn++]=ks,Ln[Pn++]=jr,jr=t;var l=Ds;t=ks;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var m=32-gt(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ds=1<<32-gt(s)+f|a<<f|l,ks=m+t}else Ds=1<<m|a<<f|l,ks=t}function nf(t){t.return!==null&&(Xs(t,1),my(t,1,0))}function sf(t){for(;t===yu;)yu=za[--Ba],za[Ba]=null,ul=za[--Ba],za[Ba]=null;for(;t===jr;)jr=Ln[--Pn],Ln[Pn]=null,ks=Ln[--Pn],Ln[Pn]=null,Ds=Ln[--Pn],Ln[Pn]=null}function py(t,s){Ln[Pn++]=Ds,Ln[Pn++]=ks,Ln[Pn++]=jr,Ds=s.id,ks=s.overflow,jr=t}var Ht=null,rt=null,Be=!1,Dr=null,Un=!1,rf=Error(i(519));function kr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Vn(s,t)),rf}function gy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Tt]=t,s[Lt]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<kl.length;a++)Oe(kl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Xc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),wr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||kb(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=ts),s=!0):s=!1,s||kr(t,!0)}function yy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function qa(t){if(t!==Ht)return!1;if(!Be)return yy(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tm(t.type,t.memoizedProps)),a=!a),a&&rt&&kr(t),yy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=qb(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=qb(t)}else s===27?(s=rt,Kr(t.type)?(t=Cm,Cm=null,rt=t):rt=s):rt=Ht?Bn(t.stateNode.nextSibling):null;return!0}function $i(){rt=Ht=null,Be=!1}function af(){var t=Dr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Dr=null),t}function dl(t){Dr===null?Dr=[t]:Dr.push(t)}var of=O(null),Ki=null,Zs=null;function Or(t,s,a){le(of,s._currentValue),s._currentValue=a}function Js(t){t._currentValue=of.current,Z(of)}function lf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function cf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<s.length;D++)if(T.context===s[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),lf(m.return,a,t),l||(v=null);break e}m=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),lf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Fa(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var T=f.type;_n(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===qe.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&cf(s,t,a,l),s.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){Ki=t,Zs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return by(Ki,t)}function vu(t,s){return Ki===null&&Qi(t),by(t,s)}function by(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zs===null){if(t===null)throw Error(i(308));Zs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Zs=Zs.next=s;return a}var HT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},GT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new HT,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&GT($T,function(){t.controller.abort()})}var fl=null,df=0,Ha=0,Ga=null;function KT(t,s){if(fl===null){var a=fl=[];df=0,Ha=mm(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,s.then(vy,vy),s}function vy(){if(--df===0&&fl!==null){Ga!==null&&(Ga.status="fulfilled");var t=fl;fl=null,Ha=0,Ga=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function QT(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _y=Q.S;Q.S=function(t,s){sb=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&KT(t,s),_y!==null&&_y(t,s)};var Yi=O(null);function hf(){var t=Yi.current;return t!==null?t:st.pooledCache}function _u(t,s){s===null?le(Yi,Yi.current):le(Yi,s.pool)}function xy(){var t=hf();return t===null?null:{parent:St._currentValue,pool:t}}var $a=Error(i(460)),ff=Error(i(474)),xu=Error(i(542)),Eu={then:function(){}};function Ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ty(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ts,ts),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ay(t),t;default:if(typeof s.status=="string")s.then(ts,ts);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ay(t),t}throw Zi=s,$a}}function Xi(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zi=a,$a):a}}var Zi=null;function wy(){if(Zi===null)throw Error(i(459));var t=Zi;return Zi=null,t}function Ay(t){if(t===$a||t===xu)throw Error(i(483))}var Ka=null,ml=0;function Tu(t){var s=ml;return ml+=1,Ka===null&&(Ka=[]),Ty(Ka,t,s)}function pl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function wu(t,s){throw s.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Sy(t){function s(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=Ys(L,M),L.index=0,L.sibling=null,L}function m(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,z,J){return M===null||M.tag!==6?(M=ef(z,L.mode,J),M.return=L,M):(M=f(M,z),M.return=L,M)}function D(L,M,z,J){var be=z.type;return be===G?Y(L,M,z.props.children,J,z.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Xi(be)===M.type)?(M=f(M,z.props),pl(M,z),M.return=L,M):(M=gu(z.type,z.key,z.props,null,L.mode,J),pl(M,z),M.return=L,M)}function B(L,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=tf(z,L.mode,J),M.return=L,M):(M=f(M,z.children||[]),M.return=L,M)}function Y(L,M,z,J,be){return M===null||M.tag!==7?(M=Gi(z,L.mode,J,be),M.return=L,M):(M=f(M,z),M.return=L,M)}function ee(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return z=gu(M.type,M.key,M.props,null,L.mode,z),pl(z,M),z.return=L,z;case H:return M=tf(M,L.mode,z),M.return=L,M;case C:return M=Xi(M),ee(L,M,z)}if(De(M)||k(M))return M=Gi(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return ee(L,Tu(M),z);if(M.$$typeof===ie)return ee(L,vu(L,M),z);wu(L,M)}return null}function q(L,M,z,J){var be=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return be!==null?null:T(L,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===be?D(L,M,z,J):null;case H:return z.key===be?B(L,M,z,J):null;case C:return z=Xi(z),q(L,M,z,J)}if(De(z)||k(z))return be!==null?null:Y(L,M,z,J,null);if(typeof z.then=="function")return q(L,M,Tu(z),J);if(z.$$typeof===ie)return q(L,M,vu(L,z),J);wu(L,z)}return null}function K(L,M,z,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,T(M,L,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return L=L.get(J.key===null?z:J.key)||null,D(M,L,J,be);case H:return L=L.get(J.key===null?z:J.key)||null,B(M,L,J,be);case C:return J=Xi(J),K(L,M,z,J,be)}if(De(J)||k(J))return L=L.get(z)||null,Y(M,L,J,be,null);if(typeof J.then=="function")return K(L,M,z,Tu(J),be);if(J.$$typeof===ie)return K(L,M,z,vu(M,J),be);wu(M,J)}return null}function fe(L,M,z,J){for(var be=null,Ge=null,pe=M,je=M=0,Le=null;pe!==null&&je<z.length;je++){pe.index>je?(Le=pe,pe=null):Le=pe.sibling;var $e=q(L,pe,z[je],J);if($e===null){pe===null&&(pe=Le);break}t&&pe&&$e.alternate===null&&s(L,pe),M=m($e,M,je),Ge===null?be=$e:Ge.sibling=$e,Ge=$e,pe=Le}if(je===z.length)return a(L,pe),Be&&Xs(L,je),be;if(pe===null){for(;je<z.length;je++)pe=ee(L,z[je],J),pe!==null&&(M=m(pe,M,je),Ge===null?be=pe:Ge.sibling=pe,Ge=pe);return Be&&Xs(L,je),be}for(pe=l(pe);je<z.length;je++)Le=K(pe,L,je,z[je],J),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?je:Le.key),M=m(Le,M,je),Ge===null?be=Le:Ge.sibling=Le,Ge=Le);return t&&pe.forEach(function(Jr){return s(L,Jr)}),Be&&Xs(L,je),be}function xe(L,M,z,J){if(z==null)throw Error(i(151));for(var be=null,Ge=null,pe=M,je=M=0,Le=null,$e=z.next();pe!==null&&!$e.done;je++,$e=z.next()){pe.index>je?(Le=pe,pe=null):Le=pe.sibling;var Jr=q(L,pe,$e.value,J);if(Jr===null){pe===null&&(pe=Le);break}t&&pe&&Jr.alternate===null&&s(L,pe),M=m(Jr,M,je),Ge===null?be=Jr:Ge.sibling=Jr,Ge=Jr,pe=Le}if($e.done)return a(L,pe),Be&&Xs(L,je),be;if(pe===null){for(;!$e.done;je++,$e=z.next())$e=ee(L,$e.value,J),$e!==null&&(M=m($e,M,je),Ge===null?be=$e:Ge.sibling=$e,Ge=$e);return Be&&Xs(L,je),be}for(pe=l(pe);!$e.done;je++,$e=z.next())$e=K(pe,L,je,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&pe.delete($e.key===null?je:$e.key),M=m($e,M,je),Ge===null?be=$e:Ge.sibling=$e,Ge=$e);return t&&pe.forEach(function(i2){return s(L,i2)}),Be&&Xs(L,je),be}function tt(L,M,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var be=z.key;M!==null;){if(M.key===be){if(be=z.type,be===G){if(M.tag===7){a(L,M.sibling),J=f(M,z.props.children),J.return=L,L=J;break e}}else if(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Xi(be)===M.type){a(L,M.sibling),J=f(M,z.props),pl(J,z),J.return=L,L=J;break e}a(L,M);break}else s(L,M);M=M.sibling}z.type===G?(J=Gi(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=gu(z.type,z.key,z.props,null,L.mode,J),pl(J,z),J.return=L,L=J)}return v(L);case H:e:{for(be=z.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),J=f(M,z.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else s(L,M);M=M.sibling}J=tf(z,L.mode,J),J.return=L,L=J}return v(L);case C:return z=Xi(z),tt(L,M,z,J)}if(De(z))return fe(L,M,z,J);if(k(z)){if(be=k(z),typeof be!="function")throw Error(i(150));return z=be.call(z),xe(L,M,z,J)}if(typeof z.then=="function")return tt(L,M,Tu(z),J);if(z.$$typeof===ie)return tt(L,M,vu(L,z),J);wu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),J=f(M,z),J.return=L,L=J):(a(L,M),J=ef(z,L.mode,J),J.return=L,L=J),v(L)):a(L,M)}return function(L,M,z,J){try{ml=0;var be=tt(L,M,z,J);return Ka=null,be}catch(pe){if(pe===$a||pe===xu)throw pe;var Ge=xn(29,pe,null,L.mode);return Ge.lanes=J,Ge.return=L,Ge}}}var Ji=Sy(!0),Ny=Sy(!1),Mr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=pu(t),uy(t,null,a),s}return mu(t,l,s,a),pu(t)}function gl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Fo(t,a)}}function gf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var yf=!1;function yl(){if(yf){var t=Ga;if(t!==null)throw t}}function bl(t,s,a,l){yf=!1;var f=t.updateQueue;Mr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,B=D.next;D.next=null,v===null?m=B:v.next=B,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(m!==null){var ee=f.baseState;v=0,Y=B=D=null,T=m;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(Ve&q)===q:(l&q)===q){q!==0&&q===Ha&&(yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,xe=T;q=s;var tt=a;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){ee=fe.call(tt,ee,q);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,q=typeof fe=="function"?fe.call(tt,ee,q):fe,q==null)break e;ee=E({},ee,q);break e;case 2:Mr=!0}}q=T.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=K,D=ee):Y=Y.next=K,v|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),qr|=v,t.lanes=v,t.memoizedState=ee}}function Cy(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Ry(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cy(a[t],s)}var Qa=O(null),Au=O(0);function Iy(t,s){t=or,le(Au,t),le(Qa,s),or=t|s.baseLanes}function bf(){le(Au,or),le(Qa,Qa.current)}function vf(){or=Au.current,Z(Qa),Z(Au)}var En=O(null),zn=null;function Pr(t){var s=t.alternate;le(bt,bt.current&1),le(En,t),zn===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(zn=t)}function _f(t){le(bt,bt.current),le(En,t),zn===null&&(zn=t)}function jy(t){t.tag===22?(le(bt,bt.current),le(En,t),zn===null&&(zn=t)):Ur()}function Ur(){le(bt,bt.current),le(En,En.current)}function Tn(t){Z(En),zn===t&&(zn=null),Z(bt)}var bt=O(0);function Su(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||Nm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ws=0,Re=null,We=null,Nt=null,Nu=!1,Ya=!1,Wi=!1,Cu=0,vl=0,Xa=null,YT=0;function ft(){throw Error(i(321))}function xf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!_n(t[a],s[a]))return!1;return!0}function Ef(t,s,a,l,f,m){return Ws=m,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?m0:Lf,Wi=!1,m=a(l,f),Wi=!1,Ya&&(m=ky(s,a,l,f)),Dy(t),m}function Dy(t){Q.H=El;var s=We!==null&&We.next!==null;if(Ws=0,Nt=We=Re=null,Nu=!1,vl=0,Xa=null,s)throw Error(i(300));t===null||Ct||(t=t.dependencies,t!==null&&bu(t)&&(Ct=!0))}function ky(t,s,a,l){Re=t;var f=0;do{if(Ya&&(Xa=null),vl=0,Ya=!1,25<=f)throw Error(i(301));if(f+=1,Nt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=p0,m=s(a,l)}while(Ya);return m}function XT(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?_l(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),s}function Tf(){var t=Cu!==0;return Cu=0,t}function wf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Af(t){if(Nu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Nu=!1}Ws=0,Nt=We=Re=null,Ya=!1,vl=Cu=0,Xa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function vt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=Nt===null?Re.memoizedState:Nt.next;if(s!==null)Nt=s,We=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var s=vl;return vl+=1,Xa===null&&(Xa=[]),t=Ty(Xa,t,s),s=Re,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?m0:Lf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ie)return Gt(t)}throw Error(i(438,String(t)))}function Sf(t){var s=null,a=Re.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ru(),Re.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=N;return s.index++,a}function er(t,s){return typeof s=="function"?s(t):s}function ju(t){var s=vt();return Nf(s,We,t)}function Nf(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var T=v=null,D=null,B=s,Y=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Ve&ee)===ee:(Ws&ee)===ee){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Ha&&(Y=!0);else if((Ws&q)===q){B=B.next,q===Ha&&(Y=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=ee,v=m):D=D.next=ee,Re.lanes|=q,qr|=q;ee=B.action,Wi&&a(m,ee),m=B.hasEagerState?B.eagerState:a(m,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,v=m):D=D.next=q,Re.lanes|=ee,qr|=ee;B=B.next}while(B!==null&&B!==s);if(D===null?v=m:D.next=T,!_n(m,t.memoizedState)&&(Ct=!0,Y&&(a=Ga,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var s=vt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);_n(m,s.memoizedState)||(Ct=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Oy(t,s,a){var l=Re,f=vt(),m=Be;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!_n((We||f).memoizedState,a);if(v&&(f.memoizedState=a,Ct=!0),f=f.queue,jf(Ly.bind(null,l,f,t),[t]),f.getSnapshot!==s||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Vy.bind(null,l,f,a,s),null),st===null)throw Error(i(349));m||(Ws&127)!==0||My(l,s,a)}return a}function My(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Re.updateQueue,s===null?(s=Ru(),Re.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Vy(t,s,a,l){s.value=a,s.getSnapshot=l,Py(s)&&Uy(t)}function Ly(t,s,a){return a(function(){Py(s)&&Uy(t)})}function Py(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!_n(t,a)}catch{return!0}}function Uy(t){var s=Hi(t,2);s!==null&&gn(s,t,2)}function Rf(t){var s=on();if(typeof t=="function"){var a=t;if(t=a(),Wi){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},s}function zy(t,s,a,l){return t.baseState=a,Nf(t,We,typeof l=="function"?l:er)}function ZT(t,s,a,l,f){if(Ou(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,By(s,m)):(m.next=a.next,s.pending=a.next=m)}}function By(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=Q.T,v={};Q.T=v;try{var T=a(f,l),D=Q.S;D!==null&&D(v,T),qy(t,s,T)}catch(B){If(t,s,B)}finally{m!==null&&v.types!==null&&(m.types=v.types),Q.T=m}}else try{m=a(f,l),qy(t,s,m)}catch(B){If(t,s,B)}}function qy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(t,s,l)},function(l){return If(t,s,l)}):Fy(t,s,a)}function Fy(t,s,a){s.status="fulfilled",s.value=a,Hy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,By(t,a)))}function If(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Hy(s),s=s.next;while(s!==l)}t.action=null}function Hy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Gy(t,s){return s}function $y(t,s){if(Be){var a=st.formState;if(a!==null){e:{var l=Re;if(Be){if(rt){t:{for(var f=rt,m=Un;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Bn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:s},a.queue=l,a=d0.bind(null,Re,l),l.dispatch=a,l=Rf(!1),m=Vf.bind(null,Re,!1,l.queue),l=on(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=ZT.bind(null,Re,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Ky(t){var s=vt();return Qy(s,We,t)}function Qy(t,s,a){if(s=Nf(t,s,Gy)[0],t=ju(er)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=_l(s)}catch(v){throw v===$a?xu:v}else l=s;s=vt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Re.flags|=2048,Za(9,{destroy:void 0},JT.bind(null,f,a),null)),[l,m,t]}function JT(t,s){t.action=s}function Yy(t){var s=vt(),a=We;if(a!==null)return Qy(s,a,t);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Za(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Ru(),Re.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Xy(){return vt().memoizedState}function Du(t,s,a,l){var f=on();Re.flags|=t,f.memoizedState=Za(1|s,{destroy:void 0},a,l===void 0?null:l)}function ku(t,s,a,l){var f=vt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&xf(l,We.memoizedState.deps)?f.memoizedState=Za(s,m,a,l):(Re.flags|=t,f.memoizedState=Za(1|s,m,a,l))}function Zy(t,s){Du(8390656,8,t,s)}function jf(t,s){ku(2048,8,t,s)}function WT(t){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Ru(),Re.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Jy(t){var s=vt().memoizedState;return WT({ref:s,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Wy(t,s){return ku(4,2,t,s)}function e0(t,s){return ku(4,4,t,s)}function t0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function n0(t,s,a){a=a!=null?a.concat([t]):null,ku(4,4,t0.bind(null,s,t),a)}function Df(){}function s0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&xf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function r0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&xf(s,l[1]))return l[0];if(l=t(),Wi){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l}function kf(t,s,a){return a===void 0||(Ws&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=ib(),Re.lanes|=t,qr|=t,a)}function i0(t,s,a,l){return _n(a,s)?a:Qa.current!==null?(t=kf(t,a,l),_n(t,s)||(Ct=!0),t):(Ws&42)===0||(Ws&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=a):(t=ib(),Re.lanes|=t,qr|=t,s)}function a0(t,s,a,l,f){var m=W.p;W.p=m!==0&&8>m?m:8;var v=Q.T,T={};Q.T=T,Vf(t,!1,s,a);try{var D=f(),B=Q.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=QT(D,l);xl(t,s,Y,Sn(t))}else xl(t,s,l,Sn(t))}catch(ee){xl(t,s,{then:function(){},status:"rejected",reason:ee},Sn())}finally{W.p=m,v!==null&&T.types!==null&&(v.types=T.types),Q.T=v}}function ew(){}function Of(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=o0(t).queue;a0(t,f,s,ae,a===null?ew:function(){return l0(t),a(l)})}function o0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function l0(t){var s=o0(t);s.next===null&&(s=t.alternate.memoizedState),xl(t,s.next.queue,{},Sn())}function Mf(){return Gt(Pl)}function c0(){return vt().memoizedState}function u0(){return vt().memoizedState}function tw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();t=Vr(a);var l=Lr(s,t,a);l!==null&&(gn(l,s,a),gl(l,s,a)),s={cache:uf()},t.payload=s;return}s=s.return}}function nw(t,s,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)?h0(s,a):(a=Jh(t,s,a,l),a!==null&&(gn(a,t,l),f0(a,s,l)))}function d0(t,s,a){var l=Sn();xl(t,s,a,l)}function xl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))h0(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,T=m(v,a);if(f.hasEagerState=!0,f.eagerState=T,_n(T,v))return mu(t,s,f,0),st===null&&fu(),!1}catch{}if(a=Jh(t,s,f,l),a!==null)return gn(a,t,l),f0(a,s,l),!0}return!1}function Vf(t,s,a,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(s)throw Error(i(479))}else s=Jh(t,a,l,2),s!==null&&gn(s,t,2)}function Ou(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function h0(t,s){Ya=Nu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function f0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Fo(t,a)}}var El={readContext:Gt,use:Iu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};El.useEffectEvent=ft;var m0={readContext:Gt,use:Iu,useCallback:function(t,s){return on().memoizedState=[t,s===void 0?null:s],t},useContext:Gt,useEffect:Zy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Du(4194308,4,t0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Du(4194308,4,t,s)},useInsertionEffect:function(t,s){Du(4,2,t,s)},useMemo:function(t,s){var a=on();s=s===void 0?null:s;var l=t();if(Wi){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=on();if(a!==void 0){var f=a(s);if(Wi){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=nw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var s=on();return t={current:t},s.memoizedState=t},useState:function(t){t=Rf(t);var s=t.queue,a=d0.bind(null,Re,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,s){var a=on();return kf(a,t,s)},useTransition:function(){var t=Rf(!1);return t=a0.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Re,f=on();if(Be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),st===null)throw Error(i(349));(Ve&127)!==0||My(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Zy(Ly.bind(null,l,m,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},Vy.bind(null,l,m,a,s),null),a},useId:function(){var t=on(),s=st.identifierPrefix;if(Be){var a=ks,l=Ds;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Cu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=YT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Mf,useFormState:$y,useActionState:$y,useOptimistic:function(t){var s=on();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Vf.bind(null,Re,!0,a),a.dispatch=s,[t,s]},useMemoCache:Sf,useCacheRefresh:function(){return on().memoizedState=tw.bind(null,Re)},useEffectEvent:function(t){var s=on(),a={impl:t};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Gt,use:Iu,useCallback:s0,useContext:Gt,useEffect:jf,useImperativeHandle:n0,useInsertionEffect:Wy,useLayoutEffect:e0,useMemo:r0,useReducer:ju,useRef:Xy,useState:function(){return ju(er)},useDebugValue:Df,useDeferredValue:function(t,s){var a=vt();return i0(a,We.memoizedState,t,s)},useTransition:function(){var t=ju(er)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:_l(t),s]},useSyncExternalStore:Oy,useId:c0,useHostTransitionStatus:Mf,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,s){var a=vt();return zy(a,We,t,s)},useMemoCache:Sf,useCacheRefresh:u0};Lf.useEffectEvent=Jy;var p0={readContext:Gt,use:Iu,useCallback:s0,useContext:Gt,useEffect:jf,useImperativeHandle:n0,useInsertionEffect:Wy,useLayoutEffect:e0,useMemo:r0,useReducer:Cf,useRef:Xy,useState:function(){return Cf(er)},useDebugValue:Df,useDeferredValue:function(t,s){var a=vt();return We===null?kf(a,t,s):i0(a,We.memoizedState,t,s)},useTransition:function(){var t=Cf(er)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:_l(t),s]},useSyncExternalStore:Oy,useId:c0,useHostTransitionStatus:Mf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,s){var a=vt();return We!==null?zy(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:u0};p0.useEffectEvent=Jy;function Pf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.payload=s,a!=null&&(f.callback=a),s=Lr(t,f,l),s!==null&&(gn(s,t,l),gl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Lr(t,f,l),s!==null&&(gn(s,t,l),gl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Sn(),l=Vr(a);l.tag=2,s!=null&&(l.callback=s),s=Lr(t,l,a),s!==null&&(gn(s,t,a),gl(s,t,a))}};function g0(t,s,a,l,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!ll(a,l)||!ll(f,m):!0}function y0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Uf.enqueueReplaceState(s,s.state,null)}function ea(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function b0(t){hu(t)}function v0(t){console.error(t)}function _0(t){hu(t)}function Mu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function x0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zf(t,s,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,s)},a}function E0(t){return t=Vr(t),t.tag=3,t}function T0(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){x0(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){x0(s,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sw(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Fa(s,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Ku():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Eu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),dm(t,l,f)),!1;case 22:return a.flags|=65536,l===Eu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),dm(t,l,f)),!1}throw Error(i(435,a.tag))}return dm(t,l,f),Ku(),!1}if(Be)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==rf&&(t=Error(i(422),{cause:l}),dl(Vn(t,a)))):(l!==rf&&(s=Error(i(423),{cause:l}),dl(Vn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=zf(t.stateNode,l,f),gf(t,f),mt!==4&&(mt=2)),!1;var m=Error(i(520),{cause:l});if(m=Vn(m,a),Il===null?Il=[m]:Il.push(m),mt!==4&&(mt=2),s===null)return!0;l=Vn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fr===null||!Fr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=E0(f),T0(f,t,a,l),gf(a,f),!1}a=a.return}while(a!==null);return!1}var Bf=Error(i(461)),Ct=!1;function $t(t,s,a,l){s.child=t===null?Ny(s,null,a,l):Ji(s,t.child,a,l)}function w0(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Qi(s),l=Ef(t,s,a,v,m,f),T=Tf(),t!==null&&!Ct?(wf(t,s,f),tr(t,s,f)):(Be&&T&&nf(s),s.flags|=1,$t(t,s,l,f),s.child)}function A0(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Wh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,S0(t,s,m,l,f)):(t=gu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Yf(t,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&t.ref===s.ref)return tr(t,s,f)}return s.flags|=1,t=Ys(m,l),t.ref=s.ref,t.return=s,s.child=t}function S0(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(ll(m,l)&&t.ref===s.ref)if(Ct=!1,s.pendingProps=l=m,Yf(t,f))(t.flags&131072)!==0&&(Ct=!0);else return s.lanes=t.lanes,tr(t,s,f)}return qf(t,s,a,l,f)}function N0(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return C0(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(s,m!==null?m.cachePool:null),m!==null?Iy(s,m):bf(),jy(s);else return l=s.lanes=536870912,C0(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(_u(s,m.cachePool),Iy(s,m),Ur(),s.memoizedState=null):(t!==null&&_u(s,null),bf(),Ur());return $t(t,s,f,a),s.child}function Tl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function C0(t,s,a,l,f){var m=hf();return m=m===null?null:{parent:St._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&_u(s,null),bf(),jy(s),t!==null&&Fa(t,s,l,!0),s.childLanes=f,null}function Vu(t,s){return s=Pu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function R0(t,s,a){return Ji(s,t.child,null,a),t=Vu(s,s.pendingProps),t.flags|=2,Tn(s),s.memoizedState=null,t}function rw(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Vu(s,l),s.lanes=536870912,Tl(null,t);if(_f(s),(t=rt)?(t=Bb(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ds,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=s,s.child=a,Ht=s,rt=null)):t=null,t===null)throw kr(s);return s.lanes=536870912,null}return Vu(s,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(_f(s),f)if(s.flags&256)s.flags&=-257,s=R0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ct||Fa(t,s,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=st,l!==null&&(v=Ho(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Hi(t,v),gn(l,t,v),Bf;Ku(),s=R0(t,s,a)}else t=m.treeContext,rt=Bn(v.nextSibling),Ht=s,Be=!0,Dr=null,Un=!1,t!==null&&py(s,t),s=Vu(s,l),s.flags|=4096;return s}return t=Ys(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Lu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function qf(t,s,a,l,f){return Qi(s),a=Ef(t,s,a,l,void 0,f),l=Tf(),t!==null&&!Ct?(wf(t,s,f),tr(t,s,f)):(Be&&l&&nf(s),s.flags|=1,$t(t,s,a,f),s.child)}function I0(t,s,a,l,f,m){return Qi(s),s.updateQueue=null,a=ky(s,l,a,f),Dy(t),l=Tf(),t!==null&&!Ct?(wf(t,s,m),tr(t,s,m)):(Be&&l&&nf(s),s.flags|=1,$t(t,s,a,m),s.child)}function j0(t,s,a,l,f){if(Qi(s),s.stateNode===null){var m=Ua,v=a.contextType;typeof v=="object"&&v!==null&&(m=Gt(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Uf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},mf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Gt(v):Ua,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Uf.enqueueReplaceState(m,m.state,null),bl(s,l,m,f),yl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,D=ea(a,T);m.props=D;var B=m.context,Y=a.contextType;v=Ua,typeof Y=="object"&&Y!==null&&(v=Gt(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==v)&&y0(s,m,l,v),Mr=!1;var q=s.memoizedState;m.state=q,bl(s,l,m,f),yl(),B=s.memoizedState,T||q!==B||Mr?(typeof ee=="function"&&(Pf(s,a,ee,l),B=s.memoizedState),(D=Mr||g0(s,a,D,l,q,B,v))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=v,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,pf(t,s),v=s.memoizedProps,Y=ea(a,v),m.props=Y,ee=s.pendingProps,q=m.context,B=a.contextType,D=Ua,typeof B=="object"&&B!==null&&(D=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ee||q!==D)&&y0(s,m,l,D),Mr=!1,q=s.memoizedState,m.state=q,bl(s,l,m,f),yl();var K=s.memoizedState;v!==ee||q!==K||Mr||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof T=="function"&&(Pf(s,a,T,l),K=s.memoizedState),(Y=Mr||g0(s,a,Y,l,q,K,D)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Lu(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=Ji(s,t.child,null,f),s.child=Ji(s,null,a,f)):$t(t,s,a,f),s.memoizedState=m.state,t=s.child):t=tr(t,s,f),t}function D0(t,s,a,l){return $i(),s.flags|=256,$t(t,s,a,l),s.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:xy()}}function Gf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=An),t}function k0(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(f?Pr(s):Ur(),(t=rt)?(t=Bb(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ds,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=s,s.child=a,Ht=s,rt=null)):t=null,t===null)throw kr(s);return Nm(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Ur(),f=s.mode,T=Pu({mode:"hidden",children:T},f),l=Gi(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,v,a),s.memoizedState=Ff,Tl(null,l)):(Pr(s),$f(s,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)s.flags&256?(Pr(s),s.flags&=-257,s=Kf(t,s,a)):s.memoizedState!==null?(Ur(),s.child=t.child,s.flags|=128,s=null):(Ur(),T=l.fallback,f=s.mode,l=Pu({mode:"visible",children:l.children},f),T=Gi(T,f,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Ji(s,t.child,null,a),l=s.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,v,a),s.memoizedState=Ff,s=Tl(null,l));else if(Pr(s),Nm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(i(419)),l.stack="",l.digest=v,dl({value:l,source:null,stack:null}),s=Kf(t,s,a)}else if(Ct||Fa(t,s,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=st,v!==null&&(l=Ho(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Hi(t,l),gn(v,t,l),Bf;Sm(T)||Ku(),s=Kf(t,s,a)}else Sm(T)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,rt=Bn(T.nextSibling),Ht=s,Be=!0,Dr=null,Un=!1,t!==null&&py(s,t),s=$f(s,l.children),s.flags|=4096);return s}return f?(Ur(),T=l.fallback,f=s.mode,D=t.child,B=D.sibling,l=Ys(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Ys(B,T):(T=Gi(T,f,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,Tl(null,l),l=s.child,T=t.child.memoizedState,T===null?T=Hf(a):(f=T.cachePool,f!==null?(D=St._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=xy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Gf(t,v,a),s.memoizedState=Ff,Tl(t.child,l)):(Pr(s),a=t.child,t=a.sibling,a=Ys(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function $f(t,s){return s=Pu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Pu(t,s){return t=xn(22,t,null,s),t.lanes=0,t}function Kf(t,s,a){return Ji(s,t.child,null,a),t=$f(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function O0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),lf(t.return,s,a)}function Qf(t,s,a,l,f,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function M0(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=bt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,le(bt,v),$t(t,s,l,a),l=Be?ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,a,s);else if(t.tag===19)O0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Qf(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Su(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Qf(s,!0,a,null,m,l);break;case"together":Qf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function tr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),qr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Fa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Ys(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ys(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Yf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function iw(t,s,a){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),Or(s,St,t.memoizedState.cache),$i();break;case 27:case 5:Si(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:Or(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_f(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?k0(t,s,a):(Pr(s),t=tr(t,s,a),t!==null?t.sibling:null);Pr(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Fa(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return M0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(bt,bt.current),l)break;return null;case 22:return s.lanes=0,N0(t,s,a,s.pendingProps);case 24:Or(s,St,t.memoizedState.cache)}return tr(t,s,a)}function V0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ct=!0;else{if(!Yf(t,a)&&(s.flags&128)===0)return Ct=!1,iw(t,s,a);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(s.flags&1048576)!==0&&my(s,ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Xi(s.elementType),s.type=t,typeof t=="function")Wh(t)?(l=ea(t,l),s.tag=1,s=j0(null,s,t,l,a)):(s.tag=0,s=qf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===me){s.tag=11,s=w0(null,s,t,l,a);break e}else if(f===I){s.tag=14,s=A0(null,s,t,l,a);break e}}throw s=Me(t)||t,Error(i(306,s,""))}}return s;case 0:return qf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ea(l,s.pendingProps),j0(t,s,l,f,a);case 3:e:{if(kt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,pf(t,s),bl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Or(s,St,l),l!==m.cache&&cf(s,[St],a,!0),yl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=D0(t,s,l,a);break e}else if(l!==f){f=Vn(Error(i(424)),s),dl(f),s=D0(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Bn(t.firstChild),Ht=s,Be=!0,Dr=null,Un=!0,a=Ny(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($i(),l===f){s=tr(t,s,a);break e}$t(t,s,l,a)}s=s.child}return s;case 26:return Lu(t,s),t===null?(a=Kb(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,l=ed(Ie.current).createElement(a),l[Tt]=s,l[Lt]=t,Kt(l,a,t),wt(l),s.stateNode=l):s.memoizedState=Kb(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Si(s),t===null&&Be&&(l=s.stateNode=Hb(s.type,s.pendingProps,Ie.current),Ht=s,Un=!0,f=rt,Kr(s.type)?(Cm=f,rt=Bn(l.firstChild)):rt=f),$t(t,s,s.pendingProps.children,a),Lu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((f=l=rt)&&(l=Mw(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Ht=s,rt=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||kr(s)),Si(s),f=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,Tm(f,m)?l=null:v!==null&&Tm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Ef(t,s,XT,null,null,a),Pl._currentValue=f),Lu(t,s),$t(t,s,l,a),s.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=Vw(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Ht=s,rt=null,t=!0):t=!1),t||kr(s)),null;case 13:return k0(t,s,a);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ji(s,null,l,a):$t(t,s,l,a),s.child;case 11:return w0(t,s,s.type,s.pendingProps,a);case 7:return $t(t,s,s.pendingProps,a),s.child;case 8:return $t(t,s,s.pendingProps.children,a),s.child;case 12:return $t(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Or(s,s.type,l.value),$t(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Qi(s),f=Gt(f),l=l(f),s.flags|=1,$t(t,s,l,a),s.child;case 14:return A0(t,s,s.type,s.pendingProps,a);case 15:return S0(t,s,s.type,s.pendingProps,a);case 19:return M0(t,s,a);case 31:return rw(t,s,a);case 22:return N0(t,s,a,s.pendingProps);case 24:return Qi(s),l=Gt(St),t===null?(f=hf(),f===null&&(f=st,m=uf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},mf(s),Or(s,St,f)):((t.lanes&a)!==0&&(pf(t,s),bl(s,null,null,a),yl()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Or(s,St,l)):(l=m.cache,Or(s,St,l),l!==f.cache&&cf(s,[St],a,!0))),$t(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function nr(t){t.flags|=4}function Xf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(cb())t.flags|=8192;else throw Zi=Eu,ff}else t.flags&=-16777217}function L0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jb(s))if(cb())t.flags|=8192;else throw Zi=Eu,ff}function Uu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Gc():536870912,t.lanes|=s,to|=s)}function wl(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function aw(t,s,a){var l=s.pendingProps;switch(sf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Js(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(s)?nr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,af())),it(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(nr(s),m!==null?(it(s),L0(s,m)):(it(s),Xf(s,f,null,l,a))):m?m!==t.memoizedState?(nr(s),it(s),L0(s,m)):(it(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(s),it(s),Xf(s,f,t,l,a)),null;case 27:if(_a(s),a=Ie.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&nr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}t=de.current,qa(s)?gy(s):(t=Hb(f,l,a),s.stateNode=t,nr(s))}return it(s),null;case 5:if(_a(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&nr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(m=de.current,qa(s))gy(s);else{var v=ed(Ie.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[Tt]=s,m[Lt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Kt(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(s)}}return it(s),Xf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&nr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ie.current,qa(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||kb(t.nodeValue,a)),t||kr(s,!0)}else t=ed(t).createTextNode(l),t[Tt]=s,s.stateNode=t}return it(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=qa(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Tt]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Tn(s),s):(Tn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qa(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Tt]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),f=!1}else f=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Tn(s),s):(Tn(s),null)}return Tn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Uu(s,s.updateQueue),it(s),null);case 4:return ot(),t===null&&bm(s.stateNode.containerInfo),it(s),null;case 10:return Js(s.type),it(s),null;case 19:if(Z(bt),l=s.memoizedState,l===null)return it(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)wl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Su(t),m!==null){for(s.flags|=128,wl(l,!1),t=m.updateQueue,s.updateQueue=t,Uu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)dy(a,t),a=a.sibling;return le(bt,bt.current&1|2),Be&&Xs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&rn()>Hu&&(s.flags|=128,f=!0,wl(l,!1),s.lanes=4194304)}else{if(!f)if(t=Su(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Uu(s,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Be)return it(s),null}else 2*rn()-l.renderingStartTime>Hu&&a!==536870912&&(s.flags|=128,f=!0,wl(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=bt.current,le(bt,f?a&1|2:a&1),Be&&Xs(s,l.treeForkCount),t):(it(s),null);case 22:case 23:return Tn(s),vf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&Uu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&Z(Yi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Js(St),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ow(t,s){switch(sf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Js(St),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return _a(s),null;case 31:if(s.memoizedState!==null){if(Tn(s),s.alternate===null)throw Error(i(340));$i()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Tn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));$i()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(bt),null;case 4:return ot(),null;case 10:return Js(s.type),null;case 22:case 23:return Tn(s),vf(),t!==null&&Z(Yi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Js(St),null;case 25:return null;default:return null}}function P0(t,s){switch(sf(s),s.tag){case 3:Js(St),ot();break;case 26:case 27:case 5:_a(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&Tn(s);break;case 13:Tn(s);break;case 19:Z(bt);break;case 10:Js(s.type);break;case 22:case 23:Tn(s),vf(),t!==null&&Z(Yi);break;case 24:Js(St)}}function Al(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(s,s.return,T)}}function zr(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var D=a,B=T;try{B()}catch(Y){Ze(f,D,Y)}}}l=l.next}while(l!==m)}}catch(Y){Ze(s,s.return,Y)}}function U0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Ry(s,a)}catch(l){Ze(t,t.return,l)}}}function z0(t,s,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,s,l)}}function Sl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ze(t,s,f)}}function Os(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(t,s,f)}else a.current=null}function B0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(t,t.return,f)}}function Zf(t,s,a){try{var l=t.stateNode;Rw(l,t.type,a,s),l[Lt]=s}catch(f){Ze(t,t.return,f)}}function q0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ts));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Wf(t,s,a),t=t.sibling;t!==null;)Wf(t,s,a),t=t.sibling}function zu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zu(t,s,a),t=t.sibling;t!==null;)zu(t,s,a),t=t.sibling}function F0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Kt(s,l,a),s[Tt]=t,s[Lt]=a}catch(m){Ze(t,t.return,m)}}var sr=!1,Rt=!1,em=!1,H0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function lw(t,s){if(t=t.containerInfo,xm=od,t=ny(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,D=-1,B=0,Y=0,ee=t,q=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==m||l!==0&&ee.nodeType!==3||(D=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(K=ee.firstChild)!==null;)q=ee,ee=K;for(;;){if(ee===t)break t;if(q===a&&++B===f&&(T=v),q===m&&++Y===l&&(D=v),(K=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:t,selectionRange:a},od=!1,Ut=s;Ut!==null;)if(s=Ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ut=t;else for(;Ut!==null;){switch(s=Ut,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var fe=ea(a.type,f);t=l.getSnapshotBeforeUpdate(fe,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Ze(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ut=t;break}Ut=s.return}}function G0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Al(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var f=ea(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&U0(a),l&512&&Sl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ry(t,s)}catch(v){Ze(a,a.return,v)}}break;case 27:s===null&&l&4&&F0(a);case 26:case 5:ir(t,a),s===null&&l&4&&B0(a),l&512&&Sl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&Q0(t,a);break;case 13:ir(t,a),l&4&&Y0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yw.bind(null,a),Lw(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){s=s!==null&&s.memoizedState!==null||Rt,f=sr;var m=Rt;sr=l,(Rt=s)&&!m?ar(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),sr=f,Rt=m}break;case 30:break;default:ir(t,a)}}function $0(t){var s=t.alternate;s!==null&&(t.alternate=null,$0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Aa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function rr(t,s,a){for(a=a.child;a!==null;)K0(t,s,a),a=a.sibling}function K0(t,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Rt||Os(a,s),rr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Os(a,s);var l=ct,f=hn;Kr(a.type)&&(ct=a.stateNode,hn=!1),rr(t,s,a),Ml(a.stateNode),ct=l,hn=f;break;case 5:Rt||Os(a,s);case 6:if(l=ct,f=hn,ct=null,rr(t,s,a),ct=l,hn=f,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{ct.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:ct!==null&&(hn?(t=ct,Ub(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Ub(ct,a.stateNode));break;case 4:l=ct,f=hn,ct=a.stateNode.containerInfo,hn=!0,rr(t,s,a),ct=l,hn=f;break;case 0:case 11:case 14:case 15:zr(2,a,s),Rt||zr(4,a,s),rr(t,s,a);break;case 1:Rt||(Os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z0(a,s,l)),rr(t,s,a);break;case 21:rr(t,s,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,rr(t,s,a),Rt=l;break;default:rr(t,s,a)}}function Q0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Ze(s,s.return,a)}}}function Y0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Ze(s,s.return,a)}}function cw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new H0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new H0),s;default:throw Error(i(435,t.tag))}}function Bu(t,s){var a=cw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=bw.bind(null,t,l);l.then(f,f)}})}function fn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Kr(T.type)){ct=T.stateNode,hn=!1;break e}break;case 5:ct=T.stateNode,hn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ct===null)throw Error(i(160));K0(m,v,f),ct=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)X0(s,t),s=s.sibling}var os=null;function X0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(s,t),mn(t),l&4&&(zr(3,t,t.return),Al(3,t),zr(5,t,t.return));break;case 1:fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=os;if(fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[_s]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,l,a),m[Tt]=t,wt(m),l=m;break e;case"link":var v=Xb("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=Xb("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Tt]=t,wt(m),l=m}t.stateNode=l}else Zb(f,t.type,t.stateNode);else t.stateNode=Yb(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Zb(f,t.type,t.stateNode):Yb(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Zf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(fn(s,t),mn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(sd=null,f=os,os=td(s.containerInfo),fn(s,t),os=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(s.containerInfo)}catch(fe){Ze(t,t.return,fe)}em&&(em=!1,Z0(t));break;case 4:l=os,os=td(t.stateNode.containerInfo),fn(s,t),mn(t),os=l;break;case 12:fn(s,t),mn(t);break;case 31:fn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 13:fn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=sr,Y=Rt;if(sr=B||f,Rt=Y||D,fn(s,t),Rt=Y,sr=B,mn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||sr||Rt||ta(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ze(D,D.return,fe)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Ze(D,D.return,fe)}}}else if(s.tag===18){if(a===null){D=s;try{var K=D.stateNode;f?zb(K,!0):zb(D.stateNode,!1)}catch(fe){Ze(D,D.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bu(t,a))));break;case 19:fn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 30:break;case 21:break;default:fn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(q0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Jf(t);zu(t,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(dn(v,""),a.flags&=-33);var T=Jf(t);zu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Jf(t);Wf(t,B,D);break;default:throw Error(i(161))}}catch(Y){Ze(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Z0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ir(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)G0(t,s.alternate,s),s=s.sibling}function ta(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:zr(4,s,s.return),ta(s);break;case 1:Os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&z0(s,s.return,a),ta(s);break;case 27:Ml(s.stateNode);case 26:case 5:Os(s,s.return),ta(s);break;case 22:s.memoizedState===null&&ta(s);break;case 30:ta(s);break;default:ta(s)}t=t.sibling}}function ar(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:ar(f,m,a),Al(4,m);break;case 1:if(ar(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Cy(D[f],T)}catch(B){Ze(l,l.return,B)}}a&&v&64&&U0(m),Sl(m,m.return);break;case 27:F0(m);case 26:case 5:ar(f,m,a),a&&l===null&&v&4&&B0(m),Sl(m,m.return);break;case 12:ar(f,m,a);break;case 31:ar(f,m,a),a&&v&4&&Q0(f,m);break;case 13:ar(f,m,a),a&&v&4&&Y0(f,m);break;case 22:m.memoizedState===null&&ar(f,m,a),Sl(m,m.return);break;case 30:break;default:ar(f,m,a)}s=s.sibling}}function tm(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function nm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&hl(t))}function ls(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J0(t,s,a,l),s=s.sibling}function J0(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ls(t,s,a,l),f&2048&&Al(9,s);break;case 1:ls(t,s,a,l);break;case 3:ls(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){ls(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(s,s.return,D)}}else ls(t,s,a,l);break;case 31:ls(t,s,a,l);break;case 13:ls(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?ls(t,s,a,l):Nl(t,s):m._visibility&2?ls(t,s,a,l):(m._visibility|=2,Ja(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&tm(v,s);break;case 24:ls(t,s,a,l),f&2048&&nm(s.alternate,s);break;default:ls(t,s,a,l)}}function Ja(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,T=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(m,v,T,D,f),Al(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Ja(m,v,T,D,f):Nl(m,v):(Y._visibility|=2,Ja(m,v,T,D,f)),f&&B&2048&&tm(v.alternate,v);break;case 24:Ja(m,v,T,D,f),f&&B&2048&&nm(v.alternate,v);break;default:Ja(m,v,T,D,f)}s=s.sibling}}function Nl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&tm(l.alternate,l);break;case 24:Nl(a,l),f&2048&&nm(l.alternate,l);break;default:Nl(a,l)}s=s.sibling}}var Cl=8192;function Wa(t,s,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)W0(t,s,a),t=t.sibling}function W0(t,s,a){switch(t.tag){case 26:Wa(t,s,a),t.flags&Cl&&t.memoizedState!==null&&Yw(a,os,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,s,a);break;case 3:case 4:var l=os;os=td(t.stateNode.containerInfo),Wa(t,s,a),os=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,Wa(t,s,a),Cl=l):Wa(t,s,a));break;default:Wa(t,s,a)}}function eb(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Rl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,nb(l,t)}eb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tb(t),t=t.sibling}function tb(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,qu(t)):Rl(t);break;default:Rl(t)}}function qu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,nb(l,t)}eb(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:zr(8,s,s.return),qu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,qu(s));break;default:qu(s)}t=t.sibling}}function nb(t,s){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if($0(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var uw={getCacheForType:function(t){var s=Gt(St),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},dw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,ke=null,Ve=0,Xe=0,wn=null,Br=!1,eo=!1,sm=!1,or=0,mt=0,qr=0,na=0,rm=0,An=0,to=0,Il=null,pn=null,im=!1,Fu=0,sb=0,Hu=1/0,Gu=null,Fr=null,Mt=0,Hr=null,no=null,lr=0,am=0,om=null,rb=null,jl=0,lm=null;function Sn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:Q.T!==null?mm():$c()}function ib(){if(An===0)if((Ve&536870912)===0||Be){var t=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function gn(t,s,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(so(t,0),Gr(t,Ve,An,!1)),Ii(t,a),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(na|=a),mt===4&&Gr(t,Ve,An,!1)),Ms(t))}function ab(t,s,a){if((Qe&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Jn(t,s),f=l?mw(t,s):um(t,s,!0),m=l;do{if(f===0){eo&&!l&&Gr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!hw(a)){f=um(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=t;f=Il;var D=T.current.memoizedState.isDehydrated;if(D&&(so(T,v).flags|=256),v=um(T,v,!1),v!==2){if(sm&&!D){T.errorRecoveryDisabledLanes|=m,na|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){so(t,0),Gr(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Gr(l,s,An,!Br);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Fu+300-rn(),10<f)){if(Gr(l,s,An,!Br),ys(l,0,!0)!==0)break e;lr=s,l.timeoutHandle=Lb(ob.bind(null,l,a,pn,Gu,im,s,An,na,to,Br,m,"Throttled",-0,0),f);break e}ob(l,a,pn,Gu,im,s,An,na,to,Br,m,null,-0,0)}}break}while(!0);Ms(t)}function ob(t,s,a,l,f,m,v,T,D,B,Y,ee,q,K){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},W0(s,m,ee);var fe=(m&62914560)===m?Fu-rn():(m&4194048)===m?sb-rn():0;if(fe=Xw(ee,fe),fe!==null){lr=m,t.cancelPendingCommit=fe(pb.bind(null,t,s,m,a,l,f,v,T,D,Y,ee,null,q,K)),Gr(t,m,v,!B);return}}pb(t,s,m,a,l,f,v,T,D)}function hw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(t,s,a,l){s&=~rm,s&=~na,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-gt(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&ji(t,a,s)}function $u(){return(Qe&6)===0?(Dl(0),!1):!0}function cm(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Zs=Ki=null,Af(t),Ka=null,ml=0,t=ke;for(;t!==null;)P0(t.alternate,t),t=t.return;ke=null}}function so(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Dw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,cm(),st=t,ke=a=Ys(t.current,null),Ve=s,Xe=0,wn=null,Br=!1,eo=Jn(t,s),sm=!1,to=An=rm=na=qr=mt=0,pn=Il=null,im=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-gt(l),m=1<<f;s|=t[f],l&=~m}return or=s,fu(),a}function lb(t,s){Re=null,Q.H=El,s===$a||s===xu?(s=wy(),Xe=3):s===ff?(s=wy(),Xe=4):Xe=s===Bf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,ke===null&&(mt=1,Mu(t,Vn(s,t.current)))}function cb(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===zn:!1}function ub(){var t=Q.H;return Q.H=El,t===null?El:t}function db(){var t=Q.A;return Q.A=uw,t}function Ku(){mt=4,Br||(Ve&4194048)!==Ve&&En.current!==null||(eo=!0),(qr&134217727)===0&&(na&134217727)===0||st===null||Gr(st,Ve,An,!1)}function um(t,s,a){var l=Qe;Qe|=2;var f=ub(),m=db();(st!==t||Ve!==s)&&(Gu=null,so(t,s)),s=!1;var v=mt;e:do try{if(Xe!==0&&ke!==null){var T=ke,D=wn;switch(Xe){case 8:cm(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var B=Xe;if(Xe=0,wn=null,ro(t,T,D,B),a&&eo){v=0;break e}break;default:B=Xe,Xe=0,wn=null,ro(t,T,D,B)}}fw(),v=mt;break}catch(Y){lb(t,Y)}while(!0);return s&&t.shellSuspendCounter++,Zs=Ki=null,Qe=l,Q.H=f,Q.A=m,ke===null&&(st=null,Ve=0,fu()),v}function fw(){for(;ke!==null;)hb(ke)}function mw(t,s){var a=Qe;Qe|=2;var l=ub(),f=db();st!==t||Ve!==s?(Gu=null,Hu=rn()+500,so(t,s)):eo=Jn(t,s);e:do try{if(Xe!==0&&ke!==null){s=ke;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,ro(t,s,m,1);break;case 2:case 9:if(Ey(m)){Xe=0,wn=null,fb(s);break}s=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Ms(t)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ey(m)?(Xe=0,wn=null,fb(s)):(Xe=0,wn=null,ro(t,s,m,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(v?Jb(v):T.stateNode.complete){Xe=0,wn=null;var D=T.sibling;if(D!==null)ke=D;else{var B=T.return;B!==null?(ke=B,Qu(B)):ke=null}break t}}Xe=0,wn=null,ro(t,s,m,5);break;case 6:Xe=0,wn=null,ro(t,s,m,6);break;case 8:cm(),mt=6;break e;default:throw Error(i(462))}}pw();break}catch(Y){lb(t,Y)}while(!0);return Zs=Ki=null,Q.H=l,Q.A=f,Qe=a,ke!==null?0:(st=null,Ve=0,fu(),mt)}function pw(){for(;ke!==null&&!Uh();)hb(ke)}function hb(t){var s=V0(t.alternate,t,or);t.memoizedProps=t.pendingProps,s===null?Qu(t):ke=s}function fb(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=I0(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=I0(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Af(s);default:P0(a,s),s=ke=dy(s,or),s=V0(a,s,or)}t.memoizedProps=t.pendingProps,s===null?Qu(t):ke=s}function ro(t,s,a,l){Zs=Ki=null,Af(s),Ka=null,ml=0;var f=s.return;try{if(sw(t,f,s,a,Ve)){mt=1,Mu(t,Vn(a,t.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;mt=1,Mu(t,Vn(a,t.current)),ke=null;return}s.flags&32768?(Be||l===1?t=!0:eo||(Ve&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),mb(s,t)):Qu(s)}function Qu(t){var s=t;do{if((s.flags&32768)!==0){mb(s,Br);return}t=s.return;var a=aw(s.alternate,s,or);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);mt===0&&(mt=5)}function mb(t,s){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);mt=6,ke=null}function pb(t,s,a,l,f,m,v,T,D){t.cancelPendingCommit=null;do Yu();while(Mt!==0);if((Qe&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Zh,qh(t,a,m,v,T,D),t===st&&(ke=st=null,Ve=0),no=s,Hr=t,lr=a,am=m,om=f,rb=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vw(xr,function(){return _b(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=W.p,W.p=2,v=Qe,Qe|=4;try{lw(t,s,a)}finally{Qe=v,W.p=f,Q.T=l}}Mt=1,gb(),yb(),bb()}}function gb(){if(Mt===1){Mt=0;var t=Hr,s=no,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=W.p;W.p=2;var f=Qe;Qe|=4;try{X0(s,t);var m=Em,v=ny(t.containerInfo),T=m.focusedElem,D=m.selectionRange;if(v!==T&&T&&T.ownerDocument&&ty(T.ownerDocument.documentElement,T)){if(D!==null&&$h(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var ee=T.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var K=q.getSelection(),fe=T.textContent.length,xe=Math.min(D.start,fe),tt=D.end===void 0?xe:Math.min(D.end,fe);!K.extend&&xe>tt&&(v=tt,tt=xe,xe=v);var L=ey(T,xe),M=ey(T,tt);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(L.node,L.offset),K.removeAllRanges(),xe>tt?(K.addRange(z),K.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),K.addRange(z))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}od=!!xm,Em=xm=null}finally{Qe=f,W.p=l,Q.T=a}}t.current=s,Mt=2}}function yb(){if(Mt===2){Mt=0;var t=Hr,s=no,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=W.p;W.p=2;var f=Qe;Qe|=4;try{G0(t,s.alternate,s)}finally{Qe=f,W.p=l,Q.T=a}}Mt=3}}function bb(){if(Mt===4||Mt===3){Mt=0,Uc();var t=Hr,s=no,a=lr,l=rb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,no=Hr=null,vb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fr=null),Gs(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Zn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=W.p,W.p=2,Q.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];m(T.value,{componentStack:T.stack})}}finally{Q.T=s,W.p=f}}(lr&3)!==0&&Yu(),Ms(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===lm?jl++:(jl=0,lm=t):jl=0,Dl(0)}}function vb(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,hl(s)))}function Yu(){return gb(),yb(),bb(),_b()}function _b(){if(Mt!==5)return!1;var t=Hr,s=am;am=0;var a=Gs(lr),l=Q.T,f=W.p;try{W.p=32>a?32:a,Q.T=null,a=om,om=null;var m=Hr,v=lr;if(Mt=0,no=Hr=null,lr=0,(Qe&6)!==0)throw Error(i(331));var T=Qe;if(Qe|=4,tb(m.current),J0(m,m.current,v,a),Qe=T,Dl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{W.p=f,Q.T=l,vb(t,s)}}function xb(t,s,a){s=Vn(a,s),s=zf(t.stateNode,s,2),t=Lr(t,s,2),t!==null&&(Ii(t,2),Ms(t))}function Ze(t,s,a){if(t.tag===3)xb(t,t,a);else for(;s!==null;){if(s.tag===3){xb(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Vn(a,t),a=E0(2),l=Lr(s,a,2),l!==null&&(T0(a,l,s,t),Ii(l,2),Ms(l));break}}s=s.return}}function dm(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(sm=!0,f.add(a),t=gw.bind(null,t,s,a),s.then(t,t))}function gw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>rn()-Fu?(Qe&2)===0&&so(t,0):rm|=a,to===Ve&&(to=0)),Ms(t)}function Eb(t,s){s===0&&(s=Gc()),t=Hi(t,s),t!==null&&(Ii(t,s),Ms(t))}function yw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Eb(t,a)}function bw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Eb(t,a)}function vw(t,s){return Ot(t,s)}var Xu=null,io=null,hm=!1,Zu=!1,fm=!1,$r=0;function Ms(t){t!==io&&t.next===null&&(io===null?Xu=io=t:io=io.next=t),Zu=!0,hm||(hm=!0,xw())}function Dl(t,s){if(!fm&&Zu){fm=!0;do for(var a=!1,l=Xu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=f&~(v&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Sb(l,m))}else m=Ve,m=ys(l,l===st?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Jn(l,m)||(a=!0,Sb(l,m));l=l.next}while(a);fm=!1}}function _w(){Tb()}function Tb(){Zu=hm=!1;var t=0;$r!==0&&jw()&&(t=$r);for(var s=rn(),a=null,l=Xu;l!==null;){var f=l.next,m=wb(l,s);m===0?(l.next=null,a===null?Xu=f:a.next=f,f===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(Zu=!0)),l=f}Mt!==0&&Mt!==5||Dl(t),$r!==0&&($r=0)}function wb(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-gt(m),T=1<<v,D=f[v];D===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Bh(T,s)):D<=s&&(t.expiredLanes|=T),m&=~T}if(s=st,a=Ve,a=ys(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&_r(l),Gs(a)){case 2:case 8:a=qo;break;case 32:a=xr;break;case 268435456:a=zc;break;default:a=xr}return l=Ab.bind(null,t),a=Ot(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function Ab(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=Ve;return l=ys(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ab(t,l,s),wb(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Ab.bind(null,t):null)}function Sb(t,s){if(Yu())return null;ab(t,s,!0)}function xw(){kw(function(){(Qe&6)!==0?Ot(Bo,_w):Tb()})}function mm(){if($r===0){var t=Ha;t===0&&(t=ps,ps<<=1,(ps&261888)===0&&(ps=256)),$r=t}return $r}function Nb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function Cb(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Ew(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=Nb((f[Lt]||null).action),v=l.submitter;v&&(s=(s=v[Lt]||null)?Nb(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var T=new Cs("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var D=v?Cb(f,v):new FormData(f);Of(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=v?Cb(f,v):new FormData(f),Of(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var pm=0;pm<Xh.length;pm++){var gm=Xh[pm],Tw=gm.toLowerCase(),ww=gm[0].toUpperCase()+gm.slice(1);as(Tw,"on"+ww)}as(iy,"onAnimationEnd"),as(ay,"onAnimationIteration"),as(oy,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(zT,"onTransitionRun"),as(BT,"onTransitionStart"),as(qT,"onTransitionCancel"),as(ly,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Rb(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Y){hu(Y)}f.currentTarget=null,m=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,B=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Y){hu(Y)}f.currentTarget=null,m=D}}}}function Oe(t,s){var a=s[wa];a===void 0&&(a=s[wa]=new Set);var l=t+"__bubble";a.has(l)||(Ib(s,t,2,!1),a.add(l))}function ym(t,s,a){var l=0;s&&(l|=4),Ib(a,t,l,s)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[Ju]){t[Ju]=!0,Go.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||ym(a,!1,t),ym(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ju]||(s[Ju]=!0,ym("selectionchange",!1,s))}}function Ib(t,s,a,l){switch(iv(s)){case 2:var f=Ww;break;case 8:f=e2;break;default:f=km}a=f.bind(null,s,a,t),f=void 0,!Vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function vm(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=xs(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=m=v;continue e}T=T.parentNode}}l=l.return}Nr(function(){var B=m,Y=Dn(a),ee=[];e:{var q=cy.get(t);if(q!==void 0){var K=Cs,fe=t;switch(t){case"keypress":if(Pi(a)===0)break e;case"keydown":case"keyup":K=cu;break;case"focusin":fe="focus",K=zi;break;case"focusout":fe="blur",K=zi;break;case"beforeblur":case"afterblur":K=zi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=b;break;case iy:case ay:case oy:K=nu;break;case ly:K=w;break;case"scroll":case"scrollend":K=sl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qs;break;case"toggle":case"beforetoggle":K=Ce}var xe=(s&4)!==0,tt=!xe&&(t==="scroll"||t==="scrollend"),L=xe?q!==null?q+"Capture":null:q;xe=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=ns(M,L),J!=null&&xe.push(Ol(M,J,z))),tt)break;M=M.return}0<xe.length&&(q=new K(q,fe,null,a,Y),ee.push({event:q,listeners:xe}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==el&&(fe=a.relatedTarget||a.fromElement)&&(xs(fe)||fe[vs]))break e;if((K||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=B,fe=fe?xs(fe):null,fe!==null&&(tt=c(fe),xe=fe.tag,fe!==tt||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(K=null,fe=B),K!==fe)){if(xe=rl,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Qs,J="onPointerLeave",L="onPointerEnter",M="pointer"),tt=K==null?q:bn(K),z=fe==null?q:bn(fe),q=new xe(J,M+"leave",K,a,Y),q.target=tt,q.relatedTarget=z,J=null,xs(Y)===B&&(xe=new xe(L,M+"enter",fe,a,Y),xe.target=z,xe.relatedTarget=tt,J=xe),tt=J,K&&fe)t:{for(xe=Sw,L=K,M=fe,z=0,J=L;J;J=xe(J))z++;J=0;for(var be=M;be;be=xe(be))J++;for(;0<z-J;)L=xe(L),z--;for(;0<J-z;)M=xe(M),J--;for(;z--;){if(L===M||M!==null&&L===M.alternate){xe=L;break t}L=xe(L),M=xe(M)}xe=null}else xe=null;K!==null&&jb(ee,q,K,xe,!1),fe!==null&&tt!==null&&jb(ee,tt,fe,xe,!0)}}e:{if(q=B?bn(B):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var Ge=Qg;else if($g(q))if(Yg)Ge=LT;else{Ge=MT;var pe=OT}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ca(B.elementType)&&(Ge=Qg):Ge=VT;if(Ge&&(Ge=Ge(t,B))){Kg(ee,Ge,a,Y);break e}pe&&pe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Zo(q,"number",q.value)}switch(pe=B?bn(B):window,t){case"focusin":($g(pe)||pe.contentEditable==="true")&&(Va=pe,Kh=B,cl=null);break;case"focusout":cl=Kh=Va=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,sy(ee,a,Y);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":sy(ee,a,Y)}var je;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ma?Bi(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(js&&a.locale!=="ko"&&(Ma||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ma&&(je=nl()):(Ns=Y,tl="value"in Ns?Ns.value:Ns.textContent,Ma=!0)),pe=Wu(B,Le),0<pe.length&&(Le=new Is(Le,t,null,a,Y),ee.push({event:Le,listeners:pe}),je?Le.data=je:(je=Oa(a),je!==null&&(Le.data=je)))),(je=On?IT(t,a):jT(t,a))&&(Le=Wu(B,"onBeforeInput"),0<Le.length&&(pe=new Is("onBeforeInput","beforeinput",null,a,Y),ee.push({event:pe,listeners:Le}),pe.data=je)),Ew(ee,t,B,a,Y)}Rb(ee,s)})}function Ol(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Wu(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ns(t,a),f!=null&&l.unshift(Ol(t,f,m)),f=ns(t,s),f!=null&&l.push(Ol(t,f,m))),t.tag===3)return l;t=t.return}return[]}function Sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jb(t,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,f?(B=ns(a,m),B!=null&&v.unshift(Ol(a,B,D))):f||(B=ns(a,m),B!=null&&v.push(Ol(a,B,D)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var Nw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function Db(t){return(typeof t=="string"?t:""+t).replace(Nw,`
`).replace(Cw,"")}function kb(t,s){return s=Db(s),Db(t)===s}function et(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Wo(t,l,m);break;case"data":if(s!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",f.name,f,null),et(t,s,"formEncType",f.formEncType,f,null),et(t,s,"formMethod",f.formMethod,f,null),et(t,s,"formTarget",f.formTarget,f,null)):(et(t,s,"encType",f.encType,f,null),et(t,s,"method",f.method,f,null),et(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ts);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wc.get(a)||a,Sa(t,a,l))}}function _m(t,s,a,l,f,m){switch(a){case"style":Wo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[Lt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Kt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,m,v,a,null)}}f&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=m=v=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:et(t,s,l,Y,a,null)}}Xc(t,m,T,D,B,v,f,!1);return;case"select":Oe("invalid",t),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,s,f,T,a,null)}s=m,a=v,t.multiple=!!l,s!=null?Tr(t,!!l,s,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:et(t,s,v,T,a,null)}wr(t,l,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,s,D,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Oe(kl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,B,l,a,null)}return;default:if(Ca(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&_m(t,s,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,s,T,l,a,null))}function Rw(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,T=null,D=null,B=null,Y=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(K)||et(t,s,K,null,l,ee)}}for(var q in l){var K=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(K!=null||ee!=null))switch(q){case"type":m=K;break;case"name":f=K;break;case"checked":B=K;break;case"defaultChecked":Y=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==ee&&et(t,s,q,K,l,ee)}}Na(t,v,T,D,B,Y,m,f);return;case"select":K=v=T=q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(m)||et(t,s,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":q=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==D&&et(t,s,f,m,l,D)}s=T,a=v,l=K,q!=null?Tr(t,!!a,q,!1):!!l!=!!a&&(s!=null?Tr(t,!!a,s,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,s,T,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&et(t,s,v,f,l,m)}Zc(t,q,K);return;case"option":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:et(t,s,fe,null,l,q));for(D in l)q=l[D],K=a[D],l.hasOwnProperty(D)&&q!==K&&(q!=null||K!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":et(t,s,D,q,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)q=a[xe],a.hasOwnProperty(xe)&&q!=null&&!l.hasOwnProperty(xe)&&et(t,s,xe,null,l,q);for(B in l)if(q=l[B],K=a[B],l.hasOwnProperty(B)&&q!==K&&(q!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:et(t,s,B,q,l,K)}return;default:if(Ca(s)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!l.hasOwnProperty(tt)&&_m(t,s,tt,void 0,l,q);for(Y in l)q=l[Y],K=a[Y],!l.hasOwnProperty(Y)||q===K||q===void 0&&K===void 0||_m(t,s,Y,q,l,K);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&et(t,s,L,null,l,q);for(ee in l)q=l[ee],K=a[ee],!l.hasOwnProperty(ee)||q===K||q==null&&K==null||et(t,s,ee,q,l,K)}function Ob(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,T=f.duration;if(m&&T&&Ob(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var Y=D.transferSize,ee=D.initiatorType;Y&&Ob(ee)&&(D=D.responseEnd,v+=Y*(D<T?1:(T-B)/(D-B)))}if(--l,s+=8*(m+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xm=null,Em=null;function ed(t){return t.nodeType===9?t:t.ownerDocument}function Mb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vb(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Tm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wm=null;function jw(){var t=window.event;return t&&t.type==="popstate"?t===wm?!1:(wm=t,!0):(wm=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(t){return Pb.resolve(null).then(t).catch(Ow)}:Lb;function Ow(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function Ub(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),co(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[_s]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);co(s)}function zb(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Am(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mw(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Vw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Bb(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function Sm(t){return t.data==="$?"||t.data==="$~"}function Nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Cm=null;function qb(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Fb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Hb(t,s,a){switch(s=ed(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ml(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Aa(t)}var qn=new Map,Gb=new Set;function td(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=W.d;W.d={f:Pw,r:Uw,D:zw,C:Bw,L:qw,m:Fw,X:Gw,S:Hw,M:$w};function Pw(){var t=cr.f(),s=$u();return t||s}function Uw(t){var s=jn(t);s!==null&&s.tag===5&&s.type==="form"?l0(s):cr.r(t)}var ao=typeof document>"u"?null:document;function $b(t,s,a){var l=ao;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Gb.has(f)||(Gb.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function zw(t){cr.D(t),$b("dns-prefetch",t,null)}function Bw(t,s){cr.C(t,s),$b("preconnect",t,s)}function qw(t,s,a){cr.L(t,s,a);var l=ao;if(l&&t&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(s){case"style":m=oo(t);break;case"script":m=lo(t)}qn.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),qn.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(Vl(m))||s==="script"&&l.querySelector(Ll(m))||(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function Fw(t,s){cr.m(t,s);var a=ao;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=lo(t)}if(!qn.has(m)&&(t=E({rel:"modulepreload",href:t},s),qn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(m)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function Hw(t,s,a){cr.S(t,s,a);var l=ao;if(l&&t){var f=Es(l).hoistableStyles,m=oo(t);s=s||"default";var v=f.get(m);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Vl(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=qn.get(m))&&Rm(t,a);var D=v=l.createElement("link");wt(D),Kt(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,nd(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(m,v)}}}function Gw(t,s){cr.X(t,s);var a=ao;if(a&&t){var l=Es(a).hoistableScripts,f=lo(t),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(t=E({src:t,async:!0},s),(s=qn.get(f))&&Im(t,s),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function $w(t,s){cr.M(t,s);var a=ao;if(a&&t){var l=Es(a).hoistableScripts,f=lo(t),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=qn.get(f))&&Im(t,s),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Kb(t,s,a,l){var f=(f=Ie.current)?td(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=oo(a.href),a=Es(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var m=Es(f).hoistableStyles,v=m.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=f.querySelector(Vl(t)))&&!m._p&&(v.instance=m,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),m||Kw(f,t,a,v.state))),s&&l===null)throw Error(i(528,""));return v}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(a),a=Es(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function oo(t){return'href="'+un(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Qb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Kw(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kt(s,"link",a),wt(s),t.head.appendChild(s))}function lo(t){return'[src="'+un(t)+'"]'}function Ll(t){return"script[async]"+t}function Yb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,wt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",f),nd(l,a.precedence,t),s.instance=l;case"stylesheet":f=oo(a.href);var m=t.querySelector(Vl(f));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;l=Qb(a),(f=qn.get(f))&&Rm(l,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var v=m;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Kt(m,"link",l),s.state.loading|=4,nd(m,a.precedence,t),s.instance=m;case"script":return m=lo(a.src),(f=t.querySelector(Ll(m)))?(s.instance=f,wt(f),f):(l=a,(f=qn.get(m))&&(l=E({},a),Im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Kt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,nd(l,a.precedence,t));return s.instance}function nd(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Rm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Im(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var sd=null;function Xb(t,s,a){if(sd===null){var l=new Map,f=sd=new Map;f.set(a,l)}else f=sd,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[_s]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var T=l.get(v);T?T.push(m):l.set(v,[m])}}return l}function Zb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Qw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yw(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),m=s.querySelector(Vl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=rd.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=s.ownerDocument||s,l=Qb(l),(f=qn.get(f))&&Rm(l,f),m=m.createElement("link"),wt(m);var v=m;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Kt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rd.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var jm=0;function Xw(t,s){return t.stylesheets&&t.count===0&&ad(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ad(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&jm===0&&(jm=62500*Iw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ad(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>jm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var id=null;function ad(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,id=new Map,s.forEach(Zw,t),id=null,rd.call(t))}function Zw(t,s){if(!(s.state.loading&4)){var a=id.get(t);if(a)var l=a.get(null);else{a=new Map,id.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=rd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Pl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Jw(t,s,a,l,f,m,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Wb(t,s,a,l,f,m,v,T,D,B,Y,ee){return t=new Jw(t,s,a,v,D,B,Y,ee,T),s=1,m===!0&&(s|=24),m=xn(3,null,null,s),t.current=m,m.stateNode=t,s=uf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},mf(m),t}function ev(t){return t?(t=Ua,t):Ua}function tv(t,s,a,l,f,m){f=ev(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Lr(t,l,s),a!==null&&(gn(a,t,s),gl(a,t,s))}function nv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Dm(t,s){nv(t,s),(t=t.alternate)&&nv(t,s)}function sv(t){if(t.tag===13||t.tag===31){var s=Hi(t,67108864);s!==null&&gn(s,t,67108864),Dm(t,67108864)}}function rv(t){if(t.tag===13||t.tag===31){var s=Sn();s=Di(s);var a=Hi(t,s);a!==null&&gn(a,t,s),Dm(t,s)}}var od=!0;function Ww(t,s,a,l){var f=Q.T;Q.T=null;var m=W.p;try{W.p=2,km(t,s,a,l)}finally{W.p=m,Q.T=f}}function e2(t,s,a,l){var f=Q.T;Q.T=null;var m=W.p;try{W.p=8,km(t,s,a,l)}finally{W.p=m,Q.T=f}}function km(t,s,a,l){if(od){var f=Om(l);if(f===null)vm(t,s,l,ld,a),av(t,l);else if(n2(f,t,s,a,l))l.stopPropagation();else if(av(t,l),s&4&&-1<t2.indexOf(t)){for(;f!==null;){var m=jn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=gs(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-gt(v);T.entanglements[1]|=D,v&=~D}Ms(m),(Qe&6)===0&&(Hu=rn()+500,Dl(0))}}break;case 31:case 13:T=Hi(m,2),T!==null&&gn(T,m,2),$u(),Dm(m,2)}if(m=Om(l),m===null&&vm(t,s,l,ld,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else vm(t,s,l,null,a)}}function Om(t){return t=Dn(t),Mm(t)}var ld=null;function Mm(t){if(ld=null,t=xs(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ld=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case Bo:return 2;case qo:return 8;case xr:case zh:return 32;case zc:return 268435456;default:return 32}default:return 32}}var Vm=!1,Qr=null,Yr=null,Xr=null,Ul=new Map,zl=new Map,Zr=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(t,s){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ul.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(s.pointerId)}}function Bl(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=jn(s),s!==null&&sv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function n2(t,s,a,l,f){switch(s){case"focusin":return Qr=Bl(Qr,t,s,a,l,f),!0;case"dragenter":return Yr=Bl(Yr,t,s,a,l,f),!0;case"mouseover":return Xr=Bl(Xr,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Ul.set(m,Bl(Ul.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,zl.set(m,Bl(zl.get(m)||null,t,s,a,l,f)),!0}return!1}function ov(t){var s=xs(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){rv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){rv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return s=jn(a),s!==null&&sv(s),t.blockedOn=a,!1;s.shift()}return!0}function lv(t,s,a){cd(t)&&a.delete(s)}function s2(){Vm=!1,Qr!==null&&cd(Qr)&&(Qr=null),Yr!==null&&cd(Yr)&&(Yr=null),Xr!==null&&cd(Xr)&&(Xr=null),Ul.forEach(lv),zl.forEach(lv)}function ud(t,s){t.blockedOn===s&&(t.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,s2)))}var dd=null;function cv(t){dd!==t&&(dd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dd===t&&(dd=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var m=jn(a);m!==null&&(t.splice(s,3),s-=3,Of(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(t){function s(D){return ud(D,t)}Qr!==null&&ud(Qr,t),Yr!==null&&ud(Yr,t),Xr!==null&&ud(Xr,t),Ul.forEach(s),zl.forEach(s);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)ov(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Lt]||null;if(typeof m=="function")v||cv(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Lt]||null)T=v.formAction;else if(Mm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),cv(a)}}}function uv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Lm(t){this._internalRoot=t}hd.prototype.render=Lm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Sn();tv(a,l,t,s,null,null)},hd.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;tv(t.current,2,null,t,null,null),$u(),s[vs]=null}};function hd(t){this._internalRoot=t}hd.prototype.unstable_scheduleHydration=function(t){if(t){var s=$c();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Zr.length&&s!==0&&s<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&ov(t)}};var dv=e.version;if(dv!=="19.2.3")throw Error(i(527,dv,"19.2.3"));W.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var r2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Zn=fd.inject(r2),qt=fd}catch{}}return Fl.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=b0,m=v0,v=_0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Wb(t,1,!1,null,null,a,l,null,f,m,v,uv),t[vs]=s.current,bm(t),new Lm(s)},Fl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=b0,v=v0,T=_0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Wb(t,1,!0,s,a??null,l,f,D,m,v,T,uv),s.context=ev(null),a=s.current,l=Sn(),l=Di(l),f=Vr(l),f.callback=null,Lr(a,f,l),a=l,s.current.lanes=a,Ii(s,a),Ms(s),t[vs]=s.current,bm(t),new hd(s)},Fl.version="19.2.3",Fl}var xv;function p2(){if(xv)return zm.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=m2(),zm.exports}var g2=p2();const y2=fx(g2);var Ev="popstate";function b2(r={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=pa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),op("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:cc(c))}function i(o,c){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return _2(e,n,i,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v2(){return Math.random().toString(36).substring(2,10)}function Tv(r,e){return{usr:r.state,key:r.key,idx:e}}function op(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:n,key:e&&e.key||i||v2()}}function cc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function _2(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let F=x(),se=F==null?null:F-y;y=F,g&&g({action:p,location:G.location,delta:se})}function S(F,se){p="PUSH";let ne=op(G.location,F,se);n&&n(ne,F),y=x()+1;let ie=Tv(ne,y),me=G.createHref(ne);try{h.pushState(ie,"",me)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(me)}c&&g&&g({action:p,location:G.location,delta:1})}function V(F,se){p="REPLACE";let ne=op(G.location,F,se);n&&n(ne,F),y=x();let ie=Tv(ne,y),me=G.createHref(ne);h.replaceState(ie,"",me),c&&g&&g({action:p,location:G.location,delta:0})}function H(F){return x2(F)}let G={get action(){return p},get location(){return r(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,E),g=F,()=>{o.removeEventListener(Ev,E),g=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let se=H(F);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:S,replace:V,go(F){return h.go(F)}};return G}function x2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:cc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function mx(r,e,n="/"){return E2(r,e,n,!1)}function E2(r,e,n,i){let o=typeof e=="string"?pa(e):e,c=fr(o.pathname||"/",n);if(c==null)return null;let h=px(r);T2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=O2(c);p=D2(h[g],y,i)}return p}function px(r,e=[],n=[],i="",o=!1){let c=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;ut(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let E=hr([i,x.relativePath]),S=n.concat(x);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),px(h.children,e,S,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:I2(E,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of gx(h.path))c(h,p,!0,g)}),e}function gx(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let h=gx(i.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function T2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:j2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var w2=/^:[\w-]+$/,A2=3,S2=2,N2=1,C2=10,R2=-2,wv=r=>r==="*";function I2(r,e){let n=r.split("/"),i=n.length;return n.some(wv)&&(i+=R2),e&&(i+=S2),n.filter(o=>!wv(o)).reduce((o,c)=>o+(w2.test(c)?A2:c===""?N2:C2),i)}function j2(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function D2(r,e,n=!1){let{routesMeta:i}=r,o={},c="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Ld({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=Ld({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:hr([c,E.pathname]),pathnameBase:P2(hr([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=hr([c,E.pathnameBase]))}return h}function Ld(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=k2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let H=p[S]||"";h=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const V=p[S];return E&&!V?y[x]=void 0:y[x]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function k2(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function O2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M2=r=>yx.test(r);function V2(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?pa(r):r,c;if(n)if(M2(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Av(n.substring(1),"/"):c=Av(n,e)}else c=e;return{pathname:c,search:U2(i),hash:z2(o)}}function Av(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bx(r){let e=L2(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function vx(r,e,n,i=!1){let o;typeof r=="string"?o=pa(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=V2(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),P2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),U2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,z2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,B2=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function q2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function F2(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xx(r,e){let n=r;if(typeof n!="string"||!yx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(_x)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=fr(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ex=["POST","PUT","PATCH","DELETE"];new Set(Ex);var H2=["GET",...Ex];new Set(H2);var Ro=P.createContext(null);Ro.displayName="DataRouter";var oh=P.createContext(null);oh.displayName="DataRouterState";var G2=P.createContext(!1),Tx=P.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var $2=P.createContext(new Map);$2.displayName="Fetchers";var K2=P.createContext(null);K2.displayName="Await";var Xn=P.createContext(null);Xn.displayName="Navigation";var Ec=P.createContext(null);Ec.displayName="Location";var fs=P.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var Vp=P.createContext(null);Vp.displayName="RouteError";var wx="REACT_ROUTER_ERROR",Q2="REDIRECT",Y2="ROUTE_ERROR_RESPONSE";function X2(r){if(r.startsWith(`${wx}:${Q2}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Z2(r){if(r.startsWith(`${wx}:${Y2}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new B2(e.status,e.statusText,e.data)}catch{}}function J2(r,{relative:e}={}){ut(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Xn),{hash:o,pathname:c,search:h}=wc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:hr([n,c])),i.createHref({pathname:p,search:h,hash:o})}function Tc(){return P.useContext(Ec)!=null}function vr(){return ut(Tc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ec).location}var Ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sx(r){P.useContext(Xn).static||P.useLayoutEffect(r)}function Io(){let{isDataRoute:r}=P.useContext(fs);return r?fA():W2()}function W2(){ut(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Ro),{basename:e,navigator:n}=P.useContext(Xn),{matches:i}=P.useContext(fs),{pathname:o}=vr(),c=JSON.stringify(bx(i)),h=P.useRef(!1);return Sx(()=>{h.current=!0}),P.useCallback((g,y={})=>{if(Yn(h.current,Ax),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=vx(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:hr([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,r])}var eA=P.createContext(null);function tA(r){let e=P.useContext(fs).outlet;return P.useMemo(()=>e&&P.createElement(eA.Provider,{value:r},e),[e,r])}function Lp(){let{matches:r}=P.useContext(fs),e=r[r.length-1];return e?e.params:{}}function wc(r,{relative:e}={}){let{matches:n}=P.useContext(fs),{pathname:i}=vr(),o=JSON.stringify(bx(n));return P.useMemo(()=>vx(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function nA(r,e){return Nx(r,e)}function Nx(r,e,n,i,o){ut(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(Xn),{matches:h}=P.useContext(fs),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let ne=E&&E.path||"";Rx(y,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=vr(),V;if(e){let ne=typeof e=="string"?pa(e):e;ut(x==="/"||ne.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=S;let H=V.pathname||"/",G=H;if(x!=="/"){let ne=x.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let F=mx(r,{pathname:G});Yn(E||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Yn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=oA(F&&F.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:hr([x,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?x:hr([x,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,i,o);return e&&se?P.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},se):se}function sA(){let r=hA(),e=q2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var rA=P.createElement(sA,null),Cx=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Z2(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(fs.Provider,{value:this.props.routeContext},P.createElement(Vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(iA,{error:r},e):e}};Cx.contextType=G2;var Gm=new WeakMap;function iA({children:r,error:e}){let{basename:n}=P.useContext(Xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=X2(e.digest);if(i){let o=Gm.get(e);if(o)throw o;let c=xx(i.location,n);if(_x&&!Gm.get(e))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw Gm.set(e,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function aA({routeContext:r,match:e,children:n}){let i=P.useContext(Ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(fs.Provider,{value:r},n)}function oA(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:V}=n,H=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||H){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&i?(x,E)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:F2(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let V,H=!1,G=null,F=null;n&&(V=h&&E.route.id?h[E.route.id]:void 0,G=E.route.errorElement||rA,p&&(g<0&&S===0?(Rx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):g===S&&(H=!0,F=E.route.hydrateFallbackElement||null)));let se=e.concat(c.slice(0,S+1)),ne=()=>{let ie;return V?ie=G:H?ie=F:E.route.Component?ie=P.createElement(E.route.Component,null):E.route.element?ie=E.route.element:ie=x,P.createElement(aA,{match:E,routeContext:{outlet:x,matches:se,isDataRoute:n!=null},children:ie})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(Cx,{location:n.location,revalidation:n.revalidation,component:G,error:V,children:ne(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:y}):ne()},null)}function Pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let e=P.useContext(Ro);return ut(e,Pp(r)),e}function cA(r){let e=P.useContext(oh);return ut(e,Pp(r)),e}function uA(r){let e=P.useContext(fs);return ut(e,Pp(r)),e}function Up(r){let e=uA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function dA(){return Up("useRouteId")}function hA(){let r=P.useContext(Vp),e=cA("useRouteError"),n=Up("useRouteError");return r!==void 0?r:e.errors?.[n]}function fA(){let{router:r}=lA("useNavigate"),e=Up("useNavigate"),n=P.useRef(!1);return Sx(()=>{n.current=!0}),P.useCallback(async(o,c={})=>{Yn(n.current,Ax),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Sv={};function Rx(r,e,n){!e&&!Sv[r]&&(Sv[r]=!0,Yn(!1,n))}P.memo(mA);function mA({routes:r,future:e,state:n,onError:i}){return Nx(r,void 0,n,i,e)}function pA(r){return tA(r.context)}function Fn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ut(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=pa(n));let{pathname:y="/",search:x="",hash:E="",state:S=null,key:V="default"}=n,H=P.useMemo(()=>{let G=fr(y,p);return G==null?null:{location:{pathname:G,search:x,hash:E,state:S,key:V},navigationType:i}},[p,y,x,E,S,V,i]);return Yn(H!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Xn.Provider,{value:g},P.createElement(Ec.Provider,{children:e,value:H}))}function yA({children:r,location:e}){return nA(lp(r),e)}function lp(r,e=[]){let n=[];return P.Children.forEach(r,(i,o)=>{if(!P.isValidElement(i))return;let c=[...e,o];if(i.type===P.Fragment){n.push.apply(n,lp(i.props.children,c));return}ut(i.type===Fn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=lp(i.props.children,c)),n.push(h)}),n}var Ad="get",Sd="application/x-www-form-urlencoded";function lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function bA(r){return lh(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return lh(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return lh(r)&&r.tagName.toLowerCase()==="input"}function xA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function EA(r,e){return r.button===0&&(!e||e==="_self")&&!xA(r)}var md=null;function TA(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var wA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!wA.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):r}function AA(r,e){let n,i,o,c,h;if(vA(r)){let p=r.getAttribute("action");i=p?fr(p,e):null,n=r.getAttribute("method")||Ad,o=$m(r.getAttribute("enctype"))||Sd,c=new FormData(r)}else if(bA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?fr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Ad,o=$m(r.getAttribute("formenctype"))||$m(p.getAttribute("enctype"))||Sd,c=new FormData(p,r),!TA()){let{name:y,type:x,value:E}=r;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ad,i=null,o=Sd,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function SA(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function NA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RA(r,e,n){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await NA(c,n);return h.links?h.links():[]}return[]}));return kA(i.flat(1).filter(CA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(r,e,n,i,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function IA(r,e,{includeHydrateFallback:n}={}){return jA(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function jA(r){return[...new Set(r)]}function DA(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function kA(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(DA(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function Ix(){let r=P.useContext(Ro);return zp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OA(){let r=P.useContext(oh);return zp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bp=P.createContext(void 0);Bp.displayName="FrameworkContext";function jx(){let r=P.useContext(Bp);return zp(r,"You must render this element inside a <HydratedRouter> element"),r}function MA(r,e){let n=P.useContext(Bp),[i,o]=P.useState(!1),[c,h]=P.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=se=>{se.forEach(ne=>{h(ne.isIntersecting)})},F=new IntersectionObserver(G,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),P.useEffect(()=>{if(i){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[i]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Hl(p,V),onBlur:Hl(g,H),onMouseEnter:Hl(y,V),onMouseLeave:Hl(x,H),onTouchStart:Hl(E,V)}]:[!1,S,{}]}function Hl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function VA({page:r,...e}){let{router:n}=Ix(),i=P.useMemo(()=>mx(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?P.createElement(PA,{page:r,matches:i,...e}):null}function LA(r){let{manifest:e,routeModules:n}=jx(),[i,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return RA(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),i}function PA({page:r,matches:e,...n}){let i=vr(),{future:o,manifest:c,routeModules:h}=jx(),{basename:p}=Ix(),{loaderData:g,matches:y}=OA(),x=P.useMemo(()=>Nv(r,e,y,c,i,"data"),[r,e,y,c,i]),E=P.useMemo(()=>Nv(r,e,y,c,i,"assets"),[r,e,y,c,i]),S=P.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let G=new Set,F=!1;if(e.forEach(ne=>{let ie=c.routes[ne.route.id];!ie||!ie.hasLoader||(!x.some(me=>me.route.id===ne.route.id)&&ne.route.id in g&&h[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?F=!0:G.add(ne.route.id))}),G.size===0)return[];let se=SA(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&G.size>0&&se.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[se.pathname+se.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,c,x,e,r,h]),V=P.useMemo(()=>IA(E,c),[E,c]),H=LA(E);return P.createElement(P.Fragment,null,S.map(G=>P.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),V.map(G=>P.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),H.map(({key:G,link:F})=>P.createElement("link",{key:G,nonce:n.nonce,...F})))}function UA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zA&&(window.__reactRouterVersion="7.12.0")}catch{}function BA({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=P.useRef();o.current==null&&(o.current=b2({window:i,v5Compat:!0}));let c=o.current,[h,p]=P.useState({action:c.action,location:c.location}),g=P.useCallback(y=>{n===!1?p(y):P.startTransition(()=>p(y))},[n]);return P.useLayoutEffect(()=>c.listen(g),[c,g]),P.createElement(gA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H){let{basename:G,unstable_useTransitions:F}=P.useContext(Xn),se=typeof y=="string"&&Dx.test(y),ne=xx(y,G);y=ne.to;let ie=J2(y,{relative:o}),[me,re,ue]=MA(i,V),I=GA(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function C(N){e&&e(N),N.defaultPrevented||I(N)}let A=P.createElement("a",{...V,...ue,href:ne.absoluteURL||ie,onClick:ne.isExternal||c?e:C,ref:UA(H,re),target:g,"data-discover":!se&&n==="render"?"true":void 0});return me&&!se?P.createElement(P.Fragment,null,A,P.createElement(VA,{page:ie})):A});Gn.displayName="Link";var qA=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},x){let E=wc(h,{relative:y.relative}),S=vr(),V=P.useContext(oh),{navigator:H,basename:G}=P.useContext(Xn),F=V!=null&&XA(E)&&p===!0,se=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,ne=S.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,se=se.toLowerCase()),ie&&G&&(ie=fr(ie,G)||ie);const me=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let re=ne===se||!o&&ne.startsWith(se)&&ne.charAt(me)==="/",ue=ie!=null&&(ie===se||!o&&ie.startsWith(se)&&ie.charAt(se.length)==="/"),I={isActive:re,isPending:ue,isTransitioning:F},C=re?e:void 0,A;typeof i=="function"?A=i(I):A=[i,re?"active":null,ue?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(I):c;return P.createElement(Gn,{...y,"aria-current":C,className:A,ref:x,style:N,to:h,viewTransition:p},typeof g=="function"?g(I):g)});qA.displayName="NavLink";var FA=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:c,method:h=Ad,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H)=>{let{unstable_useTransitions:G}=P.useContext(Xn),F=QA(),se=YA(p,{relative:y}),ne=h.toLowerCase()==="get"?"get":"post",ie=typeof p=="string"&&Dx.test(p),me=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ue=re.nativeEvent.submitter,I=ue?.getAttribute("formmethod")||h,C=()=>F(ue||re.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S});G&&n!==!1?P.startTransition(()=>C()):C()};return P.createElement("form",{ref:H,method:ne,action:se,onSubmit:i?g:me,...V,"data-discover":!ie&&r==="render"?"true":void 0})});FA.displayName="Form";function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kx(r){let e=P.useContext(Ro);return ut(e,HA(r)),e}function GA(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Io(),x=vr(),E=wc(r,{relative:c});return P.useCallback(S=>{if(EA(S,e)){S.preventDefault();let V=n!==void 0?n:cc(x)===cc(E),H=()=>y(r,{replace:V,state:i,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?P.startTransition(()=>H()):H()}},[x,y,E,n,i,e,r,o,c,h,p,g])}var $A=0,KA=()=>`__${String(++$A)}__`;function QA(){let{router:r}=kx("useSubmit"),{basename:e}=P.useContext(Xn),n=dA(),i=r.fetch,o=r.navigate;return P.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=AA(c,e);if(h.navigate===!1){let S=h.fetcherKey||KA();await i(S,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,o,e,n])}function YA(r,{relative:e}={}){let{basename:n}=P.useContext(Xn),i=P.useContext(fs);ut(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...wc(r||".",{relative:e})},h=vr();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:hr([n,c.pathname])),cc(c)}function XA(r,{relative:e}={}){let n=P.useContext(Tx);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kx("useViewTransitionState"),o=wc(r,{relative:e});if(!n.isTransitioning)return!1;let c=fr(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ld(o.pathname,h)!=null||Ld(o.pathname,c)!=null}const ZA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Cv=r=>{const e=JA(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ox=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),WA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tS=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...p},g)=>P.createElement("svg",{ref:g,...eS,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:Ox("lucide",o),...!c&&!WA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>P.createElement(y,x)),...Array.isArray(c)?c:[c]]));const ve=(r,e)=>{const n=P.forwardRef(({className:i,...o},c)=>P.createElement(tS,{ref:c,iconNode:e,className:Ox(`lucide-${ZA(Cv(r))}`,`lucide-${r}`,i),...o}));return n.displayName=Cv(r),n};const nS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ch=ve("arrow-left",nS);const sS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mx=ve("arrow-right",sS);const rS=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Vx=ve("bed-double",rS);const iS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],qp=ve("box",iS);const aS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Lx=ve("briefcase",aS);const oS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],lS=ve("building-2",oS);const cS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Rv=ve("calculator",cS);const uS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fp=ve("calendar",uS);const dS=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],hS=ve("car-front",dS);const fS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],mS=ve("car",fS);const pS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Px=ve("chevron-down",pS);const gS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ux=ve("chevron-up",gS);const yS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hp=ve("circle-alert",yS);const bS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uh=ve("circle-check-big",bS);const vS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gl=ve("circle-check",vS);const _S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Iv=ve("circle-plus",_S);const xS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ES=ve("clipboard-list",xS);const TS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gp=ve("clock",TS);const wS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],dh=ve("cloud-upload",wS);const AS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SS=ve("credit-card",AS);const NS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],CS=ve("dollar-sign",NS);const RS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],IS=ve("facebook",RS);const jS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oa=ve("file-text",jS);const DS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],kS=ve("heart",DS);const OS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$p=ve("house",OS);const MS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zx=ve("image",MS);const VS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],LS=ve("instagram",VS);const PS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],US=ve("layout-dashboard",PS);const zS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BS=ve("lock",zS);const qS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FS=ve("log-out",qS);const HS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bx=ve("mail",HS);const GS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mr=ve("map-pin",GS);const $S=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],KS=ve("maximize-2",$S);const QS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YS=ve("menu",QS);const XS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Kp=ve("message-circle",XS);const ZS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],di=ve("package",ZS);const JS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WS=ve("pen-line",JS);const eN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],qx=ve("pen-tool",eN);const tN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hh=ve("phone",tN);const nN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sN=ve("plus",nN);const rN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],fh=ve("printer",rN);const iN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],aN=ve("receipt",iN);const oN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lN=ve("save",oN);const cN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uN=ve("search",cN);const dN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hN=ve("shield-check",dN);const fN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mN=ve("shield",fN);const pN=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],Fx=ve("sofa",pN);const gN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tc=ve("trash-2",gN);const yN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hi=ve("truck",yN);const bN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vN=ve("user",bN);const _N=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xN=ve("users",_N);const EN=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Hx=ve("utensils",EN);const TN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mh=ve("x",TN);const wN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AN=ve("zap",wN),uc="/mudanzas-cadena-web/assets/logo-3D4rlzNO.PNG",SN=()=>{const[r,e]=P.useState(!1),n=Io(),i=vr(),o=p=>{e(!1);const g=y=>{if(y==="inicio"){window.scrollTo({top:0,behavior:"smooth"});return}const x=document.getElementById(y);if(x){const V=x.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:V,behavior:"smooth"})}};i.pathname!=="/"?(n("/"),setTimeout(()=>g(p),100)):g(p)},c="bg-transparent border-none cursor-pointer text-gray-600 hover:text-cadena-pink font-bold text-xs lg:text-sm uppercase tracking-wide transition whitespace-nowrap",h="flex flex-col items-center justify-center gap-1 w-full py-4 text-lg font-bold text-slate-700 bg-white/40 backdrop-blur-md hover:bg-white/80 hover:text-cadena-pink hover:scale-[1.02] rounded-2xl transition-all duration-300 border border-white/50 shadow-sm";return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"bg-white/90 backdrop-blur-lg border-b border-white/40 shadow-sm fixed w-full z-50 top-0 left-0 h-20 transition-all duration-300",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:u.jsxs("div",{className:"flex justify-between items-center h-full gap-2",children:[u.jsx("button",{onClick:()=>o("inicio"),className:"flex items-center gap-2 cursor-pointer bg-transparent border-none outline-none group shrink-0 mr-auto",children:u.jsx("img",{src:uc,alt:"Mudanzas Cadena Logo",className:"h-14 md:h-20 w-auto object-contain transition-transform duration-300 group-hover:scale-105 mt-6"})}),u.jsxs("div",{className:"hidden md:flex items-center gap-3 lg:gap-6",children:[u.jsx("button",{onClick:()=>o("inicio"),className:c,children:"Inicio"}),u.jsx("button",{onClick:()=>o("servicios"),className:c,children:"Servicios"}),u.jsx("button",{onClick:()=>o("galeria"),className:c,children:"Galera"}),u.jsx("button",{onClick:()=>o("contacto"),className:c,children:"Contacto"}),u.jsx(Gn,{to:"/rastreo",className:c,children:"Rastreo"}),u.jsx(Gn,{to:"/cotizar",className:"bg-cadena-blue text-white px-4 py-2 lg:px-6 lg:py-2.5 rounded-full font-bold hover:bg-ocean-dark transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 whitespace-nowrap text-xs lg:text-sm shrink-0",children:"Cotizar Ahora"})]}),u.jsx("div",{className:"md:hidden",children:u.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-xl bg-white/40 backdrop-blur-md border border-white/50 text-slate-700 shadow-sm transition hover:bg-white hover:text-cadena-pink",children:u.jsx(YS,{size:32})})})]})})}),u.jsxs("div",{className:`md:hidden fixed inset-0 z-[60] bg-white/95 backdrop-blur-xl flex flex-col transition-transform duration-500 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[u.jsx("img",{src:uc,alt:"Mudanzas Cadena",className:"h-12 w-auto object-contain"}),u.jsx("button",{onClick:()=>e(!1),className:"p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-red-50 hover:text-red-500 transition shadow-sm",children:u.jsx(mh,{size:28})})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start pt-6 px-6 overflow-y-auto space-y-3",children:[u.jsxs(Gn,{to:"/cotizar",onClick:()=>e(!1),className:"flex items-center justify-center gap-3 w-full bg-gradient-to-r from-cadena-pink to-pink-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl shadow-pink-200/50 hover:scale-[1.02] transition transform active:scale-95 mb-4",children:[u.jsx(di,{size:24}),"COTIZAR AHORA"]}),u.jsxs("button",{onClick:()=>o("inicio"),className:h,children:[u.jsx($p,{size:24,className:"opacity-60 mb-1"})," Inicio"]}),u.jsxs("button",{onClick:()=>o("servicios"),className:h,children:[u.jsx(hi,{size:24,className:"opacity-60 mb-1"})," Servicios"]}),u.jsxs("button",{onClick:()=>o("galeria"),className:h,children:[u.jsx(zx,{size:24,className:"opacity-60 mb-1"})," Galera"]}),u.jsxs("button",{onClick:()=>o("contacto"),className:h,children:[u.jsx(hh,{size:24,className:"opacity-60 mb-1"})," Contacto"]}),u.jsxs(Gn,{to:"/rastreo",onClick:()=>e(!1),className:h,children:[u.jsx(mr,{size:24,className:"opacity-60 mb-1"})," Rastreo"]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"})]})]})},NN=()=>u.jsx("footer",{id:"contacto",className:"bg-cadena-dark text-white pt-12 pb-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["MUDANZAS ",u.jsx("span",{className:"text-cadena-pink",children:"CADENA"})]}),u.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Ms de 60 aos cuidando tu patrimonio. Hacemos de tu mudanza algo fcil y sencillo, con disciplina y puntualidad."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"https://www.facebook.com/share/17eb7PMnCq/?mibextid=wwXIfr",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-blue transition",children:u.jsx(IS,{size:20})}),u.jsx("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-pink transition",children:u.jsx(LS,{size:20})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Contacto"}),u.jsxs("ul",{className:"space-y-3 text-gray-300 text-sm",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(mr,{className:"text-cadena-pink mt-1",size:18}),u.jsxs("span",{children:["Valle del Eufrates 37, CTM 14,",u.jsx("br",{}),"55235 Ecatepec de Morelos, Mx."]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(hh,{className:"text-cadena-blue",size:18}),u.jsx("a",{href:"tel:+529994154957",className:"hover:text-white transition",children:"+52 999 415 4957"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Bx,{className:"text-cadena-blue",size:18}),u.jsx("a",{href:"mailto:mudanzascadenamx@gmail.com",className:"hover:text-white transition",children:"mudanzascadenamx@gmail.com"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Horario de Atencin"}),u.jsx("ul",{className:"space-y-2 text-gray-300 text-sm mb-6",children:u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:"Lunes - Domingo:"}),u.jsx("span",{className:"text-white font-medium",children:"8:00 hrs - 22:00 hrs"})]})}),u.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"block w-full text-center border border-gray-600 text-gray-300 py-2 rounded hover:border-white hover:text-white transition text-sm",children:"Descargar Catlogo PDF"})]})]}),u.jsx("div",{className:"border-t border-gray-800 pt-6 text-center text-xs text-gray-500",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Mudanzas Cadena. Todos los derechos reservados."]})}),u.jsx("div",{className:"flex justify-center gap-4 text-xs opacity-50 hover:opacity-100 transition-opacity",children:u.jsx(Gn,{to:"/admin",className:"hover:text-white",children:"Acceso Administrativo"})})]})}),CN=()=>u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsx(SN,{}),u.jsx("main",{className:"flex-grow",children:u.jsx(pA,{})}),u.jsx(NN,{})]}),RN="/mudanzas-cadena-web/assets/hero-truck-C7CiCazc.mp4",IN="/mudanzas-cadena-web/assets/truck-side-C-DMYrQ-.jpg",ph="/mudanzas-cadena-web/assets/mascota-CSwWRtNs.png",Gx=()=>u.jsxs("div",{className:"py-12 bg-slate-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-16",children:[u.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Tipos de Servicio"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:"Elige tu Modalidad Ideal"}),u.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Nos adaptamos a tu presupuesto y urgencia. Prefieres velocidad o economa?"})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-10 border border-white/60 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-cadena-blue text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-200",children:u.jsx(hi,{size:32})}),u.jsx("span",{className:"bg-cadena-blue/10 text-cadena-blue text-xs font-bold px-3 py-1 rounded-full border border-blue-100 uppercase",children:"La ms rpida"})]}),u.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Exclusiva"}),u.jsx("p",{className:"text-cadena-blue font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Directo  Camin Completo"}),u.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"El camin es 100% para ti. T eliges la fecha y hora exacta de salida. Vamos directo de puerta a puerta sin escalas ni desvos."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(AN,{size:20,className:"text-yellow-500"})," Entrega rpida."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(Gl,{size:20,className:"text-blue-400"})," T defines el horario."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(Gl,{size:20,className:"text-blue-400"})," Espacio exclusivo para ti."]})]})]})]}),u.jsxs("div",{className:"bg-white/40 backdrop-blur-lg rounded-[2.5rem] p-10 border border-white/50 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.05)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-white text-cadena-pink rounded-2xl flex items-center justify-center shadow-md",children:u.jsx(xN,{size:32})}),u.jsx("span",{className:"bg-cadena-pink/10 text-cadena-pink text-xs font-bold px-3 py-1 rounded-full border border-pink-100 uppercase",children:"Ahorra"})]}),u.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Compartida"}),u.jsx("p",{className:"text-cadena-pink font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Consolidado  Econmico"}),u.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"Tu mudanza viaja junto con otras, dividiendo los gastos de transporte. Perfecto si eres flexible con la fecha de entrega."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(Gp,{size:20,className:"text-gray-400"})," Entrega de 5 a 15 das hbiles."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(Gl,{size:20,className:"text-pink-400"})," Precio mucho ms accesible."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(Gl,{size:20,className:"text-pink-400"})," Ideal para cargas medianas."]})]})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h3",{className:"text-3xl font-extrabold text-slate-800",children:"Soluciones Especializadas"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Todo lo que necesitas para completar tu traslado."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:u.jsx(lS,{size:28}),title:"Corporativo",desc:"Logstica para oficinas sin detener tu operacin.",color:"bg-blue-500",shadow:"shadow-blue-200",bg:"bg-blue-50"},{icon:u.jsx(mS,{size:28}),title:"Traslado de Autos",desc:"Llevamos tu coche sin rodar (Madrina/Caja).",color:"bg-purple-500",shadow:"shadow-purple-200",bg:"bg-purple-50"},{icon:u.jsx(qp,{size:28}),title:"Empaque",desc:"Cajas, playo y burbuja para cuidar lo frgil.",color:"bg-orange-500",shadow:"shadow-orange-200",bg:"bg-orange-50"},{icon:u.jsx(hN,{size:28}),title:"Seguro de Carga",desc:"Pliza contra todo riesgo (CHUBB, AIG).",color:"bg-green-500",shadow:"shadow-green-200",bg:"bg-green-50"}].map((r,e)=>u.jsxs("div",{className:"group bg-white rounded-3xl p-6 border border-slate-100 hover:border-transparent hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br ${r.bg} to-transparent pointer-events-none`}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsx("div",{className:`w-14 h-14 mx-auto ${r.color} text-white rounded-2xl flex items-center justify-center shadow-lg ${r.shadow} mb-4 transform group-hover:scale-110 transition-transform duration-300`,children:r.icon}),u.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2 group-hover:text-black",children:r.title}),u.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed group-hover:text-slate-700",children:r.desc})]})]},e))})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"bg-white/40 backdrop-blur-xl border border-white/60 rounded-[3rem] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-pink-100/40 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),u.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-8",children:["Por qu elegir ",u.jsx("span",{className:"text-cadena-blue",children:"Mudanzas Cadena"}),"?"]}),u.jsx("ul",{className:"space-y-4",children:["Unidades con rampa hidrulica y GPS 24/7.","Volado de muebles y maniobras especiales.","Personal capacitado y de confianza.","Facturacin electrnica disponible.","Cobertura en rutas del Pacfico y Sureste (Mrida, Cancn)."].map((r,e)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Gl,{className:"text-cadena-pink flex-shrink-0 mt-1",size:20}),u.jsx("span",{className:"text-gray-700 font-medium",children:r})]},e))}),u.jsx("div",{className:"mt-8",children:u.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-cadena-dark hover:bg-gray-800 transition",children:"Descargar Catlogo Completo (PDF)"})})]}),u.jsxs("div",{className:"bg-white/50 backdrop-blur-md rounded-3xl p-8 text-center border border-white/60 shadow-inner",children:[u.jsx("div",{className:"w-32 h-32 md:w-56 md:h-56 mx-auto mb-6 rounded-full overflow-hidden border-4 border-white shadow-2xl relative bg-blue-50 group cursor-pointer",children:u.jsx("img",{src:ph,alt:"Mascota",className:"w-full h-full object-cover object-top scale-125 group-hover:scale-100 transition-transform duration-500"})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Listo para mudarte?"}),u.jsx("p",{className:"text-slate-600 mb-6 text-sm font-medium",children:"Djanos los detalles pesados a nosotros. Cotiza tu servicio hoy mismo."}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-400/50",children:[u.jsx(Kp,{size:20}),"Pedir Cotizacin por WhatsApp"]}),u.jsxs(Gn,{to:"/cotizar",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-cadena-blue hover:bg-blue-700 text-white font-bold rounded-xl transition shadow-lg hover:shadow-blue-400/50",children:[u.jsx(oa,{size:20}),"Cotizar en Lnea (Formulario)"]})]})]})]})]})})]}),jN="/mudanzas-cadena-web/assets/mudanza1-BdTyaUqM.jpeg",DN="/mudanzas-cadena-web/assets/mudanza2-Ckuonxg8.jpeg",kN="/mudanzas-cadena-web/assets/mudanza3-D3EG-M9j.jpeg",ON="/mudanzas-cadena-web/assets/mudanza4-C6YfTQQ9.jpeg",MN="/mudanzas-cadena-web/assets/mudanza5-Dhq4noZh.jpeg",VN="/mudanzas-cadena-web/assets/mudanza6-B5NQVteP.jpeg",LN="/mudanzas-cadena-web/assets/mudanza7-y8hG9Qrc.jpeg",PN="/mudanzas-cadena-web/assets/mudanza8-CdYmO3EG.jpeg",UN="/mudanzas-cadena-web/assets/mudanza9-CuV-hVYp.jpeg",zN="/mudanzas-cadena-web/assets/mudanza10-DBVQKhKd.jpeg",BN="/mudanzas-cadena-web/assets/mudanza11-C5WH2O-v.jpeg",qN="/mudanzas-cadena-web/assets/mudanza12-BQFl8PZH.jpeg",FN=()=>{const r=[{src:jN,span:"md:col-span-2 md:row-span-2",title:"Nuestras Unidades"},{src:DN,span:"md:col-span-1 md:row-span-1",title:"Carga Segura"},{src:kN,span:"md:col-span-1 md:row-span-2",title:"Maniobras de Altura"},{src:ON,span:"md:col-span-1 md:row-span-1",title:"Personal Uniformado"},{src:MN,span:"md:col-span-2 md:row-span-1",title:"Emplayado Profesional"},{src:VN,span:"md:col-span-1 md:row-span-1",title:"Cuidado al Detalle"},{src:LN,span:"md:col-span-1 md:row-span-1",title:"Logstica"},{src:PN,span:"md:col-span-1 md:row-span-2",title:"Volado de Muebles"},{src:UN,span:"md:col-span-2 md:row-span-2",title:"Servicio Residencial"},{src:zN,span:"md:col-span-1 md:row-span-1",title:"Empaque Delicado"},{src:BN,span:"md:col-span-1 md:row-span-1",title:"Transporte Nacional"},{src:qN,span:"md:col-span-4 md:row-span-1",title:"Listos para tu mudanza"}];return u.jsx("div",{className:"py-24 relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Galera"}),u.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:["As trabajamos en ",u.jsx("span",{className:"text-cadena-blue",children:"Cadena"})]}),u.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Cada mudanza es una historia de xito. Mira cmo cuidamos el patrimonio de nuestros clientes."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[200px]",children:r.map((e,n)=>u.jsx("div",{className:`relative group rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300 border border-white/40 ${e.span}`,children:u.jsx("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-in-out"})},n))}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-cadena-pink font-bold hover:text-pink-700 transition",children:[u.jsx(zx,{size:20})," Ver ms en Instagram"]})})]})})},HN=()=>{const[r,e]=P.useState(!1),n=P.useRef(null);return P.useEffect(()=>{n.current&&n.current.play().catch(i=>{console.log("El navegador bloque el autoplay (normal en mviles/ahorro de batera):",i)})},[]),u.jsxs("div",{className:"flex flex-col w-full bg-slate-50 relative overflow-hidden pt-20",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cadena-pink/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute top-[800px] left-0 w-[600px] h-[600px] bg-cadena-blue/20 rounded-full blur-3xl -translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-[700px] h-[700px] bg-blue-200/30 rounded-full blur-3xl translate-y-1/4 pointer-events-none z-0"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{id:"inicio",className:"relative h-[600px] flex items-center scroll-mt-24 overflow-hidden bg-gray-900",children:[u.jsx("img",{src:IN,alt:"Fondo Mudanzas Cadena",className:"absolute inset-0 w-full h-full object-cover z-0 opacity-80"}),u.jsx("video",{ref:n,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onPlay:()=>e(!0),className:`absolute inset-0 z-10 w-full h-full object-cover transition-opacity duration-700 ${r?"opacity-100":"opacity-0"}`,children:u.jsx("source",{src:RN,type:"video/mp4"})}),u.jsx("div",{className:"absolute inset-0 bg-black/60 z-20"}),u.jsxs("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left",children:[u.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-cadena-pink/90 backdrop-blur-sm text-white text-sm font-bold mb-4 tracking-wider border border-white/20 shadow-lg animate-fade-in",children:"MUDANZAS Y FLETES NACIONALES"}),u.jsxs("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-6 drop-shadow-lg",children:["Tu patrimonio en las ",u.jsx("br",{}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-pink-200",children:"mejores manos"})]}),u.jsx("p",{className:"text-xl text-gray-100 mb-8 max-w-2xl drop-shadow-md",children:"Hacemos de tu mudanza algo fcil y sencillo. Ms de 60 aos cuidando lo que ms te importa."}),u.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 justify-center sm:justify-start",children:[u.jsxs(Gn,{to:"/cotizar",className:"px-6 py-4 bg-cadena-pink hover:bg-pink-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-pink-500/50 flex items-center justify-center gap-2",children:[u.jsx(oa,{size:20})," Cotizar en Lnea"]}),u.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"px-6 py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-500/50 flex items-center justify-center gap-2",children:[u.jsx(Kp,{size:20})," WhatsApp"]}),u.jsxs(Gn,{to:"/rastreo",className:"px-6 py-4 bg-white/10 backdrop-blur-md border border-white/30 hover:bg-white/20 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(mr,{size:20})," Rastrear"]})]})]})]}),u.jsx("div",{className:"py-16",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[{icon:u.jsx(mN,{size:32}),title:"Seguridad Total",text:"Rastreo 24/7 y seguro con CHUBB.",color:"text-cadena-blue"},{icon:u.jsx(Gp,{size:32}),title:"Puntualidad",text:"Llegamos cuando decimos. Disciplina pura.",color:"text-cadena-pink"},{icon:u.jsx(kS,{size:32}),title:"Trato Humano",text:"Empresa familiar. Entendemos el valor sentimental.",color:"text-purple-500"}].map((i,o)=>u.jsxs("div",{className:"p-8 rounded-3xl bg-white/40 backdrop-blur-xl border border-white/50 shadow-xl hover:-translate-y-2 transition duration-300",children:[u.jsx("div",{className:`w-16 h-16 ${i.color} bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm`,children:i.icon}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:i.title}),u.jsx("p",{className:"text-gray-600 font-medium",children:i.text})]},o))})})}),u.jsx("section",{id:"servicios",className:"scroll-mt-24",children:u.jsx(Gx,{})}),u.jsx("section",{id:"galeria",children:u.jsx(FN,{})}),u.jsx("div",{className:"py-24",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"bg-white/30 backdrop-blur-xl border border-white/60 rounded-[3rem] p-12 shadow-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-cadena-dark mb-6",children:"Nuestra Filosofa"}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-cadena-blue mb-2",children:"Misin"}),u.jsx("p",{className:"text-gray-700",children:"Hacer de tu mudanza algo fcil, cuidando tu patrimonio de principio a fin."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-cadena-pink mb-2",children:"Visin"}),u.jsx("p",{className:"text-gray-700",children:"Llegar a cada rincn de la Repblica Mexicana con la misma eficiencia."})]})]}),u.jsx("div",{className:"h-64 bg-gradient-to-br from-cadena-blue to-purple-900 rounded-3xl shadow-inner flex items-center justify-center text-white p-8 text-center border border-white/20",children:u.jsxs("div",{children:[u.jsx("span",{className:"text-6xl font-black block mb-2 drop-shadow-lg",children:"+60"}),u.jsx("span",{className:"text-xl font-medium tracking-widest uppercase",children:"Aos de experiencia"})]})})]})})})})]})]})},GN=()=>{};var jv={};const $x=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$N=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,V=y&63;g||(V=64,h||(S=64)),i.push(n[x],n[E],n[S],n[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($x(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$N(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new KN;const S=c<<2|p>>4;if(i.push(S),y!==64){const V=p<<4&240|y>>2;if(i.push(V),E!==64){const H=y<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QN=function(r){const e=$x(r);return Kx.encodeByteArray(e,!0)},Pd=function(r){return QN(r).replace(/\./g,"")},Qx=function(r){try{return Kx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XN=()=>YN().__FIREBASE_DEFAULTS__,ZN=()=>{if(typeof process>"u"||typeof jv>"u")return;const r=jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Qx(r[1]);return e&&JSON.parse(e)},gh=()=>{try{return GN()||XN()||ZN()||JN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Yx=r=>gh()?.emulatorHosts?.[r],Xx=r=>{const e=Yx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Zx=()=>gh()?.config,Jx=r=>gh()?.[`_${r}`];class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function xi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qp(r){return(await fetch(r,{credentials:"include"})).ok}function Wx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pd(JSON.stringify(n)),Pd(JSON.stringify(h)),""].join(".")}const nc={};function eC(){const r={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?r.emulator.push(e):r.prod.push(e);return r}function tC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Dv=!1;function Yp(r,e){if(typeof window>"u"||typeof document>"u"||!xi(window.location.host)||nc[r]===e||nc[r]||Dv)return;nc[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",c=eC().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Dv=!0,h()},S}function x(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=tC(i),V=n("text"),H=document.getElementById(V)||document.createElement("span"),G=n("learnmore"),F=document.getElementById(G)||document.createElement("a"),se=n("preprendIcon"),ne=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;p(ie),x(F,G);const me=y();g(ne,se),ie.append(ne,H,F,me),document.body.appendChild(ie)}c?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function sC(){const r=gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lC(){return!sC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const dC="FirebaseError";class Hs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=dC,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?hC(c,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Hs(o,p,i)}}function hC(r,e){return r.replace(fC,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const fC=/\{\$([^}]+)}/g;function mC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function la(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=r[o],h=e[o];if(kv(c)&&kv(h)){if(!la(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function kv(r){return r!==null&&typeof r=="object"}function Sc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function pC(r,e){const n=new gC(r,e);return n.subscribe.bind(n)}class gC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Km(){}function dt(r){return r&&r._delegate?r._delegate:r}class fi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class bC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new WN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_C(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(r){return r===sa?void 0:r}function _C(r){return r.instantiationMode==="EAGER"}class xC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const EC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},TC=Pe.INFO,wC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},AC=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=wC[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=TC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const SC=(r,e)=>e.some(n=>r instanceof n);let Ov,Mv;function NC(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,cp=new WeakMap,t1=new WeakMap,Qm=new WeakMap,Zp=new WeakMap;function RC(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ii(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&e1.set(n,r)}).catch(()=>{}),Zp.set(e,r),e}function IC(r){if(cp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});cp.set(r,e)}let up={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return cp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jC(r){up=r(up)}function DC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Ym(this),e,...n);return t1.set(i,e.sort?e.sort():[e]),ii(i)}:CC().includes(r)?function(...e){return r.apply(Ym(this),e),ii(e1.get(this))}:function(...e){return ii(r.apply(Ym(this),e))}}function kC(r){return typeof r=="function"?DC(r):(r instanceof IDBTransaction&&IC(r),SC(r,NC())?new Proxy(r,up):r)}function ii(r){if(r instanceof IDBRequest)return RC(r);if(Qm.has(r))return Qm.get(r);const e=kC(r);return e!==r&&(Qm.set(r,e),Zp.set(e,r)),e}const Ym=r=>Zp.get(r);function OC(r,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),p=ii(h);return i&&h.addEventListener("upgradeneeded",g=>{i(ii(h.result),g.oldVersion,g.newVersion,ii(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const MC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],Xm=new Map;function Vv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=VC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||MC.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Xm.set(e,c),c}jC(r=>({...r,get:(e,n,i)=>Vv(e,n)||r.get(e,n,i),has:(e,n)=>!!Vv(e,n)||r.has(e,n)}));class LC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PC(r){return r.getComponent()?.type==="VERSION"}const dp="@firebase/app",Lv="0.14.7";const pr=new Xp("@firebase/app"),UC="@firebase/app-compat",zC="@firebase/analytics-compat",BC="@firebase/analytics",qC="@firebase/app-check-compat",FC="@firebase/app-check",HC="@firebase/auth",GC="@firebase/auth-compat",$C="@firebase/database",KC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",ZC="@firebase/installations",JC="@firebase/installations-compat",WC="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",sR="@firebase/remote-config",rR="@firebase/remote-config-compat",iR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",cR="@firebase/firestore-compat",uR="firebase",dR="12.8.0";const hp="[DEFAULT]",hR={[dp]:"fire-core",[UC]:"fire-core-compat",[BC]:"fire-analytics",[zC]:"fire-analytics-compat",[FC]:"fire-app-check",[qC]:"fire-app-check-compat",[HC]:"fire-auth",[GC]:"fire-auth-compat",[$C]:"fire-rtdb",[KC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[ZC]:"fire-iid",[JC]:"fire-iid-compat",[WC]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[sR]:"fire-rc",[rR]:"fire-rc-compat",[iR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[cR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};const Ud=new Map,fR=new Map,fp=new Map;function Pv(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(fp.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,r);for(const n of Ud.values())Pv(n,r);for(const n of fR.values())Pv(n,r);return!0}function yh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Ac("app","Firebase",mR);class pR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const ga=dR;function n1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:hp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ai.create("bad-app-name",{appName:String(o)});if(n||(n=Zx()),!n)throw ai.create("no-options");const c=Ud.get(o);if(c){if(la(n,c.options)&&la(i,c.config))return c;throw ai.create("duplicate-app",{appName:o})}const h=new xC(o);for(const g of fp.values())h.addComponent(g);const p=new pR(n,i,h);return Ud.set(o,p),p}function Jp(r=hp){const e=Ud.get(r);if(!e&&r===hp&&Zx())return n1();if(!e)throw ai.create("no-app",{appName:r});return e}function Ls(r,e,n){let i=hR[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(h.join(" "));return}ca(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gR="firebase-heartbeat-database",yR=1,dc="firebase-heartbeat-store";let Zm=null;function s1(){return Zm||(Zm=OC(gR,yR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ai.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function bR(r){try{const n=(await s1()).transaction(dc),i=await n.objectStore(dc).get(r1(r));return await n.done,i}catch(e){if(e instanceof Hs)pr.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function Uv(r,e){try{const i=(await s1()).transaction(dc,"readwrite");await i.objectStore(dc).put(e,r1(r)),await i.done}catch(n){if(n instanceof Hs)pr.warn(n.message);else{const i=ai.create("idb-set",{originalErrorMessage:n?.message});pr.warn(i.message)}}}function r1(r){return`${r.name}!${r.options.appId}`}const vR=1024,_R=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>_R){const o=wR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zv(),{heartbeatsToSend:n,unsentEntries:i}=ER(this._heartbeatsCache.heartbeats),o=Pd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function zv(){return new Date().toISOString().substring(0,10)}function ER(r,e=vR){const n=[];let i=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Bv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bv(r){return Pd(JSON.stringify({version:2,heartbeats:r})).length}function wR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function AR(r){ca(new fi("platform-logger",e=>new LC(e),"PRIVATE")),ca(new fi("heartbeat",e=>new xR(e),"PRIVATE")),Ls(dp,Lv,r),Ls(dp,Lv,"esm2020"),Ls("fire-js","")}AR("");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oi,i1;(function(){var r;function e(I,C){function A(){}A.prototype=C.prototype,I.F=C.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(N,R,k){for(var j=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)j[Me-2]=arguments[Me];return C.prototype[R].apply(N,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,A){A||(A=0);const N=Array(16);if(typeof C=="string")for(var R=0;R<16;++R)N[R]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(R=0;R<16;++R)N[R]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=I.g[0],A=I.g[1],R=I.g[2];let k=I.g[3],j;j=C+(k^A&(R^k))+N[0]+3614090360&4294967295,C=A+(j<<7&4294967295|j>>>25),j=k+(R^C&(A^R))+N[1]+3905402710&4294967295,k=C+(j<<12&4294967295|j>>>20),j=R+(A^k&(C^A))+N[2]+606105819&4294967295,R=k+(j<<17&4294967295|j>>>15),j=A+(C^R&(k^C))+N[3]+3250441966&4294967295,A=R+(j<<22&4294967295|j>>>10),j=C+(k^A&(R^k))+N[4]+4118548399&4294967295,C=A+(j<<7&4294967295|j>>>25),j=k+(R^C&(A^R))+N[5]+1200080426&4294967295,k=C+(j<<12&4294967295|j>>>20),j=R+(A^k&(C^A))+N[6]+2821735955&4294967295,R=k+(j<<17&4294967295|j>>>15),j=A+(C^R&(k^C))+N[7]+4249261313&4294967295,A=R+(j<<22&4294967295|j>>>10),j=C+(k^A&(R^k))+N[8]+1770035416&4294967295,C=A+(j<<7&4294967295|j>>>25),j=k+(R^C&(A^R))+N[9]+2336552879&4294967295,k=C+(j<<12&4294967295|j>>>20),j=R+(A^k&(C^A))+N[10]+4294925233&4294967295,R=k+(j<<17&4294967295|j>>>15),j=A+(C^R&(k^C))+N[11]+2304563134&4294967295,A=R+(j<<22&4294967295|j>>>10),j=C+(k^A&(R^k))+N[12]+1804603682&4294967295,C=A+(j<<7&4294967295|j>>>25),j=k+(R^C&(A^R))+N[13]+4254626195&4294967295,k=C+(j<<12&4294967295|j>>>20),j=R+(A^k&(C^A))+N[14]+2792965006&4294967295,R=k+(j<<17&4294967295|j>>>15),j=A+(C^R&(k^C))+N[15]+1236535329&4294967295,A=R+(j<<22&4294967295|j>>>10),j=C+(R^k&(A^R))+N[1]+4129170786&4294967295,C=A+(j<<5&4294967295|j>>>27),j=k+(A^R&(C^A))+N[6]+3225465664&4294967295,k=C+(j<<9&4294967295|j>>>23),j=R+(C^A&(k^C))+N[11]+643717713&4294967295,R=k+(j<<14&4294967295|j>>>18),j=A+(k^C&(R^k))+N[0]+3921069994&4294967295,A=R+(j<<20&4294967295|j>>>12),j=C+(R^k&(A^R))+N[5]+3593408605&4294967295,C=A+(j<<5&4294967295|j>>>27),j=k+(A^R&(C^A))+N[10]+38016083&4294967295,k=C+(j<<9&4294967295|j>>>23),j=R+(C^A&(k^C))+N[15]+3634488961&4294967295,R=k+(j<<14&4294967295|j>>>18),j=A+(k^C&(R^k))+N[4]+3889429448&4294967295,A=R+(j<<20&4294967295|j>>>12),j=C+(R^k&(A^R))+N[9]+568446438&4294967295,C=A+(j<<5&4294967295|j>>>27),j=k+(A^R&(C^A))+N[14]+3275163606&4294967295,k=C+(j<<9&4294967295|j>>>23),j=R+(C^A&(k^C))+N[3]+4107603335&4294967295,R=k+(j<<14&4294967295|j>>>18),j=A+(k^C&(R^k))+N[8]+1163531501&4294967295,A=R+(j<<20&4294967295|j>>>12),j=C+(R^k&(A^R))+N[13]+2850285829&4294967295,C=A+(j<<5&4294967295|j>>>27),j=k+(A^R&(C^A))+N[2]+4243563512&4294967295,k=C+(j<<9&4294967295|j>>>23),j=R+(C^A&(k^C))+N[7]+1735328473&4294967295,R=k+(j<<14&4294967295|j>>>18),j=A+(k^C&(R^k))+N[12]+2368359562&4294967295,A=R+(j<<20&4294967295|j>>>12),j=C+(A^R^k)+N[5]+4294588738&4294967295,C=A+(j<<4&4294967295|j>>>28),j=k+(C^A^R)+N[8]+2272392833&4294967295,k=C+(j<<11&4294967295|j>>>21),j=R+(k^C^A)+N[11]+1839030562&4294967295,R=k+(j<<16&4294967295|j>>>16),j=A+(R^k^C)+N[14]+4259657740&4294967295,A=R+(j<<23&4294967295|j>>>9),j=C+(A^R^k)+N[1]+2763975236&4294967295,C=A+(j<<4&4294967295|j>>>28),j=k+(C^A^R)+N[4]+1272893353&4294967295,k=C+(j<<11&4294967295|j>>>21),j=R+(k^C^A)+N[7]+4139469664&4294967295,R=k+(j<<16&4294967295|j>>>16),j=A+(R^k^C)+N[10]+3200236656&4294967295,A=R+(j<<23&4294967295|j>>>9),j=C+(A^R^k)+N[13]+681279174&4294967295,C=A+(j<<4&4294967295|j>>>28),j=k+(C^A^R)+N[0]+3936430074&4294967295,k=C+(j<<11&4294967295|j>>>21),j=R+(k^C^A)+N[3]+3572445317&4294967295,R=k+(j<<16&4294967295|j>>>16),j=A+(R^k^C)+N[6]+76029189&4294967295,A=R+(j<<23&4294967295|j>>>9),j=C+(A^R^k)+N[9]+3654602809&4294967295,C=A+(j<<4&4294967295|j>>>28),j=k+(C^A^R)+N[12]+3873151461&4294967295,k=C+(j<<11&4294967295|j>>>21),j=R+(k^C^A)+N[15]+530742520&4294967295,R=k+(j<<16&4294967295|j>>>16),j=A+(R^k^C)+N[2]+3299628645&4294967295,A=R+(j<<23&4294967295|j>>>9),j=C+(R^(A|~k))+N[0]+4096336452&4294967295,C=A+(j<<6&4294967295|j>>>26),j=k+(A^(C|~R))+N[7]+1126891415&4294967295,k=C+(j<<10&4294967295|j>>>22),j=R+(C^(k|~A))+N[14]+2878612391&4294967295,R=k+(j<<15&4294967295|j>>>17),j=A+(k^(R|~C))+N[5]+4237533241&4294967295,A=R+(j<<21&4294967295|j>>>11),j=C+(R^(A|~k))+N[12]+1700485571&4294967295,C=A+(j<<6&4294967295|j>>>26),j=k+(A^(C|~R))+N[3]+2399980690&4294967295,k=C+(j<<10&4294967295|j>>>22),j=R+(C^(k|~A))+N[10]+4293915773&4294967295,R=k+(j<<15&4294967295|j>>>17),j=A+(k^(R|~C))+N[1]+2240044497&4294967295,A=R+(j<<21&4294967295|j>>>11),j=C+(R^(A|~k))+N[8]+1873313359&4294967295,C=A+(j<<6&4294967295|j>>>26),j=k+(A^(C|~R))+N[15]+4264355552&4294967295,k=C+(j<<10&4294967295|j>>>22),j=R+(C^(k|~A))+N[6]+2734768916&4294967295,R=k+(j<<15&4294967295|j>>>17),j=A+(k^(R|~C))+N[13]+1309151649&4294967295,A=R+(j<<21&4294967295|j>>>11),j=C+(R^(A|~k))+N[4]+4149444226&4294967295,C=A+(j<<6&4294967295|j>>>26),j=k+(A^(C|~R))+N[11]+3174756917&4294967295,k=C+(j<<10&4294967295|j>>>22),j=R+(C^(k|~A))+N[2]+718787259&4294967295,R=k+(j<<15&4294967295|j>>>17),j=A+(k^(R|~C))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+k&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const A=C-this.blockSize,N=this.C;let R=this.h,k=0;for(;k<C;){if(R==0)for(;k<=A;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<C;)if(N[R++]=I.charCodeAt(k++),R==this.blockSize){o(this,N),R=0;break}}else for(;k<C;)if(N[R++]=I[k++],R==this.blockSize){o(this,N),R=0;break}}this.h=R,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)I[C++]=this.g[A]>>>N&255;return I};function c(I,C){var A=p;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=C(I)}function h(I,C){this.h=C;const A=[];let N=!0;for(let R=I.length-1;R>=0;R--){const k=I[R]|0;N&&k==C||(A[R]=k,N=!1)}this.g=A}var p={};function g(I){return-128<=I&&I<128?c(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return F(y(-I));const C=[];let A=1;for(let N=0;I>=A;N++)C[N]=I/A|0,A*=4294967296;return new h(C,0)}function x(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return F(x(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(C,8));let N=E;for(let k=0;k<I.length;k+=8){var R=Math.min(8,I.length-k);const j=parseInt(I.substring(k,k+R),C);R<8?(R=y(Math.pow(C,R)),N=N.j(R).add(y(j))):(N=N.j(A),N=N.add(y(j)))}return N}var E=g(0),S=g(1),V=g(16777216);r=h.prototype,r.m=function(){if(G(this))return-F(this).m();let I=0,C=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);I+=(N>=0?N:4294967296+N)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(G(this))return"-"+F(this).toString(I);const C=y(Math.pow(I,6));var A=this;let N="";for(;;){const R=me(A,C).g;A=se(A,R.j(C));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=R,H(A))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=se(this,I),G(I)?-1:H(I)?0:1};function F(I){const C=I.g.length,A=[];for(let N=0;N<C;N++)A[N]=~I.g[N];return new h(A,~I.h).add(S)}r.abs=function(){return G(this)?F(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),A=[];let N=0;for(let R=0;R<=C;R++){let k=N+(this.i(R)&65535)+(I.i(R)&65535),j=(k>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);N=j>>>16,k&=65535,j&=65535,A[R]=j<<16|k}return new h(A,A[A.length-1]&-2147483648?-1:0)};function se(I,C){return I.add(F(C))}r.j=function(I){if(H(this)||H(I))return E;if(G(this))return G(I)?F(this).j(F(I)):F(F(this).j(I));if(G(I))return F(this.j(F(I)));if(this.l(V)<0&&I.l(V)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,A=[];for(var N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let R=0;R<I.g.length;R++){const k=this.i(N)>>>16,j=this.i(N)&65535,Me=I.i(R)>>>16,De=I.i(R)&65535;A[2*N+2*R]+=j*De,ne(A,2*N+2*R),A[2*N+2*R+1]+=k*De,ne(A,2*N+2*R+1),A[2*N+2*R+1]+=j*Me,ne(A,2*N+2*R+1),A[2*N+2*R+2]+=k*Me,ne(A,2*N+2*R+2)}for(I=0;I<C;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=C;I<2*C;I++)A[I]=0;return new h(A,0)};function ne(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ie(I,C){this.g=I,this.h=C}function me(I,C){if(H(C))throw Error("division by zero");if(H(I))return new ie(E,E);if(G(I))return C=me(F(I),C),new ie(F(C.g),F(C.h));if(G(C))return C=me(I,F(C)),new ie(F(C.g),C.h);if(I.g.length>30){if(G(I)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var A=S,N=C;N.l(I)<=0;)A=re(A),N=re(N);var R=ue(A,1),k=ue(N,1);for(N=ue(N,2),A=ue(A,2);!H(N);){var j=k.add(N);j.l(I)<=0&&(R=R.add(A),k=j),N=ue(N,1),A=ue(A,1)}return C=se(I,R.j(C)),new ie(R,C)}for(R=E;I.l(C)>=0;){for(A=Math.max(1,Math.floor(I.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=y(A),j=k.j(C);G(j)||j.l(I)>0;)A-=N,k=y(A),j=k.j(C);H(k)&&(k=S),R=R.add(k),I=se(I,j)}return new ie(R,I)}r.B=function(I){return me(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)&I.i(N);return new h(A,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)|I.i(N);return new h(A,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)^I.i(N);return new h(A,this.h^I.h)};function re(I){const C=I.g.length+1,A=[];for(let N=0;N<C;N++)A[N]=I.i(N)<<1|I.i(N-1)>>>31;return new h(A,I.h)}function ue(I,C){const A=C>>5;C%=32;const N=I.g.length-A,R=[];for(let k=0;k<N;k++)R[k]=C>0?I.i(k+A)>>>C|I.i(k+A+1)<<32-C:I.i(k+A);return new h(R,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,i1=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,oi=h}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var a1,Zl,o1,Nd,mp,l1,c1,u1;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var b=0;b<d.length;++b){var _=d[b];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(d,b){if(b)e:{var _=i;d=d.split(".");for(var w=0;w<d.length-1;w++){var U=d[w];if(!(U in _))break e;_=_[U]}d=d[d.length-1],w=_[d],b=b(w),b!=w&&b!=null&&e(_,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var _=[],w;for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&_.push([w,b[w]]);return _}});var c=c||{},h=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,_){return d.call.apply(d.bind,arguments)}function y(d,b,_){return y=g,y.apply(null,arguments)}function x(d,b){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),d.apply(this,w)}}function E(d,b){function _(){}_.prototype=b.prototype,d.Z=b.prototype,d.prototype=new _,d.prototype.constructor=d,d.Ob=function(w,U,$){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return b.prototype[U].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function V(d){const b=d.length;if(b>0){const _=Array(b);for(let w=0;w<b;w++)_[w]=d[w];return _}return[]}function H(d,b){for(let w=1;w<arguments.length;w++){const U=arguments[w];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=d.length||0;const $=U.length||0;d.length=_+$;for(let oe=0;oe<$;oe++)d[_+oe]=U[oe]}else d.push(U)}}class G{constructor(b,_){this.i=b,this.j=_,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(d){h.setTimeout(()=>{throw d},0)}function se(){var d=I;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ne{constructor(){this.h=this.g=null}add(b,_){const w=ie.get();w.set(b,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new G(()=>new me,d=>d.reset());class me{constructor(){this.next=this.g=this.h=null}set(b,_){this.h=b,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ue=!1,I=new ne,C=()=>{const d=Promise.resolve(void 0);re=()=>{d.then(A)}};function A(){for(var d;d=se();){try{d.h.call(d.g)}catch(_){F(_)}var b=ie;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}ue=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};h.addEventListener("test",_,b),h.removeEventListener("test",_,b)}catch{}return d})();function j(d){return/^[\s\xa0]*$/.test(d)}function Me(d,b){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}E(Me,R),Me.prototype.init=function(d,b){const _=this.type=d.type,w=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(_=="mouseover"?b=d.fromElement:_=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),Q=0;function W(d,b,_,w,U){this.listener=d,this.proxy=null,this.src=b,this.type=_,this.capture=!!w,this.ha=U,this.key=++Q,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d,b,_){for(const w in d)b.call(_,d[w],w,d)}function Ne(d,b){for(const _ in d)b.call(void 0,d[_],_,d)}function O(d){const b={};for(const _ in d)b[_]=d[_];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(d,b){let _,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(_ in w)d[_]=w[_];for(let $=0;$<Z.length;$++)_=Z[$],Object.prototype.hasOwnProperty.call(w,_)&&(d[_]=w[_])}}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,b,_,w,U){const $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);const oe=Ie(d,b,w,U);return oe>-1?(b=d[oe],_||(b.fa=!1)):(b=new W(b,this.src,$,!!w,U),b.fa=_,d.push(b)),b};function we(d,b){const _=b.type;if(_ in d.g){var w=d.g[_],U=Array.prototype.indexOf.call(w,b,void 0),$;($=U>=0)&&Array.prototype.splice.call(w,U,1),$&&(ae(b),d.g[_].length==0&&(delete d.g[_],d.h--))}}function Ie(d,b,_,w){for(let U=0;U<d.length;++U){const $=d[U];if(!$.da&&$.listener==b&&$.capture==!!_&&$.ha==w)return U}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(d,b,_,w,U){if(Array.isArray(b)){for(let $=0;$<b.length;$++)ot(d,b[$],_,w,U);return null}return _=zo(_),d&&d[De]?d.J(b,_,p(w)?!!w.capture:!1,U):Si(d,b,_,!1,w,U)}function Si(d,b,_,w,U,$){if(!b)throw Error("Invalid event type");const oe=p(U)?!!U.capture:!!U;let Ce=Ni(d);if(Ce||(d[qe]=Ce=new de(d)),_=Ce.add(b,_,w,oe,$),_.proxy)return _;if(w=_a(),_.proxy=w,w.src=d,w.listener=_,d.addEventListener)k||(U=oe),U===void 0&&(U=!1),d.addEventListener(b.toString(),w,U);else if(d.attachEvent)d.attachEvent(ms(b.toString()),w);else if(d.addListener&&d.removeListener)d.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _a(){function d(_){return b.call(d.src,d.listener,_)}const b=Po;return d}function xa(d,b,_,w,U){if(Array.isArray(b))for(var $=0;$<b.length;$++)xa(d,b[$],_,w,U);else w=p(w)?!!w.capture:!!w,_=zo(_),d&&d[De]?(d=d.i,$=String(b).toString(),$ in d.g&&(b=d.g[$],_=Ie(b,_,w,U),_>-1&&(ae(b[_]),Array.prototype.splice.call(b,_,1),b.length==0&&(delete d.g[$],d.h--)))):d&&(d=Ni(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ie(b,_,w,U)),(_=d>-1?b[d]:null)&&Ea(_))}function Ea(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[De])we(b.i,d);else{var _=d.type,w=d.proxy;b.removeEventListener?b.removeEventListener(_,w,d.capture):b.detachEvent?b.detachEvent(ms(_),w):b.addListener&&b.removeListener&&b.removeListener(w),(_=Ni(b))?(we(_,d),_.h==0&&(_.src=null,b[qe]=null)):ae(d)}}}function ms(d){return d in kt?kt[d]:kt[d]="on"+d}function Po(d,b){if(d.da)d=!0;else{b=new Me(b,this);const _=d.listener,w=d.ha||d.src;d.fa&&Ea(d),d=_.call(w,b)}return d}function Ni(d){return d=d[qe],d instanceof de?d:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(d){return typeof d=="function"?d:(d[Uo]||(d[Uo]=function(b){return d.handleEvent(b)}),d[Uo])}function xt(){N.call(this),this.i=new de(this),this.M=this,this.G=null}E(xt,N),xt.prototype[De]=!0,xt.prototype.removeEventListener=function(d,b,_,w){xa(this,d,b,_,w)};function Ot(d,b){var _,w=d.G;if(w)for(_=[];w;w=w.G)_.push(w);if(d=d.M,w=b.type||b,typeof b=="string")b=new R(b,d);else if(b instanceof R)b.target=b.target||d;else{var U=b;b=new R(w,d),le(b,U)}U=!0;let $,oe;if(_)for(oe=_.length-1;oe>=0;oe--)$=b.g=_[oe],U=_r($,w,!0,b)&&U;if($=b.g=d,U=_r($,w,!0,b)&&U,U=_r($,w,!1,b)&&U,_)for(oe=0;oe<_.length;oe++)$=b.g=_[oe],U=_r($,w,!1,b)&&U}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const _=d.g[b];for(let w=0;w<_.length;w++)ae(_[w]);delete d.g[b],d.h--}}this.G=null},xt.prototype.J=function(d,b,_,w){return this.i.add(String(d),b,!1,_,w)},xt.prototype.K=function(d,b,_,w){return this.i.add(String(d),b,!0,_,w)};function _r(d,b,_,w){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let U=!0;for(let $=0;$<b.length;++$){const oe=b[$];if(oe&&!oe.da&&oe.capture==_){const Ce=oe.listener,yt=oe.ha||oe.src;oe.fa&&we(d.i,oe),U=Ce.call(yt,w)!==!1&&U}}return U&&!w.defaultPrevented}function Uh(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(d,b||0)}function Uc(d){d.g=Uh(()=>{d.g=null,d.i&&(d.i=!1,Uc(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class rn extends N{constructor(b,_){super(),this.m=b,this.l=_,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(d){N.call(this),this.h=d,this.g={}}E(Ci,N);var Bo=[];function qo(d){ge(d.g,function(b,_){this.g.hasOwnProperty(_)&&Ea(b)},d),d.g={}}Ci.prototype.N=function(){Ci.Z.N.call(this),qo(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,zh=h.JSON.parse,zc=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Bc(){}function qc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){R.call(this,"d")}E(qt,R);function In(){R.call(this,"c")}E(In,R);var gt={},Fc=null;function Ta(){return Fc=Fc||new xt}gt.Ia="serverreachability";function Hc(d){R.call(this,gt.Ia,d)}E(Hc,R);function ps(d){const b=Ta();Ot(b,new Hc(b))}gt.STAT_EVENT="statevent";function Ri(d,b){R.call(this,gt.STAT_EVENT,d),this.stat=b}E(Ri,R);function Et(d){const b=Ta();Ot(b,new Ri(b,d))}gt.Ja="timingevent";function gs(d,b){R.call(this,gt.Ja,d),this.size=b}E(gs,R);function ys(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},b)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Bh(d,b,_,w,U,$){d.info(function(){if(d.g)if($){var oe="",Ce=$.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var yt=Ce[Ke].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const On=lt.split("_");oe=On.length>=2&&On[1]=="type"?oe+(lt+"="+yt+"&"):oe+(lt+"=redacted&")}}}else oe=null;else oe=$;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+b+`
`+_+`
`+oe})}function Gc(d,b,_,w,U,$,oe){d.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+b+`
`+_+`
`+$+" "+oe})}function bs(d,b,_,w){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+qh(d,_)+(w?" "+w:"")})}function Ii(d,b){d.info(function(){return"TIMEOUT: "+b})}Jn.prototype.info=function(){};function qh(d,b){if(!d.g)return b;if(!b)return null;try{const $=JSON.parse(b);if($){for(d=0;d<$.length;d++)if(Array.isArray($[d])){var _=$[d];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return xr($)}catch{return b}}var ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Di(){}E(Di,Bc),Di.prototype.g=function(){return new XMLHttpRequest},Ho=new Di;function Gs(d){return encodeURIComponent(String(d))}function $c(d){var b=1;d=d.split(":");const _=[];for(;b>0&&d.length;)_.push(d.shift()),b--;return d.length&&_.push(d.join(":")),_}function Wn(d,b,_,w){this.j=d,this.i=b,this.l=_,this.S=w||1,this.V=new Ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new es}function es(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function vs(d,b,_){d.M=1,d.A=ki(At(b)),d.u=_,d.R=!0,wa(d,null)}function wa(d,b){d.F=Date.now(),_s(d),d.B=At(d.A);var _=d.B,w=d.S;Array.isArray(w)||(w=[String(w)]),Ca(_.i,"t",w),d.C=0,_=d.j.L,d.h=new es,d.g=ou(d.j,_?b:null,!d.u),d.P>0&&(d.O=new rn(y(d.Y,d,d.g),d.P)),b=d.V,_=d.g,w=d.ba;var U="readystatechange";Array.isArray(U)||(U&&(Bo[0]=U.toString()),U=Bo);for(let $=0;$<U.length;$++){const oe=ot(_,U[$],w||b.handleEvent,!1,b.h||b);if(!oe)break;b.g[oe.key]=oe}b=d.J?O(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),ps(),Bh(d.i,d.v,d.B,d.l,d.S,d.u)}Wn.prototype.ba=function(d){d=d.target;const b=this.O;b&&ss(d)==3?b.j():this.Y(d)},Wn.prototype.Y=function(d){try{if(d==this.g)e:{const Ce=ss(this.g),yt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Ke<=0?ps(3):ps(2)),xs(this);var b=this.g.ca();this.X=b;var _=Fh(this);if(this.o=b==200,Gc(this.i,this.v,this.B,this.l,this.S,Ce,b),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var $=w;break t}}$=null}if(d=$)bs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Es(this,d);else{this.o=!1,this.m=3,Et(12),bn(this),jn(this);break e}}if(this.R){d=!0;let lt;for(;!this.K&&this.C<_.length;)if(lt=Qc(this,_),lt==Lt){Ce==4&&(this.m=4,Et(14),d=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),bs(this.i,this.l,_,"[Invalid Chunk]"),d=!1;break}else bs(this.i,this.l,lt,null),Es(this,lt);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,Et(16),d=!1),this.o=this.o&&d,!d)bs(this.i,this.l,_,"[Invalid Chunked Response]"),bn(this),jn(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),il(oe),oe.P=!0,Et(11))}}else bs(this.i,this.l,_,null),Es(this,_);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?su(this.j,this):(this.o=!1,_s(this)))}else Ks(this.g),b==400&&_.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),bn(this),jn(this)}}}catch{}};function Fh(d){if(!Kc(d))return d.g.la();const b=Ft(d.g);if(b==="")return"";let _="";const w=b.length,U=ss(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return bn(d),jn(d),"";d.h.i=new h.TextDecoder}for(let $=0;$<w;$++)d.h.h=!0,_+=d.h.i.decode(b[$],{stream:!(U&&$==w-1)});return b.length=0,d.h.g+=_,d.C=0,d.h.g}function Kc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Qc(d,b){var _=d.C,w=b.indexOf(`
`,_);return w==-1?Lt:(_=Number(b.substring(_,w)),isNaN(_)?Tt:(w+=1,w+_>b.length?Lt:(b=b.slice(w,w+_),d.C=w+_,b)))}Wn.prototype.cancel=function(){this.K=!0,bn(this)};function _s(d){d.T=Date.now()+d.H,Aa(d,d.H)}function Aa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ys(y(d.aa,d),b)}function xs(d){d.D&&(h.clearTimeout(d.D),d.D=null)}Wn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ii(this.i,this.B),this.M!=2&&(ps(),Et(17)),bn(this),this.m=2,jn(this)):Aa(this,this.T-d)};function jn(d){d.j.I==0||d.K||su(d.j,d)}function bn(d){xs(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,qo(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Es(d,b){try{var _=d.j;if(_.I!=0&&(_.g==d||ws(_.h,d))){if(!d.L&&ws(_.h,d)&&_.I==3){try{var w=_.Ba.g.parse(b)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<d.F)ka(_),Rr(_);else break e;zi(_),Et(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ys(y(_.Va,_),6e3));Ts(_.h)<=1&&_.ta&&(_.ta=void 0)}else Is(_,11)}else if((d.L||_.g==d)&&ka(_),!j(b))for(U=_.Ba.g.parse(b),b=0;b<U.length;b++){let Ke=U[b];const lt=Ke[0];if(!(lt<=_.K))if(_.K=lt,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const On=Ke[3];On!=null&&(_.ka=On,_.j.info("VER="+_.ka));const js=Ke[4];js!=null&&(_.za=js,_.j.info("SVER="+_.za));const rs=Ke[5];rs!=null&&typeof rs=="number"&&rs>0&&(w=1.5*rs,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const is=d.g;if(is){const Bi=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var $=w.h;$.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ko($,$.h),$.h=null))}if(w.G){const Oa=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(w.wa=Oa,Ye(w.J,w.G,Oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-d.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var oe=d;if(w.na=au(w,w.L?w.ba:null,w.W),oe.L){Qo(w.h,oe);var Ce=oe,yt=w.O;yt&&(Ce.H=yt),Ce.D&&(xs(Ce),_s(Ce)),w.g=oe}else tu(w);_.i.length>0&&Rs(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Is(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Is(_,7):sl(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}ps(4)}catch{}}var wt=class{constructor(d,b){this.g=d,this.map=b}};function Go(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ts(d){return d.h?1:d.g?d.g.size:0}function ws(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Ko(d,b){d.g?d.g.add(b):d.h=b}function Qo(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Go.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const _ of d.g.values())b=b.concat(_.G);return b}return V(d.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(d,b){if(d){d=d.split("&");for(let _=0;_<d.length;_++){const w=d[_].indexOf("=");let U,$=null;w>=0?(U=d[_].substring(0,w),$=d[_].substring(w+1)):U=d[_],b(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function vn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof vn?(this.l=d.l,Pt(this,d.j),this.o=d.o,this.g=d.g,Er(this,d.u),this.h=d.h,Xo(this,Wc(d.i)),this.m=d.m):d&&(b=String(d).match(Yc))?(this.l=!1,Pt(this,b[1]||"",!0),this.o=As(b[2]||""),this.g=As(b[3]||"",!0),Er(this,b[4]),this.h=As(b[5]||"",!0),Xo(this,b[6]||"",!0),this.m=As(b[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}vn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Oi(b,Na,!0),":");var _=this.g;return(_||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Oi(b,Na,!0),"@"),d.push(Gs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&d.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Oi(_,_.charAt(0)=="/"?Zo:Xc,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Oi(_,Zc)),d.join("")},vn.prototype.resolve=function(d){const b=At(this);let _=!!d.j;_?Pt(b,d.j):_=!!d.o,_?b.o=d.o:_=!!d.g,_?b.g=d.g:_=d.u!=null;var w=d.h;if(_)Er(b,d.u);else if(_=!!d.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=b.h.lastIndexOf("/");U!=-1&&(w=b.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const $=[];for(let oe=0;oe<U.length;){const Ce=U[oe++];Ce=="."?w&&oe==U.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&oe==U.length&&$.push("")):($.push(Ce),w=!0)}w=$.join("/")}else w=U}return _?b.h=w:_=d.i.toString()!=="",_?Xo(b,Wc(d.i)):_=!!d.m,_&&(b.m=d.m),b};function At(d){return new vn(d)}function Pt(d,b,_){d.j=_?As(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Er(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Xo(d,b,_){b instanceof wr?(d.i=b,Ra(d.i,d.l)):(_||(b=Oi(b,Tr)),d.i=new wr(b,d.l))}function Ye(d,b,_){d.i.set(b,_)}function ki(d){return Ye(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function As(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oi(d,b,_){return typeof d=="string"?(d=encodeURI(d).replace(b,un),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function un(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Na=/[#\/\?@]/g,Xc=/[#\?:]/g,Zo=/[#\?]/g,Tr=/[#\?@]/g,Zc=/#/g;function wr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function dn(d){d.g||(d.g=new Map,d.h=0,d.i&&Sa(d.i,function(b,_){d.add(decodeURIComponent(b.replace(/\+/g," ")),_)}))}r=wr.prototype,r.add=function(d,b){dn(this),this.i=null,d=Ar(this,d);let _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(b),this.h+=1,this};function Jc(d,b){dn(d),b=Ar(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Jo(d,b){return dn(d),b=Ar(d,b),d.g.has(b)}r.forEach=function(d,b){dn(this),this.g.forEach(function(_,w){_.forEach(function(U){d.call(b,U,w,this)},this)},this)};function Wo(d,b){dn(d);let _=[];if(typeof b=="string")Jo(d,b)&&(_=_.concat(d.g.get(Ar(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)_=_.concat(d[b]);return _}r.set=function(d,b){return dn(this),this.i=null,d=Ar(this,d),Jo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=Wo(this,d),d.length>0?String(d[0]):b):b};function Ca(d,b,_){Jc(d,b),_.length>0&&(d.i=null,d.g.set(Ar(d,b),V(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let w=0;w<b.length;w++){var _=b[w];const U=Gs(_);_=Wo(this,_);for(let $=0;$<_.length;$++){let oe=U;_[$]!==""&&(oe+="="+Gs(_[$])),d.push(oe)}}return this.i=d.join("&")};function Wc(d){const b=new wr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Ar(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Ra(d,b){b&&!d.j&&(dn(d),d.i=null,d.g.forEach(function(_,w){const U=w.toLowerCase();w!=U&&(Jc(this,w),Ca(this,U,_))},d)),d.j=b}function ts(d,b){const _=new Jn;if(h.Image){const w=new Image;w.onload=x(Dn,_,"TestLoadImage: loaded",!0,b,w),w.onerror=x(Dn,_,"TestLoadImage: error",!1,b,w),w.onabort=x(Dn,_,"TestLoadImage: abort",!1,b,w),w.ontimeout=x(Dn,_,"TestLoadImage: timeout",!1,b,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=d}else b(!1)}function el(d,b){const _=new Jn,w=new AbortController,U=setTimeout(()=>{w.abort(),Dn(_,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:w.signal}).then($=>{clearTimeout(U),$.ok?Dn(_,"TestPingServer: ok",!0,b):Dn(_,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(U),Dn(_,"TestPingServer: error",!1,b)})}function Dn(d,b,_,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(_)}catch{}}function Sr(){this.g=new zc}function Ss(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ss,Bc),Ss.prototype.g=function(){return new Mi(this.i,this.h)};function Mi(d,b){xt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Mi,xt),r=Mi.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,ns(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Nr(this):ns(this),this.readyState==3&&Ia(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Nr(this))},r.Na=function(d){this.g&&(this.response=d,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ns(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var _=b.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=b.next();return d.join(`\r
`)};function ns(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function kn(d){let b="";return ge(d,function(_,w){b+=w,b+=":",b+=_,b+=`\r
`}),b}function Vi(d,b,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=kn(_),typeof d=="string"?_!=null&&Gs(_):Ye(d,b,_))}function Je(d){xt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,xt);var Ns=/^https?$/i,tl=["POST","PUT"];r=Je.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch($){Li(this,$);return}if(d=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)_.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),U=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(tl,b,void 0)>=0)||w||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of _)this.g.setRequestHeader($,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch($){Li(this,$)}};function Li(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,nl(d),$s(d)}function nl(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ot(this,"complete"),Ot(this,"abort"),$s(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Pi(this):this.Xa())},r.Xa=function(){Pi(this)};function Pi(d){if(d.h&&typeof c<"u"){if(d.v&&ss(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ot(d,"readystatechange"),ss(d)==4){d.h=!1;try{const $=d.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var _;if(!(_=b)){var w;if(w=$===0){let oe=String(d.D).match(Yc)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),w=!Ns.test(oe?oe.toLowerCase():"")}_=w}if(_)Ot(d,"complete"),Ot(d,"success");else{d.o=6;try{var U=ss(d)>2?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.ca()+"]",nl(d)}}finally{$s(d)}}}}function $s(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const _=d.g;d.g=null,b||Ot(d,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}r.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),zh(b)}};function Ft(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(d){const b={};d=(d.g&&ss(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<d.length;w++){if(j(d[w]))continue;var _=$c(d[w]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=b[U]||[];b[U]=$,$.push(_)}Ne(b,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(d,b,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||b}function Cr(d){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,d),this.Za=Cs("retryDelaySeedMs",1e4,d),this.Ta=Cs("forwardChannelMaxRetries",2,d),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(d&&d.concurrentRequestLimit),this.Ba=new Sr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(d,b,_,w){Et(0),this.W=d,this.H=b||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=au(this,null,this.W),Rs(this)};function sl(d){if(ja(d),d.I==3){var b=d.V++,_=At(d.J);if(Ye(_,"SID",d.M),Ye(_,"RID",b),Ye(_,"TYPE","terminate"),Ui(d,_),b=new Wn(d,d.j,b),b.M=2,b.A=ki(At(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=b.A,_=!0),_||(b.g=ou(b.j,null),b.g.ea(b.A)),b.F=Date.now(),_s(b)}iu(d)}function Rr(d){d.g&&(il(d),d.g.cancel(),d.g=null)}function ja(d){Rr(d),d.v&&(h.clearTimeout(d.v),d.v=null),ka(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Rs(d){if(!$o(d.h)&&!d.m){d.m=!0;var b=d.Ea;re||C(),ue||(re(),ue=!0),I.add(b,d),d.D=0}}function Da(d,b){return Ts(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ys(y(d.Ea,d,b),ru(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const U=new Wn(this,this.j,d);let $=this.o;if(this.U&&($?($=O($),le($,this.U)):$=this.U),this.u!==null||this.R||(U.J=$,$=null),this.S)e:{for(var b=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(b+=w,b>4096){b=_;break e}if(b===4096||_===this.i.length-1){b=_+1;break e}}b=1e3}else b=1e3;b=eu(this,U,b),_=At(this.J),Ye(_,"RID",d),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),Ui(this,_),$&&(this.R?b="headers="+Gs(kn($))+"&"+b:this.u&&Vi(_,this.u,$)),Ko(this.h,U),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",b),Ye(_,"SID","null"),U.U=!0,vs(U,_,null)):vs(U,_,b),this.I=2}}else this.I==3&&(d?rl(this,d):this.i.length==0||$o(this.h)||rl(this))};function rl(d,b){var _;b?_=b.l:_=d.V++;const w=At(d.J);Ye(w,"SID",d.M),Ye(w,"RID",_),Ye(w,"AID",d.K),Ui(d,w),d.u&&d.o&&Vi(w,d.u,d.o),_=new Wn(d,d.j,_,d.D+1),d.u===null&&(_.J=d.o),b&&(d.i=b.G.concat(d.i)),b=eu(d,_,1e3),_.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ko(d.h,_),vs(_,w,b)}function Ui(d,b){d.H&&ge(d.H,function(_,w){Ye(b,w,_)}),d.l&&ge({},function(_,w){Ye(b,w,_)})}function eu(d,b,_){_=Math.min(d.i.length,_);const w=d.l?y(d.l.Ka,d.l,d):null;e:{var U=d.i;let Ce=-1;for(;;){const yt=["count="+_];Ce==-1?_>0?(Ce=U[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Ke=!0;for(let lt=0;lt<_;lt++){var $=U[lt].g;const On=U[lt].map;if($-=Ce,$<0)Ce=Math.max(0,U[lt].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var oe=On instanceof Map?On:Object.entries(On);for(const[js,rs]of oe){let is=rs;p(rs)&&(is=xr(rs)),yt.push($+js+"="+encodeURIComponent(is))}}catch(js){throw yt.push($+"type="+encodeURIComponent("_badmap")),js}}catch{w&&w(On)}}if(Ke){oe=yt.join("&");break e}}oe=void 0}return d=d.i.splice(0,_),b.G=d,oe}function tu(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;re||C(),ue||(re(),ue=!0),I.add(b,d),d.A=0}}function zi(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ys(y(d.Da,d),ru(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ys(y(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rr(this),nu(this))};function il(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function nu(d){d.g=new Wn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=At(d.na);Ye(b,"RID","rpc"),Ye(b,"SID",d.M),Ye(b,"AID",d.K),Ye(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ye(b,"TO",d.ia),Ye(b,"TYPE","xmlhttp"),Ui(d,b),d.u&&d.o&&Vi(b,d.u,d.o),d.O&&(d.g.H=d.O);var _=d.g;d=d.ba,_.M=1,_.A=ki(At(b)),_.u=null,_.R=!0,wa(_,d)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),zi(this),Et(19))};function ka(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function su(d,b){var _=null;if(d.g==b){ka(d),il(d),d.g=null;var w=2}else if(ws(d.h,b))_=b.G,Qo(d.h,b),w=1;else return;if(d.I!=0){if(b.o)if(w==1){_=b.u?b.u.length:0,b=Date.now()-b.F;var U=d.D;w=Ta(),Ot(w,new gs(w,_)),Rs(d)}else tu(d);else if(U=b.m,U==3||U==0&&b.X>0||!(w==1&&Da(d,b)||w==2&&zi(d)))switch(_&&_.length>0&&(b=d.h,b.i=b.i.concat(_)),U){case 1:Is(d,5);break;case 4:Is(d,10);break;case 3:Is(d,6);break;default:Is(d,2)}}}function ru(d,b){let _=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(_*=2),_*b}function Is(d,b){if(d.j.info("Error code "+b),b==2){var _=y(d.bb,d),w=d.Ua;const U=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(w,"https"),ki(w),U?ts(w.toString(),_):el(w.toString(),_)}else Et(2);d.I=0,d.l&&d.l.pa(b),iu(d),ja(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function iu(d){if(d.I=0,d.ja=[],d.l){const b=Yo(d.h);(b.length!=0||d.i.length!=0)&&(H(d.ja,b),H(d.ja,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.oa()}}function au(d,b,_){var w=_ instanceof vn?At(_):new vn(_);if(w.g!="")b&&(w.g=b+"."+w.g),Er(w,w.u);else{var U=h.location;w=U.protocol,b=b?b+"."+U.hostname:U.hostname,U=+U.port;const $=new vn(null);w&&Pt($,w),b&&($.g=b),U&&Er($,U),_&&($.h=_),w=$}return _=d.G,b=d.wa,_&&b&&Ye(w,_,b),Ye(w,"VER",d.ka),Ui(d,w),w}function ou(d,b,_){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Je(new Ss({ab:_})):new Je(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(d,b){return new an(d,b)};function an(d,b){xt.call(this),this.g=new Cr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!j(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Qs(this)}E(an,xt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){sl(this.g)},an.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.v&&(_={},_.__data__=xr(d),d=_);b.i.push(new wt(b.Ya++,d)),b.I==3&&Rs(b)},an.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,an.Z.N.call(this)};function cu(d){qt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const _ in b){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}E(cu,qt);function uu(){In.call(this),this.status=1}E(uu,In);function Qs(d){this.g=d}E(Qs,lu),Qs.prototype.ra=function(){Ot(this.g,"a")},Qs.prototype.qa=function(d){Ot(this.g,new cu(d))},Qs.prototype.pa=function(d){Ot(this.g,new uu)},Qs.prototype.oa=function(){Ot(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,u1=function(){return new Ir},c1=function(){return Ta()},l1=gt,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,Nd=ji,Fo.COMPLETE="complete",o1=Fo,qc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Zl=qc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,a1=Je}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let jo="12.8.0";function SR(r){jo=r}const ua=new Xp("@firebase/firestore");function uo(){return ua.logLevel}function he(r,...e){if(ua.logLevel<=Pe.DEBUG){const n=e.map(Wp);ua.debug(`Firestore (${jo}): ${r}`,...n)}}function gr(r,...e){if(ua.logLevel<=Pe.ERROR){const n=e.map(Wp);ua.error(`Firestore (${jo}): ${r}`,...n)}}function Eo(r,...e){if(ua.logLevel<=Pe.WARN){const n=e.map(Wp);ua.warn(`Firestore (${jo}): ${r}`,...n)}}function Wp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,d1(r,i,n)}function d1(r,e,n){let i=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw gr(i),new Error(i)}function He(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||d1(e,o,i)}function Ae(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class h1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class CR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ps,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ps)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new h1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class IR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const i=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=kR(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Ue(r,e){return r<e?-1:r>e?1:0}function pp(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return Jm(o)===Jm(c)?Ue(o,c):Jm(o)?1:-1}return Ue(r.length,e.length)}const OR=55296,MR=57343;function Jm(r){const e=r.charCodeAt(0);return e>=OR&&e<=MR}function To(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const Hv="__name__";class Vs{constructor(e,n,i){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&_e(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=Vs.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const i=Vs.isNumericId(e),o=Vs.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class nt extends Vs{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vs{construct(e,n,i){return new Yt(e,n,i)}static isValidIdentifier(e){return VR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Yt([Hv])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(c(),o++)}if(c(),h)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function f1(r,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LR(r,e,n,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Gv(r){if(!ye.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(ye.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function m1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Kn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(r);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nc(r,e){if(!m1(r))throw new ce(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new ce(X.INVALID_ARGUMENT,n);return!0}const Kv=-62135596800,Qv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Qv);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kv)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hc=-1;function PR(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new mi(o,ye.empty(),e)}function UR(r){return new mi(r.readTime,r.key,hc)}class mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new mi(Ee.min(),ye.empty(),hc)}static max(){return new mi(Ee.max(),ye.empty(),hc)}}function zR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==BR)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,i)=>{n(e)}))}static reject(e){return new te(((n,i)=>{i(e)}))}static waitFor(e){return new te(((n,i)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>i(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next((o=>o?te.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new te(((i,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&i(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new te(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function FR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const tg=-1;function Cc(r){return r==null}function zd(r){return r===0&&1/r==-1/0}function HR(r){return typeof r=="number"&&Number.isInteger(r)&&!zd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const p1="";function GR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Yv(e)),e=$R(r.get(n),e);return Yv(e)}function $R(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case p1:n+="";break;default:n+=c}}return n}function Yv(r){return r+p1+""}function Xv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ei(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function g1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new Qt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new y1("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=KR.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gi(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}const b1="server_timestamp",v1="__type__",_1="__previous_value__",x1="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[v1]?.stringValue===b1}function _h(r){const e=r.mapValue.fields[_1];return ng(e)?_h(e):e}function fc(r){const e=pi(r.mapValue.fields[x1].timestampValue);return new at(e.seconds,e.nanos)}class QR{constructor(e,n,i,o,c,h,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Bd="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}function YR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(r.options.projectId,e)}const E1="__type__",XR="__max__",yd={mapValue:{}},T1="__vector__",qd="value";function yi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:JR(r)?9007199254740991:ZR(r)?10:11:_e(28295,{value:r})}function Fs(r,e){if(r===e)return!0;const n=yi(r);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fc(r).isEqual(fc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=pi(o.timestampValue),p=pi(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return gi(o.bytesValue).isEqual(gi(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=_t(o.doubleValue),p=_t(c.doubleValue);return h===p?zd(h)===zd(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Xv(h)!==Xv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Fs(h[g],p[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function pc(r,e){return(r.values||[]).find((n=>Fs(n,e)))!==void 0}function wo(r,e){if(r===e)return 0;const n=yi(r),i=yi(e);if(n!==i)return Ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=_t(c.integerValue||c.doubleValue),g=_t(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return Jv(r.timestampValue,e.timestampValue);case 4:return Jv(fc(r),fc(e));case 5:return pp(r.stringValue,e.stringValue);case 6:return(function(c,h){const p=gi(c),g=gi(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Ue(p[y],g[y]);if(x!==0)return x}return Ue(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ue(_t(c.latitude),_t(h.latitude));return p!==0?p:Ue(_t(c.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Wv(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[qd]?.arrayValue,x=g[qd]?.arrayValue,E=Ue(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Wv(y,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===yd.mapValue&&h===yd.mapValue)return 0;if(c===yd.mapValue)return 1;if(h===yd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=pp(g[E],x[E]);if(S!==0)return S;const V=wo(p[g[E]],y[x[E]]);if(V!==0)return V}return Ue(g.length,x.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Jv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=pi(r),i=pi(e),o=Ue(n.seconds,i.seconds);return o!==0?o:Ue(n.nanos,i.nanos)}function Wv(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=wo(n[o],i[o]);if(c)return c}return Ue(n.length,i.length)}function Ao(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=pi(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gi(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=gp(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${gp(n.fields[h])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function Cd(r){switch(yi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+Cd(e):16;case 5:return 2*r.stringValue.length;case 6:return gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Cd(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ei(i.fields,((c,h)=>{o+=c.length+Cd(h)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function e_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yp(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function t_(r){return!!r&&"nullValue"in r}function n_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rd(r){return!!r&&"mapValue"in r}function ZR(r){return(r?.mapValue?.fields||{})[E1]?.stringValue===T1}function sc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ei(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=sc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(r.arrayValue.values[n]);return e}return{...r}}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=Yt.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=sc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Rd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ei(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new ln(sc(this.value))}}function w1(r){const e=[];return Ei(r.fields,((n,i)=>{const o=new Yt([n]);if(Rd(i)){const c=w1(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class Bt{constructor(e,n,i,o,c,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Bt(e,0,Ee.min(),Ee.min(),Ee.min(),ln.empty(),0)}static newFoundDocument(e,n,i,o){return new Bt(e,1,n,Ee.min(),i,o,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ee.min(),Ee.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ee.min(),Ee.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function s_(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?i=ye.comparator(ye.fromName(h.referenceValue),n.key):i=wo(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function r_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fs(r.position[n],e.position[n]))return!1;return!0}class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function WR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class A1{}class jt extends A1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new tI(e,n,i):n==="array-contains"?new rI(e,i):n==="in"?new iI(e,i):n==="not-in"?new aI(e,i):n==="array-contains-any"?new oI(e,i):new jt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new nI(e,i):new sI(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return S1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S1(r){return r.op==="and"}function N1(r){return eI(r)&&S1(r)}function eI(r){for(const e of r.filters)if(e instanceof ds)return!1;return!0}function bp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(N1(r))return r.filters.map((e=>bp(e))).join(",");{const e=r.filters.map((n=>bp(n))).join(",");return`${r.op}(${e})`}}function C1(r,e){return r instanceof jt?(function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&Fs(i.value,o.value)})(r,e):r instanceof ds?(function(i,o){return o instanceof ds&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,h,p)=>c&&C1(h,o.filters[p])),!0):!1})(r,e):void _e(19439)}function R1(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(r):r instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"})(r):"Filter"}class tI extends jt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class nI extends jt{constructor(e,n){super(e,"in",n),this.keys=I1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=I1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I1(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class rI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&pc(n.arrayValue,this.value)}}class iI extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class aI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class oI extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>pc(this.value.arrayValue,i)))}}class lI{constructor(e,n=null,i=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function i_(r,e=null,n=[],i=[],o=null,c=null,h=null){return new lI(r,e,n,i,o,c,h)}function rg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>bp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ao(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ao(i))).join(",")),e.Te=n}return e.Te}function ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!C1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r_(r.startAt,e.startAt)&&r_(r.endAt,e.endAt)}function vp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,i=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cI(r,e,n,i,o,c,h,p){return new Oo(r,e,n,i,o,c,h,p)}function xh(r){return new Oo(r)}function a_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uI(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function j1(r){return r.collectionGroup!==null}function rc(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Vt(Yt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gc(c,i))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new gc(Yt.keyField(),i))}return e.Ie}function Us(r){const e=Ae(r);return e.Ee||(e.Ee=dI(e,rc(r))),e.Ee}function dI(r,e){if(r.limitType==="F")return i_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new gc(o.field,c)}));const n=r.endAt?new Fd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Fd(r.startAt.position,r.startAt.inclusive):null;return i_(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function _p(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function hI(r,e){const n=r.explicitOrderBy.concat([e]);return new Oo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Eh(r,e){return ig(Us(r),Us(e))&&r.limitType===e.limitType}function D1(r){return`${rg(Us(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>R1(o))).join(", ")}]`),Cc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${i})`})(Us(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ye.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of rc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=s_(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,rc(i),o)||i.endAt&&!(function(h,p,g){const y=s_(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,rc(i),o))})(r,e)}function fI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k1(r){return(e,n)=>{let i=!1;for(const o of rc(r)){const c=mI(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function mI(r,e,n){const i=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?wo(g,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:r.dir})}}class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}const pI=new ht(ye.comparator);function yr(){return pI}const O1=new ht(ye.comparator);function Jl(...r){let e=O1;for(const n of r)e=e.insert(n.key,n);return e}function M1(r){let e=O1;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ra(){return ic()}function V1(){return ic()}function ic(){return new ya((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gI=new ht(ye.comparator),yI=new Vt(ye.comparator);function ze(...r){let e=yI;for(const n of r)e=e.add(n);return e}const bI=new Vt(Ue);function vI(){return bI}function ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function L1(r){return{integerValue:""+r}}function _I(r,e){return HR(e)?L1(e):ag(r,e)}class wh{constructor(){this._=void 0}}function xI(r,e,n){return r instanceof Hd?(function(o,c){const h={fields:{[v1]:{stringValue:b1},[x1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ng(c)&&(c=_h(c)),c&&(h.fields[_1]=c),{mapValue:h}})(n,e):r instanceof yc?U1(r,e):r instanceof bc?z1(r,e):(function(o,c){const h=P1(o,c),p=o_(h)+o_(o.Ae);return yp(h)&&yp(o.Ae)?L1(p):ag(o.serializer,p)})(r,e)}function EI(r,e,n){return r instanceof yc?U1(r,e):r instanceof bc?z1(r,e):n}function P1(r,e){return r instanceof Gd?(function(i){return yp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Hd extends wh{}class yc extends wh{constructor(e){super(),this.elements=e}}function U1(r,e){const n=B1(e);for(const i of r.elements)n.some((o=>Fs(o,i)))||n.push(i);return{arrayValue:{values:n}}}class bc extends wh{constructor(e){super(),this.elements=e}}function z1(r,e){let n=B1(e);for(const i of r.elements)n=n.filter((o=>!Fs(o,i)));return{arrayValue:{values:n}}}class Gd extends wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o_(r){return _t(r.integerValue||r.doubleValue)}function B1(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TI(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof yc&&o instanceof yc||i instanceof bc&&o instanceof bc?To(i.elements,o.elements,Fs):i instanceof Gd&&o instanceof Gd?Fs(i.Ae,o.Ae):i instanceof Hd&&o instanceof Hd})(r.transform,e.transform)}class wI{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function q1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sh(r.key,cn.none()):new Rc(r.key,r.data,cn.none());{const n=r.data,i=ln.empty();let o=new Vt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Ti(r.key,i,new Cn(o.toArray()),cn.none())}}function AI(r,e,n){r instanceof Rc?(function(o,c,h){const p=o.value.clone(),g=c_(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ti?(function(o,c,h){if(!Id(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=c_(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(F1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ac(r,e,n,i){return r instanceof Rc?(function(c,h,p,g){if(!Id(c.precondition,h))return p;const y=c.value.clone(),x=u_(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ti?(function(c,h,p,g){if(!Id(c.precondition,h))return p;const y=u_(c.fieldTransforms,g,h),x=h.data;return x.setAll(F1(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(c,h,p){return Id(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function SI(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=P1(i.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(i.field,c))}return n||null}function l_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&To(i,o,((c,h)=>TI(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Rc extends Ah{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ti extends Ah{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function F1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function c_(r,e,n){const i=new Map;He(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,p=e.data.field(c.field);i.set(c.field,EI(h,p,n[o]))}return i}function u_(r,e,n){const i=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);i.set(o.field,xI(c,h,e))}return i}class Sh extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H1 extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NI{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&AI(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ac(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ac(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=V1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=q1(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,i)=>l_(n,i)))&&To(this.baseMutations,e.baseMutations,((n,i)=>l_(n,i)))}}class og{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){He(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return gI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new og(e,n,i,o)}}class CI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Fe;function G1(r){switch(r){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function $1(r){if(r===void 0)return gr("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:r})}}(Fe=It||(It={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function II(){return new TextEncoder}const jI=new oi([4294967295,4294967295],0);function d_(r){const e=II().encode(r),n=new i1;return n.update(e),new Uint8Array(n.digest())}function h_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new oi([n,i],0),new oi([o,c],0)]}class lg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(i<0)throw new Wl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(oi.fromNumber(i)));return o.compare(jI)===1&&(o=new oi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d_(e),[i,o]=h_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new lg(c,o,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=d_(e),[i,o]=h_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Nh(Ee.min(),o,new ht(Ue),yr(),ze())}}class Ic{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ic(i,n,ze(),ze(),ze())}}class jd{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class K1{constructor(e,n){this.targetId=e,this.Ce=n}}class Q1{constructor(e,n,i=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=m_(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),i=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:c})}})),new Ic(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=m_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DI{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=bd(),this.Je=bd(),this.Ze=new ht(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(vp(c))if(i===0){const h=new ye(c.path);this.et(n,h,Bt.newNoDocument(h,Ee.min()))}else He(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=gi(i).toUint8Array()}catch(g){if(g instanceof y1)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new lg(h,o,c)}catch(g){return Eo(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&vp(p.target)){const g=new ye(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Bt.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let i=ze();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Nh(e,n,this.Ze,this.je,i);return this.je=yr(),this.He=bd(),this.Je=bd(),this.Ze=new ht(Ue),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new f_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new ht(ye.comparator)}function m_(){return new ht(ye.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class VI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(r,e){return r.useProto3Json||Cc(e)?e:{value:e}}function $d(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LI(r,e){return $d(r,e.toTimestamp())}function Rn(r){return He(!!r,49232),Ee.fromTimestamp((function(n){const i=pi(n);return new at(i.seconds,i.nanos)})(r))}function cg(r,e){return Tp(r,e).canonicalString()}function Tp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function X1(r){const e=nt.fromString(r);return He(nE(e),10190,{key:e.toString()}),e}function Kd(r,e){return cg(r.databaseId,e.path)}function oc(r,e){const n=X1(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(J1(n))}function Z1(r,e){return cg(r.databaseId,e)}function PI(r){const e=X1(r);return e.length===4?nt.emptyPath():J1(e)}function wp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function J1(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function p_(r,e,n){return{name:Kd(r,e),fields:n.value.mapValue.fields}}function UI(r,e){return"found"in e?(function(i,o){He(!!o.found,43571),o.found.name,o.found.updateTime;const c=oc(i,o.found.name),h=Rn(o.found.updateTime),p=o.found.createTime?Rn(o.found.createTime):Ee.min(),g=new ln({mapValue:{fields:o.found.fields}});return Bt.newFoundDocument(c,h,p,g)})(r,e):"missing"in e?(function(i,o){He(!!o.missing,3894),He(!!o.readTime,22933);const c=oc(i,o.missing),h=Rn(o.readTime);return Bt.newNoDocument(c,h)})(r,e):_e(7234,{result:e})}function zI(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(He(x===void 0||typeof x=="string",58123),Zt.fromBase64String(x||"")):(He(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Zt.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?X.UNKNOWN:$1(y.code);return new ce(x,y.message||"")})(h);n=new Q1(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=oc(r,i.document.name),c=Rn(i.document.updateTime),h=i.document.createTime?Rn(i.document.createTime):Ee.min(),p=new ln({mapValue:{fields:i.document.fields}}),g=Bt.newFoundDocument(o,c,h,p),y=i.targetIds||[],x=i.removedTargetIds||[];n=new jd(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=oc(r,i.document),c=i.readTime?Rn(i.readTime):Ee.min(),h=Bt.newNoDocument(o,c),p=i.removedTargetIds||[];n=new jd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=oc(r,i.document),c=i.removedTargetIds||[];n=new jd([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new RI(o,c),p=i.targetId;n=new K1(p,h)}}return n}function W1(r,e){let n;if(e instanceof Rc)n={update:p_(r,e.key,e.value)};else if(e instanceof Sh)n={delete:Kd(r,e.key)};else if(e instanceof Ti)n={update:p_(r,e.key,e.data),updateMask:YI(e.fieldMask)};else{if(!(e instanceof H1))return _e(16599,{dt:e.type});n={verify:Kd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const p=h.transform;if(p instanceof Hd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:LI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(r,e.precondition)),n}function BI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Rn(o.updateTime):Rn(c);return h.isEqual(Ee.min())&&(h=Rn(c)),new wI(h,o.transformResults||[])})(n,e)))):[]}function qI(r,e){return{documents:[Z1(r,e.path)]}}function FI(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Z1(r,o);const c=(function(y){if(y.length!==0)return tE(ds.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:fo(S.field),direction:$I(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Ep(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function HI(r){let e=PI(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){He(i===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=eE(E);return S instanceof ds&&N1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(H){return new gc(mo(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,Cc(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,V=E.values||[];return new Fd(V,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,V=E.values||[];return new Fd(V,S)})(n.endAt)),cI(e,o,h,c,p,"F",g,y)}function GI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=mo(n.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((i=>eE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function $I(r){return kI[r]}function KI(r){return OI[r]}function QI(r){return MI[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return Yt.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof jt?(function(n){if(n.op==="=="){if(n_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(t_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(t_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:KI(n.op),value:n.value}}})(r):r instanceof ds?(function(n){const i=n.getFilters().map((o=>tE(o)));return i.length===1?i[0]:{compositeFilter:{op:QI(n.op),filters:i}}})(r):_e(54877,{filter:r})}function YI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function sE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ri{constructor(e,n,i,o,c=Ee.min(),h=Ee.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XI{constructor(e){this.yt=e}}function ZI(r){const e=HI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}class JI{constructor(){this.Sn=new WI}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(mi.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class WI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Vt(nt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(rE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const y_="LruGarbageCollector",ej=1048576;function b_([r,e],[n,i]){const o=Ue(r,n);return o===0?Ue(e,i):o}class tj{constructor(e){this.Pr=e,this.buffer=new Vt(b_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();b_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(y_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?he(y_,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Ar(3e5)}))}}class sj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(vh.ce);const i=new tj(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(g_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),uo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function rj(r,e){return new sj(r,e)}class ij{constructor(){this.changes=new ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oj{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&ac(i.mutation,o,Cn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ze()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let h=Jl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=ra();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ze())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,o){let c=yr();const h=ic(),p=(function(){return ic()})();return n.forEach(((g,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Ti)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),ac(x.mutation,y,x.mutation.getFieldMask(),at.now())):h.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new aj(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=ic();let o=new ht(((h,p)=>h-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=i.get(g)||Cn.empty();x=p.applyToLocalView(y,x),i.set(g,x);const E=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=V1();x.forEach((S=>{if(!c.has(S)){const V=q1(n.get(S),i.get(S));V!==null&&E.set(S,V),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return uI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):te.resolve(ra());let p=hc,g=c;return h.next((y=>te.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((x=>({batchId:p,changes:M1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=Jl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,S){return new Oo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,Bt.newInvalidDocument(x)))}));let p=Jl();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&ac(x.mutation,y,Cn.empty(),at.now()),Th(n,y)&&(p=p.insert(g,y))})),p}))}}class lj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Rn(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:ZI(o.bundledQuery),readTime:Rn(o.readTime)}})(n)),te.resolve()}}class cj{constructor(){this.overlays=new ht(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ra();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=ra(),c=n.length+1,h=new ye(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new ht(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=ra(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ra(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return te.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new CI(n,i));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(i.key))}}class uj{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class ug{constructor(){this.kr=new Vt(zt.Kr),this.qr=new Vt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new nt([])),i=new zt(n,e),o=new zt(n,e+1),c=[];return this.qr.forEachInRange([i,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new nt([])),i=new zt(n,e),o=new zt(n,e+1);let c=ze();return this.qr.forEachInRange([i,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class dj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(zt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new NI(c,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?tg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([i,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vt(Ue);return n.forEach((o=>{const c=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{i=i.add(p.Hr)}))})),te.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;ye.isDocumentKey(c)||(c=c.child(""));const h=new zt(new ye(c),0);let p=new Vt(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),te.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return te.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new zt(n,0),o=this.Jr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hj{constructor(e){this.ti=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let i=yr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Bt.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=yr();const h=n.path,p=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||zR(UR(x),i)<=0||(o.has(x.key)||Th(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,o){_e(9500)}ni(e,n){return te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new fj(this)}getSize(e){return te.resolve(this.size)}}class fj extends ij{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class mj{constructor(e){this.persistence=e,this.ri=new ya((n=>rg(n)),ig),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new ug,this.targetCount=0,this.oi=So._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new So(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),te.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class iE{constructor(e,n){this._i={},this.overlays={},this.ai=new vh(0),this.ui=!1,this.ui=!0,this.ci=new uj,this.referenceDelegate=e(this),this.li=new mj(this),this.indexManager=new JI,this.remoteDocumentCache=(function(o){return new hj(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new XI(n),this.Pi=new lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new dj(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const o=new pj(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class pj extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new ug,this.Ai=null}static Vi(e){return new dg(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qd{constructor(e,n){this.persistence=e,this.fi=new ya((i=>GR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=rj(this,n)}static Vi(e,n){return new Qd(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(i++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cd(e.data.value)),n}wr(e,n,i){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(e,n.fromCache,i,o)}}class gj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lC()?8:FR(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new gj;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(uo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(uo()<=Pe.DEBUG&&he("QueryEngine","Query:",ho(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(uo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(n))):te.resolve())}gs(e,n){if(a_(n))return te.resolve(null);let i=Us(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),i=Us(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=ze(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,xp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return a_(n)||o.isEqual(Ee.min())?te.resolve(null):this.fs.getDocuments(e,i).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,i,o)?te.resolve(null):(uo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.Ds(e,h,n,PR(o,hc)).next((p=>p)))}))}bs(e,n){let i=new Vt(k1(e));return n.forEach(((o,c)=>{Th(e,c)&&(i=i.add(c))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,i){return uo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ho(n)),this.fs.getDocumentsMatchingQuery(e,n,mi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const fg="LocalStore",bj=3e8;class vj{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ue),this.Fs=new ya((c=>rg(c)),ig),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _j(r,e,n,i){return new vj(r,e,n,i)}async function aE(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],p=[];let g=ze();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function xj(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let V=te.resolve();return S.forEach((H=>{V=V.next((()=>x.getEntry(g,H))).next((G=>{const F=y.docVersions.get(H);He(F!==null,48541),G.version.compareTo(F)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),x.addEntry(G)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function oE(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Ej(r,e){const n=Ae(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const S=o.get(E);if(!S)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let V=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(Zt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(x.resumeToken,i)),o=o.insert(E,V),(function(G,F,se){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=bj?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(S,V,x)&&p.push(n.li.updateTargetData(c,V))}));let g=yr(),y=ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(Tj(c,h,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!i.isEqual(Ee.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(x)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function Tj(r,e,n){let i=ze(),o=ze();return n.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let h=yr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):he(fg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function wj(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Aj(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(i).next((h=>(o=new ri(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Ap(r,e,n){const i=Ae(r),o=i.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ko(h))throw h;he(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function v_(r,e,n){const i=Ae(r);let o=Ee.min(),c=ze();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Ae(g),S=E.Fs.get(x);return S!==void 0?te.resolve(E.vs.get(S)):E.li.getTargetData(y,x)})(i,h,Us(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?c:ze()))).next((p=>(Sj(i,fI(e),p),{documents:p,ks:c})))))}function Sj(r,e,n){let i=r.Ms.get(e)||Ee.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Ms.set(e,i)}class __{constructor(){this.activeTargetIds=vI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nj{constructor(){this.vo=new __,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new __,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cj{Mo(e){}shutdown(){}}const x_="ConnectivityMonitor";class E_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(x_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vd=null;function Sp(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}const Wm="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ij{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Bd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,c){const h=Sp(),p=this.Qo(e,n.toUriEncodedString());he(Wm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=xi(y);return this.zo(e,p,g,i,x).then((E=>(he(Wm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Eo(Wm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}jo(e,n,i,o,c,h){return this.Wo(e,n,i,o,c)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const i=Rj[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class jj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const tn="WebChannelConnection",$l=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends Ij{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=c1();$l(e,l1.STAT_EVENT,(n=>{n.stat===mp.PROXY?he(tn,"STAT_EVENT: detected buffering proxy"):n.stat===mp.NOPROXY&&he(tn,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,n,i,o,c){const h=Sp();return new Promise(((p,g)=>{const y=new a1;y.setWithCredentials(!0),y.listenOnce(o1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nd.NO_ERROR:const E=y.getResponseJson();he(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Nd.TIMEOUT:he(tn,`RPC '${e}' ${h} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const S=y.getStatus();if(he(tn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const G=(function(se){const ne=se.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ne)>=0?ne:X.UNKNOWN})(H.status);g(new ce(G,H.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(tn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);he(tn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,i,15)}))}T_(e,n,i){const o=Sp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=c.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=h.createWebChannel(y,p);this.I_(x);let E=!1,S=!1;const V=new jj({Ho:H=>{S?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(E||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),he(tn,`RPC '${e}' stream ${o} sending:`,H),x.send(H))},Jo:()=>x.close()});return $l(x,Zl.EventType.OPEN,(()=>{S||(he(tn,`RPC '${e}' stream ${o} transport opened.`),V.i_())})),$l(x,Zl.EventType.CLOSE,(()=>{S||(S=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),V.o_(),this.E_(x))})),$l(x,Zl.EventType.ERROR,(H=>{S||(S=!0,Eo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new ce(X.UNAVAILABLE,"The operation could not be completed")))})),$l(x,Zl.EventType.MESSAGE,(H=>{if(!S){const G=H.data[0];He(!!G,16349);const F=G,se=F?.error||F[0]?.error;if(se){he(tn,`RPC '${e}' stream ${o} received error:`,se);const ne=se.status;let ie=(function(ue){const I=It[ue];if(I!==void 0)return $1(I)})(ne),me=se.message;ie===void 0&&(ie=X.INTERNAL,me="Unknown error status: "+ne+" with message "+se.message),S=!0,V.o_(new ce(ie,me)),x.close()}else he(tn,`RPC '${e}' stream ${o} received:`,G),V.__(G)}})),yo.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return u1()}}function Dj(r){return new yo(r)}function ep(){return typeof document<"u"?document:null}function Ch(r){return new VI(r,!0)}yo.c_=!1;class mg{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const T_="PersistentStream";class lE{constructor(e,n,i,o,c,h,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kj extends lE{constructor(e,n,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zI(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Rn(h.readTime):Ee.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=wp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=vp(g)?{documents:qI(c,g)}:{query:FI(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=Y1(c,h.resumeToken);const y=Ep(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=$d(c,h.snapshotVersion.toTimestamp());const y=Ep(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=GI(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.K_(n)}}class Oj extends lE{constructor(e,n,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BI(e.writeResults,e.commitTime),i=Rn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=wp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>W1(this.serializer,i)))};this.K_(n)}}class Mj{}class Vj extends Mj{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Tp(n,i),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())}))}jo(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,Tp(n,i),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Lj(r,e,n,i){return new Vj(r,e,n,i)}class Pj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class Uj{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{i.enqueueAndForget((async()=>{ba(this)&&(he(da,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await jc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Va=new Pj(i,o)}}async function Rh(r){if(ba(r))for(const e of r.Ra)await e(!0)}async function jc(r){for(const e of r.Ra)await e(!1)}function cE(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?yg(n):Mo(n).O_()&&gg(n,e))}function pg(r,e){const n=Ae(r),i=Mo(n);n.Ia.delete(e),i.O_()&&uE(n,e),n.Ia.size===0&&(i.O_()?i.L_():ba(n)&&n.Va.set("Unknown"))}function gg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Z_(e)}function uE(r,e){r.da.$e(e),Mo(r).X_(e)}function yg(r){r.da=new DI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Va.ua()}function bg(r){return ba(r)&&!Mo(r).x_()&&r.Ia.size>0}function ba(r){return Ae(r).Ea.size===0}function dE(r){r.da=void 0}async function zj(r){r.Va.set("Online")}async function Bj(r){r.Ia.forEach(((e,n)=>{gg(r,e)}))}async function qj(r,e){dE(r),bg(r)?(r.Va.ha(e),yg(r)):r.Va.set("Unknown")}async function Fj(r,e,n){if(r.Va.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){he(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Yd(r,i)}else if(e instanceof jd?r.da.Xe(e):e instanceof K1?r.da.st(e):r.da.tt(e),!n.isEqual(Ee.min()))try{const i=await oE(r.localStore);n.compareTo(i)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Zt.EMPTY_BYTE_STRING,x.snapshotVersion)),uE(c,g);const E=new ri(x.target,g,y,x.sequenceNumber);gg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){he(da,"Failed to raise snapshot:",i),await Yd(r,i)}}async function Yd(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await jc(r),r.Va.set("Offline"),n||(n=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Rh(r)}))}function hE(r,e){return e().catch((n=>Yd(r,n,e)))}async function Ih(r){const e=Ae(r),n=bi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;Hj(e);)try{const o=await wj(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,Gj(e,o)}catch(o){await Yd(e,o)}fE(e)&&mE(e)}function Hj(r){return ba(r)&&r.Ta.length<10}function Gj(r,e){r.Ta.push(e);const n=bi(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function fE(r){return ba(r)&&!bi(r).x_()&&r.Ta.length>0}function mE(r){bi(r).start()}async function $j(r){bi(r).ra()}async function Kj(r){const e=bi(r);for(const n of r.Ta)e.ea(n.mutations)}async function Qj(r,e,n){const i=r.Ta.shift(),o=og.from(i,e,n);await hE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ih(r)}async function Yj(r,e){e&&bi(r).Y_&&await(async function(i,o){if((function(h){return G1(h)&&h!==X.ABORTED})(o.code)){const c=i.Ta.shift();bi(i).B_(),await hE(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ih(i)}})(r,e),fE(r)&&mE(r)}async function w_(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),he(da,"RemoteStore received new credentials");const i=ba(n);n.Ea.add(3),await jc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rh(n)}async function Xj(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Rh(n)):e||(n.Ea.add(2),await jc(n),n.Va.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,i,o){const c=Ae(n);return c.sa(),new kj(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:zj.bind(null,r),Yo:Bj.bind(null,r),t_:qj.bind(null,r),J_:Fj.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),bg(r)?yg(r):r.Va.set("Unknown")):(await r.ma.stop(),dE(r))}))),r.ma}function bi(r){return r.fa||(r.fa=(function(n,i,o){const c=Ae(n);return c.sa(),new Oj(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$j.bind(null,r),t_:Yj.bind(null,r),ta:Kj.bind(null,r),na:Qj.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ih(r)):(await r.fa.stop(),r.Ta.length>0&&(he(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const h=Date.now()+i,p=new vg(e,n,h,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,e){if(gr("AsyncQueue",`${e}: ${r}`),ko(r))return new ce(X.UNAVAILABLE,`${e}: ${r}`);throw r}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Jl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class A_{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class No{constructor(e,n,i,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new No(e,n,bo.emptySet(n),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class Zj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Jj{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ae(n),c=o.queries;o.queries=S_(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function S_(){return new ya((r=>D1(r)),Eh)}async function xg(r,e){const n=Ae(r);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(i=2):(c=new Zj,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=_g(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Tg(n)}async function Eg(r,e){const n=Ae(r),i=e.query;let o=3;const c=n.queries.get(i);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Wj(r,e){const n=Ae(r);let i=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(i=!0);h.wa=o}}i&&Tg(n)}function e4(r,e,n){const i=Ae(r),o=i.queries.get(e);if(o)for(const c of o.ba)c.onError(n);i.queries.delete(e)}function Tg(r){r.Ca.forEach((e=>{e.next()}))}var Np,N_;(N_=Np||(Np={})).Ma="default",N_.Cache="cache";class wg{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new No(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}class pE{constructor(e){this.key=e}}class gE{constructor(e){this.key=e}}class t4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=k1(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new A_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const S=o.get(x),V=Th(this.query,E)?E:null,H=!!S&&this.mutatedKeys.has(S.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?H!==G&&(i.track({type:3,doc:V}),F=!0):this.su(S,V)||(i.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!S&&V?(i.track({type:0,doc:V}),F=!0):S&&!V&&(i.track({type:1,doc:S}),F=!0,(g||y)&&(p=!0)),F&&(V?(h=h.add(V),c=G?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:h,iu:i,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(V,H){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:F})}};return G(V)-G(H)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new No(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new gE(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new pE(i))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ag="SyncEngine";class n4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class s4{constructor(e){this.key=e,this.hu=!1}}class r4{constructor(e,n,i,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ya((p=>D1(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ye.comparator),this.Au=new Map,this.Vu=new ug,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i4(r,e,n=!0){const i=EE(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(i,e,n,!0),o}async function a4(r,e){const n=EE(r);await yE(n,e,!0,!1)}async function yE(r,e,n,i){const o=await Aj(r.localStore,Us(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await o4(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&cE(r.remoteStore,o),p}async function o4(r,e,n,i,o){r.pu=(E,S,V)=>(async function(G,F,se,ne){let ie=F.view.ru(se);ie.Ss&&(ie=await v_(G.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,ie))));const me=ne&&ne.targetChanges.get(F.targetId),re=ne&&ne.targetMismatches.get(F.targetId)!=null,ue=F.view.applyChanges(ie,G.isPrimaryClient,me,re);return R_(G,F.targetId,ue.au),ue.snapshot})(r,E,S,V);const c=await v_(r.localStore,e,!0),h=new t4(e,c.ks),p=h.ru(c.documents),g=Ic.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);R_(r,n,y.au);const x=new n4(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function l4(r,e,n){const i=Ae(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((h=>!Eh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&pg(i.remoteStore,o.targetId),Cp(i,o.targetId)})).catch(Do)):(Cp(i,o.targetId),await Ap(i.localStore,o.targetId,!0))}async function c4(r,e){const n=Ae(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pg(n.remoteStore,i.targetId))}async function u4(r,e,n){const i=y4(r);try{const o=await(function(h,p){const g=Ae(h),y=at.now(),x=p.reduce(((V,H)=>V.add(H.key)),ze());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=yr(),G=ze();return g.xs.getEntries(V,x).next((F=>{H=F,H.forEach(((se,ne)=>{ne.isValidDocument()||(G=G.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,H))).next((F=>{E=F;const se=[];for(const ne of p){const ie=SI(ne,E.get(ne.key).overlayedDocument);ie!=null&&se.push(new Ti(ne.key,ie,w1(ie.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,se,p)})).next((F=>{S=F;const se=F.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(V,F.batchId,se)}))})).then((()=>({batchId:S.batchId,changes:M1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(i,o.batchId,n),await Dc(i,o.changes),await Ih(i.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");n.reject(c)}}async function bE(r,e){const n=Ae(r);try{const i=await Ej(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),await Dc(n,i,e)}catch(i){await Do(i)}}function C_(r,e,n){const i=Ae(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ae(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.ba)S.va(p)&&(y=!0)})),y&&Tg(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function d4(r,e,n){const i=Ae(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new ht(ye.comparator);h=h.insert(c,Bt.newNoDocument(c,Ee.min()));const p=ze().add(c),g=new Nh(Ee.min(),new Map,new ht(Ue),h,p);await bE(i,g),i.Ru=i.Ru.remove(c),i.Au.delete(e),Sg(i)}else await Ap(i.localStore,e,!1).then((()=>Cp(i,e,n))).catch(Do)}async function h4(r,e){const n=Ae(r),i=e.batch.batchId;try{const o=await xj(n.localStore,e);_E(n,i,null),vE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Dc(n,o)}catch(o){await Do(o)}}async function f4(r,e,n){const i=Ae(r);try{const o=await(function(h,p){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(He(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(i.localStore,e);_E(i,e,n),vE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Dc(i,o)}catch(o){await Do(o)}}function vE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function _E(r,e,n){const i=Ae(r);let o=i.du[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||xE(r,i)}))}function xE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(pg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Sg(r))}function R_(r,e,n){for(const i of n)i instanceof pE?(r.Vu.addReference(i.key,e),m4(r,i)):i instanceof gE?(he(Ag,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||xE(r,i.key)):_e(19791,{wu:i})}function m4(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(he(Ag,"New document in limbo: "+n),r.Eu.add(i),Sg(r))}function Sg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(nt.fromString(e)),i=r.fu.next();r.Au.set(i,new s4(n)),r.Ru=r.Ru.insert(n,i),cE(r.remoteStore,new ri(Us(xh(n.path)),i,"TargetPurposeLimboResolution",vh.ce))}}async function Dc(r,e,n){const i=Ae(r),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=hg.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(h),i.Pu.J_(o),await(async function(g,y){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(S=>te.forEach(S.Ts,(V=>x.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>te.forEach(S.Is,(V=>x.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!ko(E))throw E;he(fg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const V=x.vs.get(S),H=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(H);x.vs=x.vs.insert(S,G)}}})(i.localStore,c))}async function p4(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){he(Ag,"User change. New user:",e.toKey());const i=await aE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(X.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dc(n,i.Ns)}}function g4(r,e){const n=Ae(r),i=n.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function EE(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d4.bind(null,e),e.Pu.J_=Wj.bind(null,e.eventManager),e.Pu.yu=e4.bind(null,e.eventManager),e}function y4(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f4.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _j(this.persistence,new yj,e.initialUser,this.serializer)}Cu(e){return new iE(dg.Vi,this.serializer)}Du(e){return new Nj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class b4 extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new iE((i=>Qd.Vi(i,n)),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>C_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=p4.bind(null,this.syncEngine),await Xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jj})()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),i=Dj(e.databaseInfo);return Lj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,h,p){return new Uj(i,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>C_(this.syncEngine,n,0)),(function(){return E_.v()?new E_:new Cj})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,x){const E=new r4(o,c,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);he(da,"RemoteStore shutting down."),i.Ea.add(5),await jc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let v4=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const h=Ae(o),p={documents:c.map((E=>Kd(h.serializer,E)))},g=await h.jo("BatchGetDocuments",h.serializer.databaseId,nt.emptyPath(),p,c.length),y=new Map;g.forEach((E=>{const S=UI(h.serializer,E);y.set(S.key.toString(),S)}));const x=[];return c.forEach((E=>{const S=y.get(E.toString());He(!!S,55234,{key:E}),x.push(S)})),x})(this.datastore,e);return n.forEach((i=>this.recordVersion(i))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,i)=>{const o=ye.fromPath(i);this.mutations.push(new H1(o,this.precondition(o)))})),await(async function(i,o){const c=Ae(i),h={writes:o.map((p=>W1(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,nt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});n=Ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new ce(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new ce(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class _4{constructor(e,n,i,o,c){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=o,this.deferred=c,this.zu=i.maxAttempts,this.M_=new mg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new v4(this.datastore),n=this.Ju(e);n&&n.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((o=>{this.Zu(o)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Cc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!G1(n)}return!1}}const vi="FirestoreClient";class x4{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{he(vi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(he(vi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=_g(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tp(r,e){r.asyncQueue.verifyOperationInProgress(),he(vi,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await aE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function I_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await E4(r);he(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>w_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>w_(e.remoteStore,o))),r._onlineComponents=e}async function E4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(vi,"Using user provided OfflineComponentProvider");try{await tp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await tp(r,new Xd)}}else he(vi,"Using default OfflineComponentProvider"),await tp(r,new b4(void 0));return r._offlineComponents}async function Cg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(vi,"Using user provided OnlineComponentProvider"),await I_(r,r._uninitializedComponentsProvider._online)):(he(vi,"Using default OnlineComponentProvider"),await I_(r,new Rp))),r._onlineComponents}function T4(r){return Cg(r).then((e=>e.syncEngine))}function w4(r){return Cg(r).then((e=>e.datastore))}async function Zd(r){const e=await Cg(r),n=e.eventManager;return n.onListen=i4.bind(null,e.syncEngine),n.onUnlisten=l4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c4.bind(null,e.syncEngine),n}function A4(r,e,n,i){const o=new Ng(i),c=new wg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>xg(await Zd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Eg(await Zd(r),c)))}}function S4(r,e,n={}){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Ng({next:S=>{x.Nu(),h.enqueueAndForget((()=>Eg(c,E)));const V=S.docs.has(p);!V&&S.fromCache?y.reject(new ce(X.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&g&&g.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new wg(xh(p.path),x,{includeMetadataChanges:!0,Ka:!0});return xg(c,E)})(await Zd(r),r.asyncQueue,e,n,i))),i.promise}function N4(r,e,n={}){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Ng({next:S=>{x.Nu(),h.enqueueAndForget((()=>Eg(c,E))),S.fromCache&&g.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new wg(p,x,{includeMetadataChanges:!0,Ka:!0});return xg(c,E)})(await Zd(r),r.asyncQueue,e,n,i))),i.promise}function C4(r,e){const n=new Ps;return r.asyncQueue.enqueueAndForget((async()=>u4(await T4(r),e,n))),n.promise}function R4(r,e,n){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>{const o=await w4(r);new _4(r.asyncQueue,o,n,e,i).ju()})),i.promise}function TE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const I4="ComponentProvider",j_=new Map;function j4(r,e,n,i,o){return new QR(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,TE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const wE="firestore.googleapis.com",D_=!0;class k_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ej)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new NR;switch(i.type){case"firstParty":return new jR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=j_.get(n);i&&(he(I4,"Removing Datastore"),j_.delete(n),i.terminate())})(this),Promise.resolve()}}function D4(r,e,n,i={}){r=Kn(r,jh);const o=xi(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Qp(`https://${p}`),Yp("Firestore",!0)),c.host!==wE&&c.host!==p&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:i};if(!la(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=nn.MOCK_USER;else{y=Wx(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new nn(E)}r._authCredentials=new CR(new h1(y,x))}}class wi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class pt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Nc(n,pt._jsonSchema))return new pt(e,i||null,new ye(nt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Dt("string",pt._jsonSchemaVersion),referencePath:Dt("string")};class li extends wi{constructor(e,n,i){super(e,n,xh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function vc(r,e,...n){if(r=dt(r),f1("collection","path",e),r instanceof jh){const i=nt.fromString(e,...n);return $v(i),new li(r,null,i)}{if(!(r instanceof pt||r instanceof li))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return $v(i),new li(r.firestore,null,i)}}function Qn(r,e,...n){if(r=dt(r),arguments.length===1&&(e=eg.newId()),f1("doc","path",e),r instanceof jh){const i=nt.fromString(e,...n);return Gv(i),new pt(r,null,new ye(i))}{if(!(r instanceof pt||r instanceof li))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return Gv(i),new pt(r.firestore,r instanceof li?r.converter:null,new ye(i))}}const O_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mg(this,"async_queue_retry"),this._c=()=>{const i=ep();i&&he(O_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;he(O_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",V_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:V_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function V_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _i extends jh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new M_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function k4(r,e){const n=typeof r=="object"?r:Jp(),i=typeof r=="string"?r:Bd,o=yh(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=Xx("firestore");c&&D4(o,...c)}return o}function kc(r){if(r._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||O4(r),r._firestoreClient}function O4(r){const e=r._freezeSettings(),n=j4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new x4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Zt.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Dt("string",Nn._jsonSchemaVersion),bytes:Dt("string")};class Dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Dt("string",zs._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new us(e.vectorValues);throw new ce(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Dt("string",us._jsonSchemaVersion),vectorValues:Dt("object")};const M4=/^__.*__$/;class V4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class AE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class Ig{constructor(e,n,i,o,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Jd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(SE(this.dataSource)&&M4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ch(e)}createContext(e,n,i,o=!1){return new Ig({dataSource:e,methodName:n,targetDoc:i,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(r){const e=r._freezeSettings(),n=Ch(r._databaseId);return new L4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function P4(r,e,n,i,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",h,i);const p=RE(i,h);let g,y;if(c.merge)g=new Cn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=ha(e,E,n);if(!h.contains(S))throw new ce(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);DE(x,S)||x.push(S)}g=new Cn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new V4(new ln(p),g,y)}class Oc extends Rg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oc}}function NE(r,e,n,i){const o=r.createContext(1,e,n);Dg("Data must be an object, but it was:",o,i);const c=[],h=ln.empty();Ei(i,((g,y)=>{const x=jE(e,g,n);y=dt(y);const E=o.childContextForFieldPath(x);if(y instanceof Oc)c.push(x);else{const S=Mc(y,E);S!=null&&(c.push(x),h.set(x,S))}}));const p=new Cn(c);return new AE(h,p,o.fieldTransforms)}function CE(r,e,n,i,o,c){const h=r.createContext(1,e,n),p=[ha(e,i,n)],g=[o];if(c.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(ha(e,c[S])),g.push(c[S+1]);const y=[],x=ln.empty();for(let S=p.length-1;S>=0;--S)if(!DE(y,p[S])){const V=p[S];let H=g[S];H=dt(H);const G=h.childContextForFieldPath(V);if(H instanceof Oc)y.push(V);else{const F=Mc(H,G);F!=null&&(y.push(V),x.set(V,F))}}const E=new Cn(y);return new AE(x,E,h.fieldTransforms)}function U4(r,e,n,i=!1){return Mc(n,r.createContext(i?4:3,e))}function Mc(r,e){if(IE(r=dt(r)))return Dg("Unsupported field value:",e,r),RE(r,e);if(r instanceof Rg)return(function(i,o){if(!SE(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const c=[];let h=0;for(const p of i){let g=Mc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _I(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=at.fromDate(i);return{timestampValue:$d(o.serializer,c)}}if(i instanceof at){const c=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$d(o.serializer,c)}}if(i instanceof zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:Y1(o.serializer,i._byteString)};if(i instanceof pt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof us)return(function(h,p){const g=h instanceof us?h.toArray():h;return{mapValue:{fields:{[E1]:{stringValue:T1},[qd]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return ag(p.serializer,x)}))}}}}}})(i,o);if(sE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bh(i)}`)})(r,e)}function RE(r,e){const n={};return g1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(r,((i,o)=>{const c=Mc(o,e.childContextForField(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function IE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof zs||r instanceof Nn||r instanceof pt||r instanceof Rg||r instanceof us||sE(r))}function Dg(r,e,n){if(!IE(n)||!m1(n)){const i=bh(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ha(r,e,n){if((e=dt(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return jE(r,e);throw Jd("Field path arguments must be of type string or ",r,!1,void 0,n)}const z4=new RegExp("[~\\*/\\[\\]]");function jE(r,e,n){if(e.search(z4)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jd(r,e,n,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ce(X.INVALID_ARGUMENT,p+r+g)}function DE(r,e){return r.some((n=>n.isEqual(e)))}class kE{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ei(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[qd].arrayValue?.values?.map((i=>_t(i.doubleValue)));return new us(n)}convertGeoPoint(e){return new zs(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=pi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);He(nE(i),9688,{name:e});const o=new mc(i.get(1),i.get(3)),c=new ye(i.popFirst(5));return o.isEqual(n)||gr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class kh extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function B4(){return new Oc("deleteField")}const L_="@firebase/firestore",P_="4.10.0";function U_(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wd{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ha("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q4 extends Wd{data(){return super.data()}}function OE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class ME extends kg{}function Og(r,e,...n){let i=[];e instanceof kg&&i.push(e),i=i.concat(n),(function(c){const h=c.filter((g=>g instanceof Mg)).length,p=c.filter((g=>g instanceof Oh)).length;if(h>1||h>0&&p>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Oh extends ME{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Oh(e,n,i)}_apply(e){const n=this._parse(e);return LE(e._query,n),new wi(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=jg(e.firestore);return(function(c,h,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){B_(E,x);const H=[];for(const G of E)H.push(z_(g,c,G));S={arrayValue:{values:H}}}else S=z_(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||B_(E,x),S=U4(p,h,E,x==="in"||x==="not-in");return jt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ip(r,e,n){const i=e,o=ha("where",r);return Oh._create(o,i,n)}class Mg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)LE(h,g),h=_p(h,g)})(e._query,n),new wi(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends ME{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(c,h)})(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,hI(e._query,n))}}function VE(r,e="asc"){const n=e,i=ha("orderBy",r);return Vg._create(i,n)}function z_(r,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return e_(r,new ye(i))}if(n instanceof pt)return e_(r,n._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function B_(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LE(r,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function F4(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class H4 extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ci extends Wd{constructor(e,n,i,o,c,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ha("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ci._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",ci._jsonSchema={type:Dt("string",ci._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Dd extends ci{data(e={}){return super.data(e)}}class ia{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Dd(this._firestore,this._userDataWriter,i.key,i,new po(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Dd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Dd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:G4(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Dt("string",ia._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const $4={maxAttempts:5};function ec(r,e){if((r=dt(r)).firestore!==e)throw new ce(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class K4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=jg(e)}get(e){const n=ec(e,this._firestore),i=new H4(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const c=o[0];if(c.isFoundDocument())return new Wd(this._firestore,i,c.key,c,n.converter);if(c.isNoDocument())return new Wd(this._firestore,i,n._key,null,n.converter);throw _e(18433,{doc:c})}))}set(e,n,i){const o=ec(e,this._firestore),c=F4(o.converter,n,i),h=P4(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,i);return this._transaction.set(o._key,h),this}update(e,n,i,...o){const c=ec(e,this._firestore);let h;return h=typeof(n=dt(n))=="string"||n instanceof Dh?CE(this._dataReader,"Transaction.update",c._key,n,i,o):NE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,h),this}delete(e){const n=ec(e,this._firestore);return this._transaction.delete(n._key),this}}class Q4 extends K4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ec(e,this._firestore),i=new kh(this._firestore);return super.get(e).then((o=>new ci(this._firestore,i,n._key,o._document,new po(!1,!1),n.converter)))}}function PE(r,e,n){r=Kn(r,_i);const i={...$4,...n};(function(h){if(h.maxAttempts<1)throw new ce(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const o=kc(r);return R4(o,(c=>e(new Q4(r,c))),i)}function UE(r){r=Kn(r,pt);const e=Kn(r.firestore,_i),n=kc(e);return S4(n,r._key).then((i=>FE(e,r,i)))}function zE(r){r=Kn(r,wi);const e=Kn(r.firestore,_i),n=kc(e),i=new kh(e);return OE(r._query),N4(n,r._query).then((o=>new ia(e,i,r,o)))}function eh(r,e,n,...i){r=Kn(r,pt);const o=Kn(r.firestore,_i),c=jg(o);let h;return h=typeof(e=dt(e))=="string"||e instanceof Dh?CE(c,"updateDoc",r._key,e,n,i):NE(c,"updateDoc",r._key,e),qE(o,[h.toMutation(r._key,cn.exists(!0))])}function Y4(r){return qE(Kn(r.firestore,_i),[new Sh(r._key,cn.none())])}function BE(r,...e){r=dt(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||U_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(U_(e[i])){const y=e[i];e[i]=y.next?.bind(y),e[i+1]=y.error?.bind(y),e[i+2]=y.complete?.bind(y)}let c,h,p;if(r instanceof pt)h=Kn(r.firestore,_i),p=xh(r._key.path),c={next:y=>{e[i]&&e[i](FE(h,r,y))},error:e[i+1],complete:e[i+2]};else{const y=Kn(r,wi);h=Kn(y.firestore,_i),p=y._query;const x=new kh(h);c={next:E=>{e[i]&&e[i](new ia(h,x,y,E))},error:e[i+1],complete:e[i+2]},OE(r._query)}const g=kc(h);return A4(g,p,o,c)}function qE(r,e){const n=kc(r);return C4(n,e)}function FE(r,e,n){const i=n.docs.get(e._key),o=new kh(r);return new ci(r,o,e._key,i,new po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){SR(ga),ca(new fi("firestore",((i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new _i(new RR(i.getProvider("auth-internal")),new DR(h,i.getProvider("app-check-internal")),YR(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ls(L_,P_,e),Ls(L_,P_,"esm2020")})();var X4="firebase",Z4="12.8.0";Ls(X4,Z4,"app");function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J4=HE,GE=new Ac("auth","Firebase",HE());const th=new Xp("@firebase/auth");function W4(r,...e){th.logLevel<=Pe.WARN&&th.warn(`Auth (${ga}): ${r}`,...e)}function kd(r,...e){th.logLevel<=Pe.ERROR&&th.error(`Auth (${ga}): ${r}`,...e)}function hs(r,...e){throw Lg(r,...e)}function Bs(r,...e){return Lg(r,...e)}function $E(r,e,n){const i={...J4(),[e]:n};return new Ac("auth","Firebase",i).create(e,{appName:r.name})}function ui(r){return $E(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return GE.create(r,...e)}function Te(r,e,...n){if(!r)throw Lg(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kd(e),new Error(e)}function br(r,e){r||ur(e)}function jp(){return typeof self<"u"&&self.location?.href||""}function eD(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}function tD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eD()||iC()||"connection"in navigator)?navigator.onLine:!0}function nD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=nC()||aC()}get(){return tD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pg(r,e){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class KE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iD=new Vc(3e4,6e4);function va(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ai(r,e,n,i,o={}){return QE(r,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=Sc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return rC()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&xi(r.emulatorConfig.host)&&(y.credentials="include"),KE.fetch()(await YE(r,r.config.apiHost,n,p),y)})}async function QE(r,e,n){r._canInitEmulator=!1;const i={...sD,...e};try{const o=new oD(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw _d(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _d(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw _d(r,"user-disabled",h);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $E(r,x,y);hs(r,x)}}catch(o){if(o instanceof Hs)throw o;hs(r,"network-request-failed",{message:String(o)})}}async function Mh(r,e,n,i,o={}){const c=await Ai(r,e,n,i,o);return"mfaPendingCredential"in c&&hs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function YE(r,e,n,i){const o=`${e}${n}?${i}`,c=r,h=c.config.emulator?Pg(r.config,o):`${r.config.apiScheme}://${o}`;return rD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function aD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),iD.get())})}}function _d(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Bs(r,e,i);return o.customData._tokenResponse=n,o}function F_(r){return r!==void 0&&r.enterprise!==void 0}class lD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cD(r,e){return Ai(r,"GET","/v2/recaptchaConfig",va(r,e))}async function uD(r,e){return Ai(r,"POST","/v1/accounts:delete",e)}async function nh(r,e){return Ai(r,"POST","/v1/accounts:lookup",e)}function lc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dD(r,e=!1){const n=dt(r),i=await n.getIdToken(e),o=Ug(i);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:i,authTime:lc(np(o.auth_time)),issuedAtTime:lc(np(o.iat)),expirationTime:lc(np(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function Ug(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qx(n);return o?JSON.parse(o):(kd("Failed to decode base64 JWT payload"),null)}catch(o){return kd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function H_(r){const e=Ug(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _c(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hs&&hD(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function hD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const e=r.auth,n=await r.getIdToken(),i=await _c(r,nh(e,{idToken:n}));Te(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?XE(o.providerUserInfo):[],h=pD(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,x)}async function mD(r){const e=dt(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function XE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gD(r,e){const n=await QE(r,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await YE(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&xi(r.emulatorConfig.host)&&(g.credentials="include"),KE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yD(r,e){return Ai(r,"POST","/v2/accounts:revokeToken",va(r,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await gD(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,h=new vo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return ur("not implemented")}}function Wr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cs{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await _c(this,uD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:H,stsTokenManager:G}=n;Te(E&&G,e,"internal-error");const F=vo.fromJSON(this.name,G);Te(typeof E=="string",e,"internal-error"),Wr(i,e.name),Wr(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof V=="boolean",e,"internal-error"),Wr(c,e.name),Wr(h,e.name),Wr(p,e.name),Wr(g,e.name),Wr(y,e.name),Wr(x,e.name);const se=new cs({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:x});return H&&Array.isArray(H)&&(se.providerData=H.map(ne=>({...ne}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,n,i=!1){const o=new vo;o.updateFromServerResponse(n);const c=new cs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await sh(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?XE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new vo;p.updateFromIdToken(i);const g=new cs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const G_=new Map;function dr(r){br(r instanceof Function,"Expected a class definition");let e=G_.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,G_.set(r,e),e)}class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZE.type="NONE";const $_=ZE;function Od(r,e,n){return`firebase:${r}:${e}:${n}`}class _o{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,c),this.fullPersistenceKey=Od("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nh(this.auth,{idToken:e}).catch(()=>{});return n?cs._fromGetAccountInfoResponse(this.auth,n,e):null}return cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new _o(dr($_),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||dr($_);const h=Od(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const S=await nh(e,{idToken:x}).catch(()=>{});if(!S)break;E=await cs._fromGetAccountInfoResponse(e,S,x)}else E=cs._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new _o(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new _o(c,e,i))}}function K_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(rT(e))return"Webos";if(WE(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function JE(r=sn()){return/firefox\//i.test(r)}function WE(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(r=sn()){return/crios\//i.test(r)}function tT(r=sn()){return/iemobile/i.test(r)}function nT(r=sn()){return/android/i.test(r)}function sT(r=sn()){return/blackberry/i.test(r)}function rT(r=sn()){return/webos/i.test(r)}function zg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bD(r=sn()){return zg(r)&&!!window.navigator?.standalone}function vD(){return oC()&&document.documentMode===10}function iT(r=sn()){return zg(r)||nT(r)||rT(r)||sT(r)||/windows phone/i.test(r)||tT(r)}function aT(r,e=[]){let n;switch(r){case"Browser":n=K_(sn());break;case"Worker":n=`${K_(sn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${i}`}class _D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function xD(r,e={}){return Ai(r,"GET","/v2/passwordPolicy",va(r,e))}const ED=6;class TD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ED,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wD{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new _D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nh(this,{idToken:e}),i=await cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ui(this));const n=e?dt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xD(this),n=new TD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(r){return dt(r)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(r){Vh=r}function oT(r){return Vh.loadJS(r)}function SD(){return Vh.recaptchaEnterpriseScript}function ND(){return Vh.gapiScript}function CD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RD{constructor(){this.enterprise=new ID}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ID{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jD="recaptcha-enterprise",lT="NO_RECAPTCHA";class DD{constructor(e){this.type=jD,this.auth=Vo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{cD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new lD(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;F_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(lT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RD().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(p=>{if(!n&&F_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=SD();g.length!==0&&(g+=p),oT(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Y_(r,e,n,i=!1,o=!1){const c=new DD(r);let h;if(o)h=lT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function X_(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Y_(r,e,n,n==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Y_(r,e,n,n==="getOobCode");return i(r,h)}else return Promise.reject(c)})}function kD(r,e){const n=yh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(la(c,e??{}))return o;hs(o,"already-initialized")}return n.initialize({options:e})}function OD(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function MD(r,e,n){const i=Vo(r);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=cT(e),{host:h,port:p}=VD(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(la(y,i.config.emulator)&&la(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,xi(h)?(Qp(`${c}//${h}${g}`),Yp("Auth",!0)):LD()}function cT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VD(r){const e=cT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Z_(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:Z_(h)}}}function Z_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function PD(r,e){return Ai(r,"POST","/v1/accounts:signUp",e)}async function UD(r,e){return Mh(r,"POST","/v1/accounts:signInWithPassword",va(r,e))}async function zD(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",va(r,e))}async function BD(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",va(r,e))}class xc extends Bg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,n,"signInWithPassword",UD);case"emailLink":return zD(e,{email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,i,"signUpPassword",PD);case"emailLink":return BD(e,{idToken:n,email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(r,e){return Mh(r,"POST","/v1/accounts:signInWithIdp",va(r,e))}const qD="http://localhost";class fa extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const h=new fa(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:qD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}function FD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HD(r){const e=Yl(Xl(r)).link,n=e?Yl(Xl(e)).deep_link_id:null,i=Yl(Xl(r)).deep_link_id;return(i?Yl(Xl(i)).link:null)||i||n||e||r}class qg{constructor(e){const n=Yl(Xl(e)),i=n.apiKey??null,o=n.oobCode??null,c=FD(n.mode??null);Te(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HD(e);try{return new qg(n)}catch{return null}}}class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=qg.parseLink(n);return Te(i,"argument-error"),xc._fromEmailAndCode(e,i.code,i.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lc extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ei extends Lc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";class ti extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ti.credential(n,i)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";class ni extends Lc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";class si extends Lc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return si.credential(n,i)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await cs._fromIdTokenResponse(e,i,o),h=J_(i);return new Co({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=J_(i);return new Co({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function J_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends Hs{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new rh(e,n,i,o)}}function dT(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,c,e,i):c})}async function GD(r,e,n=!1){const i=await _c(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Co._forOperation(r,"link",i)}async function $D(r,e,n=!1){const{auth:i}=r;if(Hn(i.app))return Promise.reject(ui(i));const o="reauthenticate";try{const c=await _c(r,dT(i,o,e,r),n);Te(c.idToken,i,"internal-error");const h=Ug(c.idToken);Te(h,i,"internal-error");const{sub:p}=h;return Te(r.uid===p,i,"user-mismatch"),Co._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&hs(i,"user-mismatch"),c}}async function hT(r,e,n=!1){if(Hn(r.app))return Promise.reject(ui(r));const i="signIn",o=await dT(r,i,e),c=await Co._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(c.user),c}async function KD(r,e){return hT(Vo(r),e)}async function QD(r){const e=Vo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function YD(r,e,n){return Hn(r.app)?Promise.reject(ui(r)):KD(dt(r),Lo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&QD(r),i})}function XD(r,e,n,i){return dt(r).onIdTokenChanged(e,n,i)}function ZD(r,e,n){return dt(r).beforeAuthStateChanged(e,n)}function JD(r){return dt(r).signOut()}const ih="__sak";class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WD=1e3,ek=10;class mT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);vD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ek):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const tk=mT;class pT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const gT=pT;function nk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Lh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await nk(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function Fg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class sk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Fg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qs(){return window}function rk(r){qs().location.href=r}function yT(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function ik(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ak(){return navigator?.serviceWorker?.controller||null}function ok(){return yT()?self:null}const bT="firebaseLocalStorageDb",lk=1,ah="firebaseLocalStorage",vT="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function ck(){const r=indexedDB.deleteDatabase(bT);return new Pc(r).toPromise()}function kp(){const r=indexedDB.open(bT,lk);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ah,{keyPath:vT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(ah)?e(i):(i.close(),await ck(),e(await kp()))})})}async function W_(r,e,n){const i=Ph(r,!0).put({[vT]:e,value:n});return new Pc(i).toPromise()}async function uk(r,e){const n=Ph(r,!1).get(e),i=await new Pc(n).toPromise();return i===void 0?null:i.value}function ex(r,e){const n=Ph(r,!0).delete(e);return new Pc(n).toPromise()}const dk=800,hk=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>hk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(ok()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ik(),!this.activeServiceWorker)return;this.sender=new sk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await W_(e,ih,"1"),await ex(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>uk(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ex(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const fk=_T;new Vc(3e4,6e4);function mk(r,e){return e?dr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Hg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pk(r){return hT(r.auth,new Hg(r),r.bypassAuthState)}function gk(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),$D(n,new Hg(r),r.bypassAuthState)}async function yk(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),GD(n,new Hg(r),r.bypassAuthState)}class xT{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pk;case"linkViaPopup":case"linkViaRedirect":return yk;case"reauthViaPopup":case"reauthViaRedirect":return gk;default:hs(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bk=new Vc(2e3,1e4);class go extends xT{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bk.get())};e()}}go.currentPopupAction=null;const vk="pendingRedirect",Md=new Map;class _k extends xT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const i=await xk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xk(r,e){const n=wk(e),i=Tk(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function Ek(r,e){Md.set(r._key(),e)}function Tk(r){return dr(r._redirectPersistence)}function wk(r){return Od(vk,r.config.apiKey,r.name)}async function Ak(r,e,n=!1){if(Hn(r.app))return Promise.reject(ui(r));const i=Vo(r),o=mk(i,e),h=await new _k(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const Sk=600*1e3;class Nk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ck(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ET(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(tx(e))}saveEventToCache(e){this.cachedEventUids.add(tx(e)),this.lastProcessedEventTime=Date.now()}}function tx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ET({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Ck(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}async function Rk(r,e={}){return Ai(r,"GET","/v1/projects",e)}const Ik=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jk=/^https?/;async function Dk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Rk(r);for(const n of e)try{if(kk(n))return}catch{}hs(r,"unauthorized-domain")}function kk(r){const e=jp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!jk.test(n))return!1;if(Ik.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const Ok=new Vc(3e4,6e4);function nx(){const r=qs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Mk(r){return new Promise((e,n)=>{function i(){nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nx(),n(Bs(r,"network-request-failed"))},timeout:Ok.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)i();else{const o=CD("iframefcb");return qs()[o]=()=>{gapi.load?i():n(Bs(r,"network-request-failed"))},oT(`${ND()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function Vk(r){return Vd=Vd||Mk(r),Vd}const Lk=new Vc(5e3,15e3),Pk="__/auth/iframe",Uk="emulator/auth/iframe",zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qk(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pg(e,Uk):`https://${r.config.authDomain}/${Pk}`,i={apiKey:e.apiKey,appName:r.name,v:ga},o=Bk.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Sc(i).slice(1)}`}async function Fk(r){const e=await Vk(r),n=qs().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:qk(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zk,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=Bs(r,"network-request-failed"),p=qs().setTimeout(()=>{c(h)},Lk.get());function g(){qs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(h)})}))}const Hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gk=500,$k=600,Kk="_blank",Qk="http://localhost";class sx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yk(r,e,n,i=Gk,o=$k){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...Hk,width:i.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(p=eT(y)?Kk:n),JE(y)&&(e=e||Qk,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[V,H])=>`${S}${V}=${H},`,"");if(bD(y)&&p!=="_self")return Xk(e||"",p),new sx(null);const E=window.open(e||"",p,x);Te(E,r,"popup-blocked");try{E.focus()}catch{}return new sx(E)}function Xk(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const Zk="__/auth/handler",Jk="emulator/auth/handler",Wk=encodeURIComponent("fac");async function rx(r,e,n,i,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:ga,eventId:o};if(e instanceof uT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",mC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Lc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await r._getAppCheckToken(),y=g?`#${Wk}=${encodeURIComponent(g)}`:"";return`${eO(r)}?${Sc(p).slice(1)}${y}`}function eO({config:r}){return r.emulator?Pg(r,Jk):`https://${r.authDomain}/${Zk}`}const sp="webStorageSupport";class tO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=Ak,this._overrideRedirectResult=Ek}async _openPopup(e,n,i,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rx(e,n,i,jp(),o);return Yk(e,c,Fg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await rx(e,n,i,jp(),o);return rk(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(br(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Fk(e),i=new Nk(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{const c=o?.[0]?.[sp];c!==void 0&&n(!!c),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Dk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iT()||WE()||zg()}}const nO=tO;var ix="@firebase/auth",ax="1.12.0";class sO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(r){ca(new fi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(r)},y=new wD(i,o,c,g);return OD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ca(new fi("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(i=>new sO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(ix,ax,rO(r)),Ls(ix,ax,"esm2020")}const aO=300,oO=Jx("authIdTokenMaxAge")||aO;let ox=null;const lO=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oO)return;const o=n?.token;ox!==o&&(ox=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cO(r=Jp()){const e=yh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kD(r,{popupRedirectResolver:nO,persistence:[fk,tk,gT]}),i=Jx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=lO(c.toString());ZD(n,h,()=>h(n.currentUser)),XD(n,p=>h(p))}}const o=Yx("auth");return o&&MD(n,`http://${o}`),n}function uO(){return document.getElementsByTagName("head")?.[0]??document}AD({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=Bs("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",uO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");const dO={apiKey:"AIzaSyBoJz2b7j4Q_0j8BEKAUsb2MpyopPSH9mk",authDomain:"mudanzas-cadena.firebaseapp.com",projectId:"mudanzas-cadena",storageBucket:"mudanzas-cadena.firebasestorage.app",messagingSenderId:"1000922434241",appId:"1:1000922434241:web:bc41a61fbb4ae32e2b2240"},TT=n1(dO),Xt=k4(TT),wT=cO(TT),hO=()=>{const[r,e]=P.useState(""),[n,i]=P.useState(""),[o,c]=P.useState(!1),[h,p]=P.useState(null),[g,y]=P.useState(""),x=async H=>{if(H.preventDefault(),!(!r.trim()||!n.trim())){c(!0),y(""),p(null);try{const G=Og(vc(Xt,"moves"),Ip("folio","==",r.trim().toUpperCase()),Ip("phone","==",n.trim())),F=await zE(G);F.empty?y("Los datos no coinciden. Revisa tu folio y el telfono registrado."):p(F.docs[0].data())}catch(G){console.error(G),y("Hubo un error de conexin al servidor.")}finally{c(!1)}}},E=(H,G)=>{if(G&&G>0)return G;switch(H){case"Pendiente":return 5;case"Programada":return 10;case"Contrato Firmado":return 15;case"En Carga":return 35;case"En Trnsito":return 70;case"Finalizada":return 100;default:return 0}},S=H=>{switch(H){case"Finalizada":return"bg-green-500";case"En Trnsito":return"bg-cadena-blue";case"En Carga":return"bg-cadena-pink";default:return"bg-gray-300"}},V=h?E(h.status,h.porcentaje):0;return u.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-cadena-blue/10 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-cadena-pink/10 rounded-full blur-3xl translate-y-1/3 translate-x-1/4 pointer-events-none z-0"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-full shadow-xl flex items-center justify-center p-2 border border-white/50",children:u.jsx("img",{src:ph,alt:"Mascota Cadena",className:"w-full h-full object-contain"})})}),u.jsxs("h1",{className:"text-4xl font-extrabold text-cadena-dark mb-4",children:["Rastrea tu ",u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cadena-blue to-cadena-pink",children:"Mudanza"})]}),u.jsx("p",{className:"text-gray-600 mb-8 font-medium",children:"Ingresa tu nmero de folio y telfono para validar tu identidad."}),u.jsxs("form",{onSubmit:x,className:"space-y-4 max-w-md mx-auto",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",placeholder:"Folio (MUD-XXXX)",value:r,onChange:H=>e(H.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg uppercase"})}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"tel",placeholder:"Telfono registrado",value:n,onChange:H=>i(H.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg"})}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-cadena-pink hover:bg-pink-600 text-white py-4 rounded-2xl font-black transition flex items-center justify-center gap-2 shadow-xl shadow-pink-200 disabled:opacity-70",children:o?"Buscando...":u.jsxs(u.Fragment,{children:[u.jsx(uN,{size:20})," Rastrear Mudanza"]})})]}),g&&u.jsxs("div",{className:"mt-6 p-4 max-w-md mx-auto bg-red-50/80 backdrop-blur-sm text-red-600 rounded-xl border border-red-100 flex items-center justify-center gap-2 animate-pulse",children:[u.jsx(Hp,{size:20}),g]})]}),h&&u.jsxs("div",{className:"max-w-4xl mx-auto bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60 animate-fade-in-up",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cadena-dark to-slate-800 text-white p-8 flex justify-between items-center flex-wrap gap-4 border-b border-white/20",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Cliente"}),u.jsx("h3",{className:"text-2xl font-bold",children:h.client})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-pink-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Folio de Seguimiento"}),u.jsx("span",{className:"font-mono font-bold text-2xl text-white bg-white/10 px-4 py-1 rounded-lg border border-white/20",children:h.folio})]})]}),u.jsxs("div",{className:"p-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-12 bg-white/30 p-6 rounded-3xl border border-white/40",children:[u.jsxs("div",{className:"text-center w-1/3",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-blue",children:u.jsx(mr,{size:24})}),u.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.origin}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Origen"})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center px-4 relative",children:[u.jsx("div",{className:"w-full h-[2px] bg-gradient-to-r from-cadena-blue to-cadena-pink relative top-3",children:u.jsx("div",{className:"absolute -right-1 -top-[9px] text-cadena-pink",children:u.jsx(Mx,{size:20,strokeWidth:3})})}),u.jsx("p",{className:"text-xs font-bold text-cadena-blue mt-6 bg-blue-50/50 backdrop-blur-sm px-3 py-1 rounded-full border border-blue-100 uppercase",children:h.date})]}),u.jsxs("div",{className:"text-center w-1/3",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-pink",children:u.jsx(mr,{size:24})}),u.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.destination}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Destino"})]})]}),u.jsxs("div",{className:"mb-12",children:[u.jsxs("div",{className:"flex justify-between items-end mb-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Estado Actual"}),u.jsx("p",{className:"text-2xl font-black text-cadena-dark",children:h.status})]}),u.jsxs("span",{className:"text-3xl font-black text-cadena-blue",children:[V,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200/50 rounded-full h-5 p-1 border border-white shadow-inner",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-lg ${S(h.status)}`,style:{width:`${V}%`}})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative",children:[u.jsx(rp,{icon:u.jsx(di,{size:28}),label:"Recoleccin",active:V>=30,color:"text-cadena-pink",bgColor:"bg-white"}),u.jsx(rp,{icon:u.jsx(hi,{size:28}),label:"En Ruta",active:V>=60,color:"text-cadena-blue",bgColor:"bg-white"}),u.jsx(rp,{icon:u.jsx($p,{size:28}),label:"Entregado",active:V===100,color:"text-green-600",bgColor:"bg-white"})]})]})]})]})]})},rp=({icon:r,label:e,active:n,color:i,bgColor:o})=>u.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-700 ${n?"opacity-100 scale-105":"opacity-30 grayscale"}`,children:[u.jsx("div",{className:`w-20 h-20 rounded-3xl shadow-xl flex items-center justify-center border-2 transition-all duration-700 ${n?`${o} border-white shadow-blue-200/50`:"bg-gray-100/50 border-transparent"}`,children:u.jsx("div",{className:n?i:"text-gray-400",children:r})}),u.jsx("span",{className:`font-black text-xs uppercase tracking-tighter ${n?"text-cadena-dark":"text-gray-400"}`,children:e})]}),fO={"Sala y Estancia":{icon:u.jsx(Fx,{size:20}),items:["Silln 1 Plaza","Silln 2 Plazas","Silln 3 Plazas","Sof Cama","Sala en L (Seccional)","Mesa de Centro","Librero","Mueble de TV / Entretenimiento",'TV Pantalla (24" - 42")','TV Pantalla (43" - 55")','TV Pantalla (60" - 85")',"Ventilador","Espejo Grande","Cuadro / Arte"]},"Comedor y Cocina":{icon:u.jsx(Hx,{size:20}),items:["Mesa Comedor (Madera)","Mesa Comedor (Vidrio)","Mesa Comedor (Tubular)","Sillas de Comedor (Unitario)","Bancos / Taburetes","Vitrina / Credenza","Refrigerador Chico (1 pta)","Refrigerador Grande (2 ptas)","Refrigerador Duplex","Frigobar / Minibar","Estufa","Microondas","Alacena"]},Recmara:{icon:u.jsx(Vx,{size:20}),items:["Base+Colchn Individual","Base+Colchn Matrimonial","Base+Colchn Queen","Base+Colchn King","Cabecera Individual","Cabecera Matrimonial","Cabecera Queen","Cabecera King","Litera","Cuna de Beb","Bur","Tocador / Peinador","Ropero / Closet"]},"Lavado y Bao":{icon:u.jsx(dh,{size:20}),items:["Lavadora","Secadora","Centro de Lavado (Torre)","Botes / Cestos","Mueble de Bao"]},"Oficina y Electrnica":{icon:u.jsx(Lx,{size:20}),items:["Escritorio","Silla de Oficina","Computadora / Monitor","Impresora / Multifuncional"]},"Cajas y Bultos":{icon:u.jsx(qp,{size:20}),items:["Caja Cartn Chica","Caja Cartn Mediana","Caja Cartn Grande","Caja Plstico Chica","Caja Plstico Mediana","Caja Plstico Grande","Bulto Chico","Bulto Mediano","Bulto Grande"]},"Vehculos y Varios":{icon:u.jsx(hS,{size:20}),items:["Bicicleta","Motocicleta","Auto Compacto","Auto Sedn","Auto Deportivo","Camioneta","Escalera","Macetas","Piano","Caja Fuerte"]}},mO=()=>{const[r,e]=P.useState(1),[n,i]=P.useState(!1),[o,c]=P.useState(null),[h,p]=P.useState({client:"",phone:"",date:"",origin:"",destination:"",notes:""}),[g,y]=P.useState({}),[x,E]=P.useState("Sala y Estancia"),[S,V]=P.useState(""),H=re=>{const ue=x!==re;E(ue?re:null),ue&&setTimeout(()=>{const I=document.getElementById(`cat-${re}`);I&&I.scrollIntoView({behavior:"smooth",block:"start"})},100)},G=re=>{y(ue=>{const I=ue[re]||0;return{...ue,[re]:I+1}})},F=()=>{S.trim()&&(G(S.trim()),V(""))},se=re=>{re.key==="Enter"&&(re.preventDefault(),F())},ne=re=>{y(ue=>{const I=ue[re]||0;if(I<=1){const C={...ue};return delete C[re],C}return{...ue,[re]:I-1}})},ie=re=>{y(ue=>{const I={...ue};return delete I[re],I})},me=async re=>{re.preventDefault(),i(!0);try{const ue=Object.entries(g).map(([C,A])=>({name:C,quantity:A}));let I="";await PE(Xt,async C=>{const A=Qn(Xt,"counters","moves_counter"),N=await C.get(A);let R=1;N.exists()&&(R=N.data().current+1),I=`MUD-${String(R).padStart(4,"0")}`;const k=Qn(vc(Xt,"moves"));C.set(k,{...h,items:ue,folio:I,status:"Pendiente",porcentaje:0,price:0,subtotal:0,iva:0,retention:0,financialItems:[{description:"FLETE COTIZACIN PENDIENTE",cost:0,quantity:1}],createdAt:new Date}),C.set(A,{current:R})}),c(I)}catch(ue){console.error(ue),alert("Error al enviar. Intenta de nuevo.")}finally{i(!1)}};return o?u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsxs("div",{className:"relative z-10 bg-white/40 backdrop-blur-xl p-10 rounded-[2.5rem] shadow-2xl text-center max-w-md border border-white/60 animate-fade-in-up",children:[u.jsx("div",{className:"w-24 h-24 bg-green-500 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-200 rotate-12",children:u.jsx(uh,{size:48})}),u.jsx("h2",{className:"text-3xl font-black text-cadena-dark",children:"Recibido!"}),u.jsxs("p",{className:"text-gray-600 mt-4 font-medium",children:["Tu folio de cotizacin es:",u.jsx("span",{className:"font-black text-cadena-blue text-3xl block mt-2 bg-white/50 py-2 rounded-2xl border border-white tracking-tighter",children:o})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-6 leading-relaxed",children:"Un asesor analizar tu inventario y te contactar por WhatsApp en breve con tu cotizacin oficial."}),u.jsx("a",{href:"/",className:"block mt-8 bg-cadena-dark text-white py-4 rounded-2xl font-bold hover:bg-black transition shadow-xl",children:"Volver al Inicio"})]})]}):u.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"max-w-3xl mx-auto relative z-10",children:u.jsxs("div",{className:"bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cadena-blue to-blue-700 p-8 text-white relative",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] bg-white/20 px-3 py-1 rounded-full border border-white/30",children:"Cotizacin en lnea"}),u.jsx("h2",{className:"text-3xl font-black mt-3",children:"Calcula tu Mudanza"}),u.jsxs("p",{className:"text-blue-100 text-sm mt-1 font-medium",children:["Paso ",r," de 2: ",r===1?"Tus Datos":"Inventario"]})]}),u.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-md",children:u.jsx(hi,{size:32})})]}),u.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-cadena-pink transition-all duration-500",style:{width:`${r/2*100}%`}})]}),u.jsxs("form",{onSubmit:me,className:"p-6 md:p-10 space-y-8",children:[r===1&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-pink rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Informacin de Contacto"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsx("div",{className:"group",children:u.jsx("input",{required:!0,placeholder:"Nombre Completo",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.client,onChange:re=>p({...h,client:re.target.value})})}),u.jsx("input",{required:!0,type:"tel",placeholder:"Telfono (WhatsApp)",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.phone,onChange:re=>p({...h,phone:re.target.value})}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Fecha deseada del servicio"}),u.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.date,onChange:re=>p({...h,date:re.target.value})})]})]}),u.jsxs("button",{type:"button",onClick:()=>e(2),className:"w-full bg-cadena-dark text-white py-5 rounded-2xl font-black text-lg mt-4 hover:bg-black transition shadow-xl shadow-gray-200 flex items-center justify-center gap-3",children:["Siguiente: Inventario ",u.jsx(hi,{size:20})]})]}),r===2&&u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-blue-50/50 p-4 sm:p-6 rounded-3xl border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Ruta del Servicio"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:"origin",className:"text-[10px] font-black text-cadena-blue uppercase ml-4",children:"Direccin de Origen"}),u.jsx("input",{id:"origin",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-blue-100 focus:border-cadena-blue focus:ring-2 focus:ring-blue-100 outline-none shadow-sm text-sm",value:h.origin,onChange:re=>p({...h,origin:re.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:"destination",className:"text-[10px] font-black text-cadena-pink uppercase ml-4",children:"Direccin de Destino"}),u.jsx("input",{id:"destination",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-pink-100 focus:border-cadena-pink focus:ring-2 focus:ring-pink-100 outline-none shadow-sm text-sm",value:h.destination,onChange:re=>p({...h,destination:re.target.value})})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Selecciona tus Muebles"})]}),u.jsx("div",{className:"space-y-3",children:Object.entries(fO).map(([re,ue])=>u.jsxs("div",{id:`cat-${re}`,className:"border-2 border-white bg-white/40 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition scroll-mt-20",children:[u.jsxs("button",{type:"button",onClick:()=>H(re),className:`w-full flex justify-between items-center p-4 font-bold text-left transition ${x===re?"bg-cadena-blue text-white":"text-gray-700 hover:bg-white/60"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[ue.icon,u.jsx("span",{children:re})]}),x===re?u.jsx(Ux,{size:20}):u.jsx(Px,{size:20})]}),x===re&&u.jsx("div",{className:"p-2 bg-white/80 grid grid-cols-1 sm:grid-cols-2 gap-2 animate-fade-in",children:ue.items.map((I,C)=>u.jsxs("button",{type:"button",onClick:()=>G(I),className:"flex justify-between items-center p-3 text-sm text-gray-600 bg-slate-50 hover:bg-blue-50 hover:text-cadena-blue rounded-xl transition group text-left",children:[u.jsx("span",{className:"leading-tight",children:I}),u.jsx("span",{className:"bg-white shadow-sm border border-gray-100 text-gray-400 group-hover:bg-cadena-blue group-hover:text-white w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold transition",children:"+"})]},C))})]},re))}),u.jsxs("div",{className:"mt-4 p-4 bg-white/40 border border-white rounded-2xl",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"No encuentras algo?"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Ej. Mquina de coser, Asador grande...",className:"flex-1 p-3 rounded-xl border border-gray-200 text-sm focus:border-cadena-blue outline-none",value:S,onChange:re=>V(re.target.value),onKeyDown:se}),u.jsx("button",{type:"button",onClick:F,className:"bg-gray-800 text-white px-4 rounded-xl font-bold text-xs hover:bg-black transition",children:"AGREGAR"})]})]})]}),u.jsxs("div",{className:"bg-white/60 p-6 rounded-[2rem] border border-white shadow-inner",children:[u.jsxs("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-xs mb-4 flex items-center gap-2",children:[u.jsx(di,{size:16})," Resumen de Inventario"]}),Object.keys(g).length===0?u.jsx("div",{className:"text-center py-8 text-gray-400 italic text-sm",children:"No has seleccionado ningn mueble an."}):u.jsx("div",{className:"space-y-3",children:Object.entries(g).map(([re,ue])=>u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white p-3 rounded-2xl shadow-sm border border-gray-50 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[u.jsx("span",{className:"font-black text-cadena-blue bg-blue-50 w-8 h-8 flex items-center justify-center rounded-full text-sm shrink-0",children:ue}),u.jsx("span",{className:"text-sm font-bold text-gray-700 leading-tight",children:re})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>ne(re),className:"w-10 h-10 flex items-center justify-center bg-gray-200 rounded-lg text-gray-600 hover:bg-gray-300 transition",children:u.jsx("span",{className:"text-xl font-black mb-1",children:"-"})}),u.jsx("button",{type:"button",onClick:()=>G(re),className:"w-10 h-10 flex items-center justify-center bg-cadena-blue rounded-lg text-white hover:bg-blue-700 transition shadow-md shadow-blue-200",children:u.jsx("span",{className:"text-xl font-black mb-1",children:"+"})}),u.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),u.jsx("button",{type:"button",onClick:()=>ie(re),className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-lg text-red-500 hover:bg-red-200 transition",children:u.jsx("span",{className:"text-xs font-black",children:"X"})})]})]},re))})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Observaciones especiales"}),u.jsx("textarea",{placeholder:"Ej: Tercer piso sin elevador, volado de muebles, condominio con horario restringido...",className:"w-full p-4 bg-white/50 rounded-2xl border-2 border-white focus:border-cadena-blue outline-none h-24 text-sm shadow-sm",value:h.notes,onChange:re=>p({...h,notes:re.target.value})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsxs("button",{type:"button",onClick:()=>e(1),className:"flex items-center justify-center gap-2 px-8 py-4 text-gray-400 font-black text-xs uppercase tracking-widest hover:text-cadena-dark transition",children:[u.jsx(ch,{size:16})," Atrs"]}),u.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-cadena-pink text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-pink-200 hover:scale-[1.02] transition-all disabled:opacity-50",children:n?"Procesando...":`Finalizar Cotizacin (${Object.values(g).reduce((re,ue)=>re+ue,0)} tems)`})]})]})]})]})})]})},Kl="print:break-after-page print:min-h-screen print:flex print:flex-col print:justify-between relative bg-white shadow-lg p-12 mb-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-gray-800 print:shadow-none print:m-0 print:w-full",pO=()=>{const{id:r}=Lp(),e=P.useRef(null),[n,i]=P.useState(null),[o,c]=P.useState(!0),[h,p]=P.useState(!1),[g,y]=P.useState(!1),[x,E]=P.useState(!1),[S,V]=P.useState(null),[H,G]=P.useState(null);P.useEffect(()=>{if(!r)return;const W=Qn(Xt,"moves",r),ae=BE(W,ge=>{if(ge.exists()){const Ne=ge.data();Ne.idUrl&&!Ne.idUrlFront&&(Ne.idUrlFront=Ne.idUrl),i({id:ge.id,...Ne})}else alert("Enlace no vlido.");c(!1)});return()=>ae()},[r]);const F=W=>new Promise(ae=>{const ge=new FileReader;ge.readAsDataURL(W),ge.onload=Ne=>{const O=new Image;O.src=Ne.target.result,O.onload=()=>{const Z=document.createElement("canvas"),le=800,de=le/O.width;Z.width=le,Z.height=O.height*de,Z.getContext("2d").drawImage(O,0,0,Z.width,Z.height),ae(Z.toDataURL("image/jpeg",.6))}}}),se=W=>{const ae=W.target.files[0];ae&&(V(ae),G(URL.createObjectURL(ae)))},ne=()=>{V(null),G(null)},ie=async W=>{if(S){p(!0);try{const ae=await F(S);let ge={};W==="ine_front"?ge={idUrlFront:ae,idUrl:ae}:W==="ine_back"?ge={idUrlBack:ae}:W==="address"&&(ge={addressUrl:ae}),await eh(Qn(Xt,"moves",r),ge),V(null),G(null)}catch(ae){console.error(ae),alert("Error al subir imagen.")}p(!1)}},me=(W,ae)=>{const ge=ae.getBoundingClientRect(),Ne=ae.width/ge.width,O=ae.height/ge.height;return{x:((W.clientX||W.touches[0].clientX)-ge.left)*Ne,y:((W.clientY||W.touches[0].clientY)-ge.top)*O}},re=W=>{const ae=e.current,ge=ae.getContext("2d"),{x:Ne,y:O}=me(W,ae);ge.lineWidth=3,ge.lineCap="round",ge.strokeStyle="#000",ge.beginPath(),ge.moveTo(Ne,O),y(!0)},ue=W=>{if(!g)return;const ae=e.current,ge=ae.getContext("2d"),{x:Ne,y:O}=me(W,ae);ge.lineTo(Ne,O),ge.stroke(),W.type!=="mousemove"&&W.preventDefault()},I=()=>{const W=e.current;W.getContext("2d").clearRect(0,0,W.width,W.height)},C=async()=>{if(!e.current)return;const W=document.createElement("canvas");if(W.width=e.current.width,W.height=e.current.height,e.current.toDataURL()===W.toDataURL()){alert("Por favor firme antes de aceptar.");return}const ae=e.current.toDataURL();try{await eh(Qn(Xt,"moves",r),{signature:ae,status:"Contrato Firmado",signedAt:new Date}),alert("Contrato firmado correctamente!")}catch{alert("Error al guardar firma")}};if(o)return u.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-gray-500",children:"Cargando..."});if(!n)return u.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Enlace no vlido."});const A=!n.idUrlFront,N=!n.idUrlBack,R=!n.addressUrl,j=!A&&!N&&!R&&n.status==="Pendiente",Me=["Programada","Contrato Firmado","En Carga","En Trnsito","Finalizada"].includes(n.status);let De="loading";A?De="upload_ine_front":N?De="upload_ine_back":R?De="upload_address":j?De="waiting":Me&&(!x&&n.status!=="Contrato Firmado"?De="review_data":De="contract");const Q=()=>u.jsxs("div",{className:"mt-auto pt-8 border-t border-gray-300 flex justify-between items-end text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:"MUDANZAS CADENA"}),u.jsxs("p",{children:["Folio: ",n.folio]})]}),u.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?u.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):u.jsx("div",{className:"h-12"}),u.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold",children:"FIRMA C."})]})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 print:bg-white print:p-0",children:[u.jsxs("div",{className:"max-w-xl mx-auto print:hidden",children:[De==="upload_ine_front"&&u.jsx(ip,{title:"INE / ID (Frente)",desc:"Sube la parte delantera de tu identificacin",icon:u.jsx(oa,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:se,preview:H,onConfirm:()=>ie("ine_front"),onCancel:ne,uploading:h}),De==="upload_ine_back"&&u.jsx(ip,{title:"INE / ID (Reverso)",desc:"Ahora sube la parte trasera",icon:u.jsx(oa,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:se,preview:H,onConfirm:()=>ie("ine_back"),onCancel:ne,uploading:h}),De==="upload_address"&&u.jsx(ip,{title:"Comprobante de Domicilio",desc:"Recibo de luz, agua o internet",icon:u.jsx($p,{size:40}),color:"text-cadena-pink",bg:"bg-pink-100",onSelect:se,preview:H,onConfirm:()=>ie("address"),onCancel:ne,uploading:h}),De==="waiting"&&u.jsxs("div",{className:"p-12 text-center bg-white rounded-3xl shadow-xl border-t-8 border-yellow-400",children:[u.jsx(Gp,{size:80,className:"mx-auto text-yellow-500 mb-6 animate-pulse"}),u.jsx("h2",{className:"text-2xl font-bold",children:"Validando Documentacin"}),u.jsx("p",{className:"text-gray-500 mt-4",children:"Tus documentos (INE Frente, Reverso y Domicilio) han sido recibidos. Un asesor los revisar en breve."})]}),De==="review_data"&&u.jsxs("div",{className:"p-8 bg-white rounded-3xl shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Revisa los Datos Finales"}),u.jsxs("div",{className:"space-y-4 mb-6 text-sm",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Cliente:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Origen:"})," ",n.origin]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Destino:"})," ",n.destination]}),u.jsxs("p",{className:"text-xl font-black text-cadena-blue text-right",children:["Total: $",n.price?.toLocaleString()]})]}),u.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold flex justify-center gap-2",children:["Datos Correctos, Ver Contrato ",u.jsx(Mx,{})]})]})]}),De==="contract"&&u.jsxs("div",{className:"max-w-[21.5cm] mx-auto",children:[u.jsxs("div",{className:Kl,children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("img",{src:uc,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),u.jsx("p",{className:"text-xs tracking-[0.2em] text-gray-400 font-bold uppercase mt-1 ml-1",children:"COTIZA HOY, MDATE HOY"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-black text-gray-700 text-lg",children:"CONTRATO DE SERVICIO"}),u.jsxs("p",{className:"text-sm text-gray-500",children:["FOLIO: ",u.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),u.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"space-y-6 text-sm uppercase",children:[u.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),u.jsx("p",{children:n.origin})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),u.jsx("p",{children:n.destination})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",u.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),u.jsx("div",{className:"mt-auto"}),u.jsx(Q,{})]}),u.jsxs("div",{className:Kl,children:[u.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),u.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b pb-4",children:"Revisado y Autorizado por el Cliente"}),u.jsx("div",{className:"flex-1",children:n.items&&n.items.length>0?u.jsx("div",{className:"columns-2 md:columns-3 gap-8",children:n.items.map((W,ae)=>u.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-3 text-sm",children:[u.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center",children:W.quantity}),u.jsx("span",{className:"leading-tight",children:W.name})]},ae))}):u.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:u.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})}),u.jsx("div",{className:"mt-auto"}),u.jsx(Q,{})]}),u.jsxs("div",{className:Kl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),u.jsxs("div",{className:"text-[10px] leading-relaxed text-justify space-y-2 flex-1",children:[u.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),u.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),u.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),u.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),u.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),u.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),u.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),u.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),u.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),u.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),u.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio, de $50,000.00 como valor mnimo de embarque para la modalidad compartida o una pliza de seguro por el 10% adicional del valor de total del servicio, de $50,000.00 hasta $100,000.00 como lmite mximo por embarque para la modalidad exclusiva, por los hechos que la ley seala como riesgos ordinarios de trnsito, robo total con violencia y/o asalto. En caso de que el valor declarado de sus bienes exceda estos montos, se le da la opcin al cliente de ampliar su pliza de seguro para que su carga vaya asegurada por completo. La territorialidad de la pliza de seguro consta de (Bodega  Bodega), es decir, desde el momento que sale de Bodega MUDANZAS CADENA hasta el DESTINO FINAL del cliente. La Pliza de Seguro compartida y exclusiva se considera por todo el embarque, es decir, sobre todos los artculos, embalajes, que viajen en el mismo contenedor, bajo ninguna circunstancia se contrata el seguro por un artculo u embalaje en especial. En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),u.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),u.jsx("p",{children:"13. El cliente que es quien remite el servicio, encomienda a MUDANZAS CADENA, y este se obliga a transportar en sujecin de las leyes, aquellos bienes descritos en el presente documento al lugar del destino que seale el cliente."}),u.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),u.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."}),u.jsx("p",{className:"font-bold text-center mt-4",children:"AL FIRMAR ESTE CONTRATO, EST ACEPTANDO LAS CONDICIONES DE SERVICIO ANTES MENCIONADAS."})]}),u.jsx(Q,{})]}),u.jsxs("div",{className:Kl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),u.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[u.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),u.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),u.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),u.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),u.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((W,ae)=>u.jsxs("tr",{className:"border-b border-black",children:[u.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:W.description}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(W.cost).toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:W.quantity}),u.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(W.cost*W.quantity).toLocaleString()]})]},ae)):u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),u.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),u.jsxs("div",{className:"w-1/2 ml-auto",children:[u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"SUBTOTAL"})," ",u.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"IVA (16%)"})," ",u.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[u.jsx("span",{children:"RETENCIN (-4%)"})," ",u.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[u.jsx("span",{children:"TOTAL"})," ",u.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]}),u.jsx("div",{className:"flex-1"}),u.jsx(Q,{})]}),u.jsxs("div",{className:Kl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),u.jsxs("div",{className:"space-y-6 text-sm flex-1 text-center",children:[u.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),u.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),u.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),u.jsx("p",{children:"CUENTA: 047 181 9445"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",u.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]}),u.jsx(Q,{})]}),u.jsx("div",{className:"mt-8 mb-16 p-8 bg-gray-100 border-2 border-dashed border-gray-300 rounded-3xl text-center print:hidden",children:n.status!=="Contrato Firmado"&&!n.signature?u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-2xl font-bold text-cadena-dark mb-4",children:"Aceptacin del Contrato"}),u.jsx("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:"Al firmar a continuacin, confirmas que has ledo todas las clusulas, verificado el inventario y aceptas las condiciones del servicio."}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 max-w-md mx-auto mb-6 touch-none",children:[u.jsx("p",{className:"text-xs text-gray-400 mb-2 uppercase font-bold text-left",children:"Dibuja tu firma:"}),u.jsx("canvas",{ref:e,width:300,height:150,className:"w-full h-full cursor-crosshair border-b border-gray-300",onMouseDown:re,onMouseMove:ue,onMouseUp:()=>y(!1),onTouchStart:re,onTouchMove:ue,onTouchEnd:()=>y(!1)}),u.jsx("button",{onClick:I,className:"text-xs text-red-500 underline w-full text-right mt-1",children:"Borrar firma"})]}),u.jsxs("button",{onClick:C,className:"bg-cadena-blue text-white px-12 py-4 rounded-full font-bold shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-3 mx-auto",children:[u.jsx(qx,{size:20})," FIRMAR Y FINALIZAR"]})]}):u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-green-200 inline-block",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mx-auto mb-4",children:u.jsx(uh,{size:40})}),u.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Contrato Firmado!"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Hemos recibido tu firma correctamente. Tu asesor te enviar el documento final en breve."})]})})]})]})},ip=({title:r,desc:e,icon:n,color:i,bg:o,onSelect:c,preview:h,onConfirm:p,onCancel:g,uploading:y})=>u.jsxs("div",{className:"p-8 text-center bg-white rounded-3xl shadow-xl max-w-md mx-auto",children:[u.jsx("div",{className:`w-20 h-20 ${o} ${i} rounded-full flex items-center justify-center mx-auto mb-6`,children:n}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r}),u.jsx("p",{className:"text-gray-500 mb-6",children:e}),h?u.jsxs("div",{className:"animate-fade-in-up",children:[u.jsx("div",{className:"mb-6 relative rounded-xl overflow-hidden border-2 border-gray-200 shadow-sm max-h-64 mx-auto",children:u.jsx("img",{src:h,alt:"Vista previa",className:"w-full h-full object-contain bg-gray-50"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:p,disabled:y,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition ${y?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 hover:scale-[1.02]"}`,children:y?u.jsx(u.Fragment,{children:"Subiendo..."}):u.jsxs(u.Fragment,{children:[u.jsx(uh,{size:20})," Confirmar y Enviar"]})}),u.jsxs("button",{onClick:g,disabled:y,className:"w-full py-3 rounded-xl font-bold text-red-500 bg-red-50 hover:bg-red-100 flex items-center justify-center gap-2 transition",children:[u.jsx(tc,{size:18})," Cancelar / Cambiar Foto"]})]})]}):u.jsxs("label",{className:"block w-full border-2 border-dashed border-gray-300 rounded-2xl p-10 cursor-pointer hover:bg-gray-50 hover:border-cadena-blue transition group",children:[u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c}),u.jsx(dh,{className:`mx-auto ${i} mb-4 group-hover:scale-110 transition`,size:48}),u.jsx("span",{className:"font-bold text-gray-600 group-hover:text-cadena-blue",children:"Toca para seleccionar foto"})]})]}),gO=()=>{const[r,e]=P.useState(""),[n,i]=P.useState(""),[o,c]=P.useState(""),h=Io(),p=async g=>{g.preventDefault();try{await YD(wT,r,n),h("/admin/dashboard")}catch{c("Credenciales incorrectas. Intenta de nuevo.")}};return u.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl w-full max-w-md border border-white relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-lg overflow-hidden",children:u.jsx("img",{src:ph,alt:"Admin",className:"w-full h-full object-cover object-top pt-2 scale-110"})}),u.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Acceso Administrativo"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa tus credenciales para gestionar."})]}),o&&u.jsxs("div",{className:"bg-red-50 text-red-500 p-3 rounded-xl text-sm font-bold flex items-center gap-2 mb-6 border border-red-100",children:[u.jsx(Hp,{size:18})," ",o]}),u.jsxs("form",{onSubmit:p,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Correo Electrnico"}),u.jsxs("div",{className:"relative",children:[u.jsx(Bx,{className:"absolute left-4 top-3.5 text-cadena-blue",size:20}),u.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-blue focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"e-mail",value:r,onChange:g=>e(g.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Contrasea"}),u.jsxs("div",{className:"relative",children:[u.jsx(BS,{className:"absolute left-4 top-3.5 text-cadena-pink",size:20}),u.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-pink focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"",value:n,onChange:g=>i(g.target.value),required:!0})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold shadow-lg hover:bg-black transition transform active:scale-95",children:"Entrar al Sistema"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs(Gn,{to:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-cadena-blue font-bold text-sm transition",children:[u.jsx(ch,{size:16})," Volver al sitio web"]})})]})]})},xd=({move:r,onEdit:e,onDelete:n,onCopyLink:i,onViewId:o,onPrintOrder:c,onViewContract:h,isPending:p})=>{const g=Array.isArray(r.items)&&r.items.length>0;return u.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border flex flex-col md:flex-row justify-between gap-6 hover:shadow-lg transition-all duration-300 ${p?"border-l-[6px] border-l-cadena-pink border-t border-r border-b border-gray-100":"border border-gray-100"}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"bg-gray-100 text-gray-500 px-2 py-1 rounded-md text-xs font-bold font-mono tracking-wider",children:r.folio}),u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r.client}),r.phone&&u.jsx("a",{href:`https://wa.me/${r.phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-500 bg-green-50 p-1.5 rounded-full hover:bg-green-100 transition",children:u.jsx(Kp,{size:18})})]}),u.jsxs("div",{className:"text-sm text-gray-500 space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx(mr,{size:16,className:"text-cadena-pink"})," ",u.jsx("span",{className:"font-medium truncate max-w-xs",children:r.origin})]}),u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx(hi,{size:16,className:"text-gray-400"})," ",g?`${r.items.length} Artculos registrados`:"Sin lista de inventario"]})]}),u.jsxs("div",{className:"flex gap-2",children:[r.idUrl&&u.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold",children:"INE OK"}),r.addressUrl&&u.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:"DOM OK"})]})]}),u.jsxs("div",{className:"flex flex-col items-end justify-between min-w-[140px] border-l border-gray-50 pl-6 md:border-l-0 md:pl-0",children:[u.jsxs("div",{className:"text-right",children:[r.price>0?u.jsxs("p",{className:"text-2xl font-black text-cadena-dark",children:["$",r.price.toLocaleString()]}):u.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full font-bold uppercase tracking-wide",children:"Por Cotizar"}),u.jsx("div",{className:`mt-2 inline-block px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide text-white ${r.status==="Contrato Firmado"?"bg-purple-500":"bg-cadena-blue"}`,children:r.status})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[h&&u.jsx("button",{onClick:h,title:"Ver Contrato",className:"p-2.5 text-blue-500 bg-blue-50 rounded-xl hover:bg-blue-100 transition",children:u.jsx(oa,{size:20})}),c&&u.jsx("button",{onClick:c,className:"p-2.5 text-orange-600 bg-orange-50 rounded-xl hover:bg-orange-100 transition",children:u.jsx(fh,{size:20})}),u.jsx("button",{onClick:o,className:"p-2.5 text-green-600 bg-green-50 rounded-xl hover:bg-green-100 transition",children:u.jsx(SS,{size:20})}),u.jsx("button",{onClick:e,className:"p-2.5 text-white bg-cadena-blue rounded-xl shadow-md hover:bg-blue-700 transition hover:-translate-y-0.5",children:u.jsx(WS,{size:20})}),i&&u.jsx("button",{onClick:i,className:"p-2.5 text-purple-600 bg-purple-50 rounded-xl hover:bg-purple-100 transition",children:u.jsx(ES,{size:20})}),u.jsx("button",{onClick:n,className:"p-2.5 text-red-400 bg-red-50 rounded-xl hover:bg-red-100 transition",children:u.jsx(tc,{size:20})})]})]})]})};const AT="firebasestorage.googleapis.com",ST="storageBucket",yO=120*1e3,bO=600*1e3;class Wt extends Hs{constructor(e,n,i=0){super(ap(e),`Firebase Storage: ${n} (${ap(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function ap(r){return"storage/"+r}function vO(){const r="An unknown error occurred, please check the error payload for server response.";return new Wt(Jt.UNKNOWN,r)}function _O(r){return new Wt(Jt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xO(r){return new Wt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Jt.UNAUTHENTICATED,r)}function TO(){return new Wt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wO(r){return new Wt(Jt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function AO(){return new Wt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SO(){return new Wt(Jt.CANCELED,"User canceled the upload/download.")}function NO(r){return new Wt(Jt.INVALID_URL,"Invalid URL '"+r+"'.")}function CO(r){return new Wt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function RO(){return new Wt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ST+"' property when initializing the app?")}function Op(r){return new Wt(Jt.INVALID_ARGUMENT,r)}function NT(){return new Wt(Jt.APP_DELETED,"The Firebase app was deleted.")}function IO(r){return new Wt(Jt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ql(r){throw new Wt(Jt.INTERNAL_ERROR,"Internal error: "+r)}class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(i.path==="")return i;throw CO(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(me){me.path_=decodeURIComponent(me.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${x}/b/${o}/o${S}`,"i"),H={bucket:1,path:3},G=n===AT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",se=new RegExp(`^https?://${G}/${o}/${F}`,"i"),ie=[{regex:p,indices:g,postModify:c},{regex:V,indices:H,postModify:y},{regex:se,indices:{bucket:1,path:2},postModify:y}];for(let me=0;me<ie.length;me++){const re=ie[me],ue=re.regex.exec(e);if(ue){const I=ue[re.indices.bucket];let C=ue[re.indices.path];C||(C=""),i=new $n(I,C),re.postModify(i);break}}if(i==null)throw NO(e);return i}}class jO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DO(r,e,n){let i=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function x(...F){y||(y=!0,e.apply(null,F))}function E(F){o=setTimeout(()=>{o=null,r(V,g())},F)}function S(){c&&clearTimeout(c)}function V(F,...se){if(y){S();return}if(F){S(),x.call(null,F,...se);return}if(g()||h){S(),x.call(null,F,...se);return}i<64&&(i*=2);let ie;p===1?(p=2,ie=0):ie=(i+Math.random())*1e3,E(ie)}let H=!1;function G(F){H||(H=!0,S(),!y&&(o!==null?(F||(p=2),clearTimeout(o),E(0)):F||(p=1)))}return E(0),c=setTimeout(()=>{h=!0,G(!0)},n),G}function kO(r){r(!1)}function OO(r){return r!==void 0}function lx(r,e,n,i){if(i<e)throw Op(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Op(`Invalid value for '${r}'. Expected ${n} or less.`)}function MO(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function VO(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var aa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(aa||(aa={}));function LO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}class PO{constructor(e,n,i,o,c,h,p,g,y,x,E,S=!0,V=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,G)=>{this.resolve_=H,this.reject_=G,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Ed(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===aa.NO_ERROR,g=c.getStatus();if(!p||LO(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===aa.ABORT;i(!1,new Ed(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Ed(y,c))})},n=(i,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());OO(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=vO();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?NT():SO();h(g)}else{const g=AO();h(g)}};this.canceled_?n(!1,new Ed(!1,null,!0)):this.backoffId_=DO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function UO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function zO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function qO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function FO(r,e,n,i,o,c,h=!0,p=!1){const g=VO(r.urlParams),y=r.url+g,x=Object.assign({},r.headers);return BO(x,e),UO(x,n),zO(x,c),qO(x,i),new PO(y,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function HO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function GO(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function $O(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class KO{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function QO(r){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=TO():o=EO():n.getStatus()===402?o=xO(r.bucket):n.getStatus()===403?o=wO(r.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function YO(r){const e=QO(r);function n(i,o){let c=e(i,o);return i.getStatus()===404&&(c=_O(r.path)),c.serverResponse=o.serverResponse,c}return n}function XO(r,e){const n=e.fullServerUrl(),i=MO(n,r.host,r._protocol),o="DELETE",c=r.maxOperationRetryTime;function h(g,y){}const p=new KO(i,o,h,c);return p.successCodes=[200,204],p.errorHandler=YO(e),p}class ZO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,c){if(this.sent_)throw Ql("cannot .send() more than once");if(xi(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JO extends ZO{initXhr(){this.xhr_.responseType="text"}}function WO(){return new JO}class ma{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $O(this._location.path)}get storage(){return this._service}get parent(){const e=HO(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw IO(e)}}function eM(r){r._throwIfRoot("deleteObject");const e=XO(r.storage,r._location);return r.storage.makeRequestWithTokens(e,WO)}function tM(r,e){const n=GO(r._location.path,e),i=new $n(r._location.bucket,n);return new ma(r.storage,i)}function nM(r){return/^[A-Za-z]+:\/\//.test(r)}function sM(r,e){return new ma(r,e)}function CT(r,e){if(r instanceof Gg){const n=r;if(n._bucket==null)throw RO();const i=new ma(n,n._bucket);return e!=null?CT(i,e):i}else return e!==void 0?tM(r,e):r}function rM(r,e){if(e&&nM(e)){if(r instanceof Gg)return sM(r,e);throw Op("To use ref(service, url), the first argument must be a Storage instance.")}else return CT(r,e)}function cx(r,e){const n=e?.[ST];return n==null?null:$n.makeFromBucketSpec(n,r)}function iM(r,e,n,i={}){r.host=`${e}:${n}`;const o=xi(e);o&&(Qp(`https://${r.host}/b`),Yp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(r._overrideAuthToken=typeof c=="string"?c:Wx(c,r.app.options.projectId))}class Gg{constructor(e,n,i,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=AT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yO,this._maxUploadRetryTime=bO,this._requests=new Set,o!=null?this._bucket=$n.makeFromBucketSpec(o,this._host):this._bucket=cx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=cx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,i,o,c=!0){if(this._deleted)return new jO(NT());{const h=FO(e,this._appId,i,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const ux="@firebase/storage",dx="0.14.0";const RT="storage";function aM(r){return r=dt(r),eM(r)}function oM(r,e){return r=dt(r),rM(r,e)}function lM(r=Jp(),e){r=dt(r);const i=yh(r,RT).getImmediate({identifier:e}),o=Xx("storage");return o&&cM(i,...o),i}function cM(r,e,n,i={}){iM(r,e,n,i)}function uM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Gg(n,i,o,e,ga)}function dM(){ca(new fi(RT,uM,"PUBLIC").setMultipleInstances(!0)),Ls(ux,dx,""),Ls(ux,dx,"esm2020")}dM();const hM={"Sala y Estancia":{icon:u.jsx(Fx,{size:18}),items:["Silln 1 Plaza","Silln 2 Plazas","Silln 3 Plazas","Sof Cama","Sala en L (Seccional)","Mesa de Centro","Librero","Mueble de TV / Entretenimiento",'TV Pantalla (24" - 42")','TV Pantalla (43" - 55")','TV Pantalla (60" - 85")',"Ventilador","Espejo Grande","Cuadro / Arte"]},"Comedor y Cocina":{icon:u.jsx(Hx,{size:18}),items:["Mesa Comedor (Madera)","Mesa Comedor (Vidrio)","Mesa Comedor (Tubular)","Sillas de Comedor (Unitario)","Bancos / Taburetes","Vitrina / Credenza","Refrigerador Chico (1 pta)","Refrigerador Grande (2 ptas)","Refrigerador Duplex","Frigobar / Minibar","Estufa","Microondas","Alacena"]},Recmara:{icon:u.jsx(Vx,{size:18}),items:["Base+Colchn Individual","Base+Colchn Matrimonial","Base+Colchn Queen","Base+Colchn King","Cabecera Individual","Cabecera Matrimonial","Cabecera Queen","Cabecera King","Litera","Cuna de Beb","Bur","Tocador / Peinador","Ropero / Closet"]},"Lavado y Bao":{icon:u.jsx(dh,{size:18}),items:["Lavadora","Secadora","Centro de Lavado (Torre)","Botes / Cestos","Mueble de Bao"]},"Oficina y Electrnica":{icon:u.jsx(Lx,{size:18}),items:["Escritorio","Silla de Oficina","Computadora / Monitor","Impresora / Multifuncional"]},"Cajas y Bultos":{icon:u.jsx(qp,{size:18}),items:["Caja Cartn Chica","Caja Cartn Mediana","Caja Cartn Grande","Caja Plstico Chica","Caja Plstico Mediana","Caja Plstico Grande","Bulto Chico","Bulto Mediano","Bulto Grande"]}},fM=({title:r,onClose:e,children:n})=>u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:u.jsx(mh,{size:20})})]}),u.jsx("div",{className:"p-8",children:n})]})}),mM=({url:r,onClose:e})=>u.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex flex-col items-center justify-center p-4 animate-fade-in",onClick:e,children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white bg-white/20 p-2 rounded-full hover:bg-white/40 transition",children:u.jsx(mh,{size:32})}),u.jsx("img",{src:r,alt:"Documento",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),u.jsx("p",{className:"text-white/70 mt-4 text-sm",children:"Toca cualquier parte para cerrar"})]}),pM=({moveData:r,onClose:e,onSuccess:n})=>{const[i,o]=P.useState({...r,taxType:r.taxType||"retention"}),[c,h]=P.useState({name:"",quantity:1}),[p,g]=P.useState(null),[y,x]=P.useState(null),[E,S]=P.useState("Sala y Estancia");P.useEffect(()=>{let N={...r,taxType:r.taxType||"retention"};N.idUrl&&!N.idUrlFront&&(N.idUrlFront=N.idUrl),o(N)},[r]);const V=N=>{const R=[...i.items||[]],k=R.findIndex(j=>j.name===N);k>=0?R[k].quantity=Number(R[k].quantity)+1:R.push({name:N,quantity:1}),o({...i,items:R})},H=()=>{if(!c.name)return;const N=[...i.items||[]],R=N.findIndex(k=>k.name.toLowerCase()===c.name.toLowerCase());R>=0?N[R].quantity=Number(N[R].quantity)+Number(c.quantity):N.push({...c}),o({...i,items:N}),h({name:"",quantity:1})},G=N=>{const R=[...i.items];R.splice(N,1),o({...i,items:R})},F=(N,R)=>{const k=[...i.items];k[N].quantity=Number(R),o({...i,items:k})},se=()=>{const N=i.financialItems||[];o({...i,financialItems:[...N,{description:"",cost:0,quantity:1}]})},ne=N=>{const R=[...i.financialItems||[]];R.splice(N,1),o({...i,financialItems:R})},ie=(N,R,k)=>{const j=[...i.financialItems||[]];j[N][R]=k,o({...i,financialItems:j})},me=()=>{const R=(i.financialItems||[]).reduce((De,Q)=>De+Number(Q.cost)*Number(Q.quantity),0);let k=0,j=0;switch(i.taxType){case"iva":k=R*.16,j=0;break;case"retention":k=R*.16,j=R*.04;break;default:k=0,j=0;break}const Me=R+k-j;o({...i,subtotal:R.toFixed(2),iva:k.toFixed(2),retention:j.toFixed(2),price:Me.toFixed(2)})},re=async(N,R)=>{if(!window.confirm("Seguro que quieres eliminar este archivo?"))return;g(N),(async()=>{try{const j=lM(),Me=oM(j,R);await aM(Me)}catch(j){console.warn("Archivo fsico no encontrado",j)}})();try{const j=Qn(Xt,"moves",i.id);await eh(j,{[N]:B4()}),o(Me=>({...Me,[N]:null}))}catch(j){console.error(j),alert("Error al actualizar la base de datos.")}finally{g(null)}},ue=async N=>{N.preventDefault();try{await eh(Qn(Xt,"moves",i.id),{...i,taxType:i.taxType||"retention",notes:i.notes||"",items:i.items||[]}),alert("Servicio actualizado correctamente."),n&&n(),e()}catch(R){console.error(R),alert("Error: "+R.message)}},I="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",C="block text-xs font-bold text-gray-500 uppercase mb-1.5",A=({title:N,urlField:R,urlValue:k,colorClass:j,badgeColor:Me})=>u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-600",children:N}),k?u.jsx("span",{className:`text-[10px] ${Me} px-2 py-0.5 rounded-full font-bold`,children:"CARGADO"}):u.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),k?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>x(k),children:u.jsx("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>x(k),className:`flex-1 ${j} bg-opacity-10 text-xs font-bold py-2 rounded transition text-center flex items-center justify-center gap-2 hover:bg-opacity-20`,children:[u.jsx(KS,{size:14})," VER"]}),u.jsx("button",{type:"button",onClick:()=>re(R,k),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p===R?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p===R?u.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):u.jsx(tc,{size:14})})]})]}):u.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]});return u.jsxs(u.Fragment,{children:[y&&u.jsx(mM,{url:y,onClose:()=>x(null)}),u.jsx(fM,{title:`Editor de Servicio: ${i.folio}`,onClose:e,children:u.jsxs("form",{onSubmit:ue,className:"space-y-8",children:[u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Datos Generales"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Nombre Cliente"}),u.jsx("input",{className:I,value:i.client,onChange:N=>o({...i,client:N.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"WhatsApp"}),u.jsx("input",{className:I,value:i.phone,onChange:N=>o({...i,phone:N.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Fecha Tentativa"}),u.jsx("input",{type:"date",className:I,value:i.date,onChange:N=>o({...i,date:N.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Estado Actual"}),u.jsxs("select",{className:`${I} cursor-pointer font-bold text-cadena-blue`,value:i.status,onChange:N=>o({...i,status:N.target.value}),children:[u.jsx("option",{value:"Pendiente",children:"Pendiente (Docs)"}),u.jsx("option",{value:"Programada",children:"Programada (Autorizado)"}),u.jsx("option",{value:"Contrato Firmado",children:"Contrato Firmado"}),u.jsx("option",{value:"En Carga",children:"En Carga"}),u.jsx("option",{value:"En Trnsito",children:"En Trnsito"}),u.jsx("option",{value:"Finalizada",children:"Finalizada"})]})]})]})]}),u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Ruta Logstica"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Direccin Origen"}),u.jsx("textarea",{className:`${I} h-24`,value:i.origin,onChange:N=>o({...i,origin:N.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Direccin Destino"}),u.jsx("textarea",{className:`${I} h-24`,value:i.destination,onChange:N=>o({...i,destination:N.target.value})})]})]})]}),u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(di,{size:18})," Inventario Detallado"]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:h-[500px] h-auto",children:[u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:"CATLOGO POR CATEGORA:"}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 border border-gray-100 rounded-lg p-2 bg-gray-50 h-64 md:h-auto",children:Object.entries(hM).map(([N,R])=>u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[u.jsxs("button",{type:"button",onClick:()=>S(E===N?null:N),className:`w-full flex justify-between items-center p-3 text-sm font-bold transition ${E===N?"bg-cadena-blue text-white":"hover:bg-gray-50 text-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[R.icon," ",N]}),E===N?u.jsx(Ux,{size:16}):u.jsx(Px,{size:16})]}),E===N&&u.jsx("div",{className:"p-2 grid grid-cols-1 gap-1 animate-fade-in",children:R.items.map((k,j)=>u.jsxs("button",{type:"button",onClick:()=>V(k),className:"text-left text-xs p-2 hover:bg-blue-50 hover:text-blue-700 rounded transition flex justify-between group border-b border-gray-50 last:border-0",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"opacity-0 group-hover:opacity-100 font-bold bg-blue-100 px-1.5 rounded text-[10px]",children:"+1"})]},j))})]},N))}),u.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-200",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 mb-1",children:"NO EST EN LA LISTA?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("div",{className:"flex gap-2 flex-1",children:[u.jsx("input",{type:"number",className:"w-16 p-2 border border-gray-200 rounded-lg text-sm text-center",placeholder:"1",value:c.quantity,onChange:N=>h({...c,quantity:Number(N.target.value)})}),u.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Ej. Estatua Gigante",value:c.name,onChange:N=>h({...c,name:N.target.value})})]}),u.jsxs("button",{type:"button",onClick:H,className:"bg-gray-800 text-white p-2 rounded-lg hover:bg-black transition flex items-center justify-center sm:w-10",children:[u.jsx(sN,{size:18})," ",u.jsx("span",{className:"sm:hidden ml-2 text-xs font-bold",children:"AGREGAR"})]})]})]})]}),u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full bg-blue-50/30 rounded-xl border border-blue-100 p-4 h-64 md:h-auto",children:[u.jsxs("p",{className:"text-xs font-bold text-gray-400 mb-2 uppercase text-center",children:["Lista de Carga (",i.items?.reduce((N,R)=>N+Number(R.quantity),0)||0," pzas)"]}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:i.items&&i.items.length>0?i.items.map((N,R)=>u.jsxs("div",{className:"flex items-center gap-3 bg-white p-2.5 rounded-lg shadow-sm border border-gray-100 text-sm group",children:[u.jsx("input",{type:"number",className:"w-12 p-1 border border-gray-200 rounded text-center font-bold text-cadena-blue bg-blue-50 focus:bg-white transition outline-none",value:N.quantity,onChange:k=>F(R,k.target.value)}),u.jsx("span",{className:"flex-1 font-medium text-gray-700 leading-tight",children:N.name}),u.jsx("button",{type:"button",onClick:()=>G(R),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1.5 rounded transition",children:u.jsx(tc,{size:15})})]},R)):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-60",children:[u.jsx(di,{size:40,className:"mb-2"}),u.jsx("p",{className:"text-xs",children:"Sin artculos"})]})})]})]})]}),u.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 text-cadena-blue",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Rv,{size:20}),u.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Desglose Financiero"})]}),u.jsx("button",{type:"button",onClick:se,className:"text-xs bg-white border border-cadena-blue px-3 py-1 rounded-full hover:bg-blue-100 transition",children:"+ Agregar Fila"})]}),u.jsx("div",{className:"space-y-4 mb-6",children:i.financialItems&&i.financialItems.map((N,R)=>u.jsx("div",{className:"bg-white p-3 rounded-xl border border-blue-100 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[u.jsxs("div",{className:"col-span-12 sm:col-span-6",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Descripcin / Concepto"}),u.jsx("textarea",{className:`${I} h-12 py-2 text-xs resize-none`,placeholder:"Descripcin...",value:N.description,onChange:k=>ie(R,"description",k.target.value)})]}),u.jsxs("div",{className:"col-span-5 sm:col-span-3",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Costo"}),u.jsx("input",{type:"number",className:`${I} text-center`,placeholder:"$0",value:N.cost,onChange:k=>ie(R,"cost",k.target.value)})]}),u.jsxs("div",{className:"col-span-5 sm:col-span-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Cant."}),u.jsx("input",{type:"number",className:`${I} text-center`,placeholder:"1",value:N.quantity,onChange:k=>ie(R,"quantity",k.target.value)})]}),u.jsx("div",{className:"col-span-2 sm:col-span-1",children:u.jsx("button",{type:"button",onClick:()=>ne(R),className:"w-full h-[46px] flex items-center justify-center text-red-400 hover:text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition border border-red-100",children:u.jsx(tc,{size:18})})})]})},R))}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 border-t border-blue-100 pt-4",children:[u.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[u.jsx(aN,{size:18,className:"text-gray-400"}),u.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:border-cadena-blue",value:i.taxType||"retention",onChange:N=>o({...i,taxType:N.target.value}),children:[u.jsx("option",{value:"none",children:"Sin Impuestos (Neto)"}),u.jsx("option",{value:"iva",children:"Solo IVA (16%)"}),u.jsx("option",{value:"retention",children:"IVA (16%) + Retencin (-4%)"})]})]}),u.jsxs("button",{type:"button",onClick:me,className:"bg-cadena-dark text-white px-6 py-2 rounded-lg text-xs font-bold hover:bg-black transition shadow-md flex gap-2 items-center w-full sm:w-auto justify-center",children:[u.jsx(Rv,{size:14})," Calcular Totales"]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex justify-between w-48",children:[u.jsx("span",{children:"Subtotal:"})," ",u.jsxs("span",{className:"font-bold",children:["$",Number(i.subtotal||0).toLocaleString()]})]}),(i.taxType==="iva"||i.taxType==="retention")&&u.jsxs("div",{className:"flex justify-between w-48",children:[u.jsx("span",{children:"IVA (16%):"})," ",u.jsxs("span",{className:"font-bold",children:["$",Number(i.iva||0).toLocaleString()]})]}),i.taxType==="retention"&&u.jsxs("div",{className:"flex justify-between w-48 text-red-500",children:[u.jsx("span",{children:"Retencin (4%):"})," ",u.jsxs("span",{className:"font-bold",children:["-$",Number(i.retention||0).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between w-64 mt-2 pt-2 border-t border-cadena-blue items-center",children:[u.jsx("span",{className:"font-black text-cadena-blue",children:"TOTAL FINAL:"}),u.jsx("input",{type:"number",className:"w-32 p-2 text-xl font-black text-cadena-blue bg-white border-2 border-cadena-blue rounded-lg text-right outline-none",value:i.price||"",onChange:N=>o({...i,price:N.target.value})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Notas / Observaciones"}),u.jsx("textarea",{className:`${I} h-32 resize-none`,value:i.notes||"",onChange:N=>o({...i,notes:N.target.value}),placeholder:"Detalles importantes..."})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[u.jsx(dh,{size:16})," Documentos del Cliente"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(A,{title:"INE / ID (FRENTE)",urlField:"idUrlFront",urlValue:i.idUrlFront||i.idUrl,colorClass:"text-blue-600 bg-blue-600",badgeColor:"bg-green-100 text-green-700"}),u.jsx(A,{title:"INE / ID (REVERSO)",urlField:"idUrlBack",urlValue:i.idUrlBack,colorClass:"text-blue-600 bg-blue-600",badgeColor:"bg-green-100 text-green-700"}),u.jsx(A,{title:"COMPROBANTE DOMICILIO",urlField:"addressUrl",urlValue:i.addressUrl,colorClass:"text-purple-600 bg-purple-600",badgeColor:"bg-purple-100 text-purple-700"})]})]})]}),u.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition flex justify-center gap-2 items-center text-lg mt-4",children:[u.jsx(lN,{size:20})," Guardar Cambios y Actualizar"]})]})})]})},Td=({label:r,icon:e,active:n,onClick:i,count:o,colorClass:c})=>u.jsxs("button",{onClick:i,className:`flex items-center gap-2 py-4 border-b-4 font-bold transition whitespace-nowrap px-4 ${n?`border-${c} text-${c}`:"border-transparent text-gray-400 hover:text-gray-600"}`,children:[e," ",r,o>0&&u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${n?`bg-${c}/10 text-${c}`:"bg-gray-100 text-gray-500"}`,children:o})]}),wd=({msg:r})=>u.jsx("div",{className:"text-center py-16 bg-white rounded-2xl border-2 border-dashed border-gray-100",children:u.jsx("p",{className:"text-gray-400 font-medium",children:r})}),hx=({title:r,onClose:e,children:n})=>u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:u.jsx(mh,{size:20})})]}),u.jsx("div",{className:"p-8",children:n})]})}),gM=()=>{const r=Io(),[e,n]=P.useState("cotizaciones"),[i,o]=P.useState([]),[c,h]=P.useState(!1),[p,g]=P.useState(null),[y,x]=P.useState(null),[E,S]=P.useState({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""});P.useEffect(()=>{const A=Og(vc(Xt,"moves"),VE("createdAt","desc")),N=BE(A,R=>{o(R.docs.map(k=>({id:k.id,...k.data()})))});return()=>N()},[]);const V=async()=>{await JD(wT),r("/admin")},H=async A=>{confirm("Eliminar registro?")&&await Y4(Qn(Xt,"moves",A))},G=A=>{const R=`${window.location.href.split("#")[0]}#/contrato/${A}`;navigator.clipboard.writeText(R),alert("Enlace copiado.")},F=A=>{r(`/admin/ver-contrato/${A.id}`)},se=async A=>{A.preventDefault();try{await PE(Xt,async N=>{const R=Qn(Xt,"counters","moves_counter"),k=await N.get(R);let j=1;k.exists()&&(j=k.data().current+1);const Me=`MUD-${String(j).padStart(4,"0")}`,De=Number(E.price)||0,Q=[{description:"FLETE Y MANIOBRAS",cost:De,quantity:1}],W=De>0&&E.date?"Programada":"Pendiente",ae=Qn(vc(Xt,"moves"));N.set(ae,{...E,folio:Me,status:W,items:[],price:De,subtotal:De,iva:0,retention:0,financialItems:Q,createdAt:new Date}),N.set(R,{current:j})}),h(!1),S({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""}),alert("Registro creado con xito.")}catch(N){console.error("Error creando folio:",N),alert("Error al generar registro.")}},ne=A=>A.folio&&parseInt(A.folio.split("-")[1])||0,ie=A=>A.sort((N,R)=>ne(R)-ne(N)),me=ie(i.filter(A=>A.status==="Pendiente"&&(!A.idUrl||!A.addressUrl))),re=ie(i.filter(A=>A.status==="Pendiente"&&A.idUrl&&A.addressUrl||A.status==="Programada")),ue=ie(i.filter(A=>["Contrato Firmado","En Carga","En Trnsito"].includes(A.status))),I=ie(i.filter(A=>A.status==="Finalizada")),C=A=>({key:A.id,move:A,onEdit:()=>g(A),onDelete:()=>H(A.id),onCopyLink:()=>G(A.id),onViewId:()=>x(A),onViewContract:()=>F(A),isPending:A.price===0});return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[u.jsxs("nav",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-20 border-b border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-2 text-cadena-pink font-black text-xl tracking-tight",children:[u.jsx(US,{className:"text-cadena-blue"})," Panel Cadena"]}),u.jsxs("button",{onClick:V,className:"text-gray-400 hover:text-red-500 font-medium text-sm flex gap-2 transition",children:[u.jsx(FS,{size:18})," Salir"]})]}),u.jsx("div",{className:"bg-white px-4 sm:px-8 shadow-sm relative z-10",children:u.jsxs("div",{className:"flex space-x-2 sm:space-x-8 overflow-x-auto pb-1 sm:pb-0",children:[u.jsx(Td,{label:"Nuevas",icon:u.jsx(oa,{size:18}),active:e==="cotizaciones",onClick:()=>n("cotizaciones"),count:me.length,colorClass:"gray-600"}),u.jsx(Td,{label:"Por Firmar",icon:u.jsx(qx,{size:18}),active:e==="por_firmar",onClick:()=>n("por_firmar"),count:re.length,colorClass:"cadena-pink"}),u.jsx(Td,{label:"Activas",icon:u.jsx(hi,{size:18}),active:e==="operaciones",onClick:()=>n("operaciones"),count:ue.length,colorClass:"cadena-blue"}),u.jsx(Td,{label:"Historial",icon:u.jsx(uh,{size:18}),active:e==="historial",onClick:()=>n("historial"),count:I.length,colorClass:"green-600"})]})}),u.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e==="cotizaciones"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Solicitudes Recientes"}),u.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl flex gap-2 font-bold shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5",children:[u.jsx(Iv,{size:20})," Crear Manual"]})]}),me.length===0?u.jsx(wd,{msg:"No hay solicitudes nuevas."}):u.jsx("div",{className:"grid gap-4",children:me.map(A=>u.jsx(xd,{...C(A)}))})]}),e==="por_firmar"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"bg-pink-50 border border-pink-100 p-4 rounded-xl flex items-start gap-3",children:[u.jsx(Hp,{className:"text-cadena-pink shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-cadena-pink",children:"En Proceso de Firma"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Mudanzas cotizadas esperando firma del cliente o revisin de documentos."})]})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Listos para Revisin y Firma"}),re.length===0?u.jsx(wd,{msg:"Nadie est esperando revisin."}):u.jsx("div",{className:"grid gap-4",children:re.map(A=>u.jsx(xd,{...C(A)}))})]}),e==="operaciones"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Operaciones en Curso"}),ue.length===0?u.jsx(wd,{msg:"Sin operaciones firmadas en curso."}):u.jsx("div",{className:"grid gap-4",children:ue.map(A=>u.jsx(xd,{...C(A),onPrintOrder:()=>r(`/orden-carga/${A.id}`)}))})]}),e==="historial"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Historial Finalizado"}),I.length===0?u.jsx(wd,{msg:"An no hay mudanzas finalizadas."}):u.jsx("div",{className:"grid gap-4 opacity-80 hover:opacity-100 transition duration-300",children:I.map(A=>u.jsx(xd,{...C(A),onPrintOrder:()=>r(`/orden-carga/${A.id}`)}))})]})]}),p&&u.jsx(pM,{moveData:p,onClose:()=>g(null),onSuccess:()=>g(null)}),y&&u.jsx(hx,{title:`Documentacin: ${y.client}`,onClose:()=>x(null),children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Identificacin Oficial (INE)"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1",children:"FRENTE:"}),y.idUrlFront||y.idUrl?u.jsx("img",{src:y.idUrlFront||y.idUrl,className:"w-full h-48 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"INE Frente"}):u.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 text-gray-400 text-xs italic border-2 border-dashed rounded-xl",children:"Sin imagen"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1",children:"REVERSO:"}),y.idUrlBack?u.jsx("img",{src:y.idUrlBack,className:"w-full h-48 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"INE Reverso"}):u.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 text-gray-400 text-xs italic border-2 border-dashed rounded-xl",children:"Sin imagen"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Comprobante de Domicilio"}),y.addressUrl?u.jsx("img",{src:y.addressUrl,className:"w-full max-h-80 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"Domicilio"}):u.jsx("p",{className:"text-gray-400 italic text-sm py-8 text-center bg-gray-50 rounded border-2 border-dashed",children:"No adjuntado"})]})]})}),c&&u.jsx(hx,{title:"Nueva Mudanza Completa",onClose:()=>h(!1),children:u.jsxs("form",{onSubmit:se,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(yM,{size:14})," Nombre del Cliente"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Ej. Juan Prez",value:E.client,onChange:A=>S({...E,client:A.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(hh,{size:14})," Telfono"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"55 1234 5678",value:E.phone,onChange:A=>S({...E,phone:A.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(mr,{size:14,className:"text-green-500"})," Origen"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.origin,onChange:A=>S({...E,origin:A.target.value})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(mr,{size:14,className:"text-red-500"})," Destino"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.destination,onChange:A=>S({...E,destination:A.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(Fp,{size:14})," Fecha Tentativa"]}),u.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",value:E.date,onChange:A=>S({...E,date:A.target.value})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(CS,{size:14})," Precio Estimado ($)"]}),u.jsx("input",{type:"number",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm font-bold text-green-600",placeholder:"0.00",value:E.price,onChange:A=>S({...E,price:A.target.value})}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'Si pones precio, la mudanza pasar a "Programada".'})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Notas / Observaciones"}),u.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm h-20",placeholder:"Ej. Casa de 3 pisos, volado, piano...",value:E.notes,onChange:A=>S({...E,notes:A.target.value})})]}),u.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-md transition flex justify-center items-center gap-2 text-lg",children:[u.jsx(Iv,{size:24})," Crear Registro Completo"]})]})})]})},yM=r=>u.jsxs("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),bM=()=>{const[r,e]=P.useState([]),[n,i]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const c=Og(vc(Xt,"moves"),Ip("status","in",["Contrato Firmado","En Carga","En Trnsito"]),VE("date","asc")),p=(await zE(c)).docs.map(g=>({id:g.id,...g.data()}));e(p)}catch(c){console.error("Error cargando trabajos:",c)}finally{i(!1)}})()},[]),n?u.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Cargando..."}):u.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-20 p-4 print:bg-white print:text-black print:p-0 print:m-0",children:[u.jsx("button",{onClick:()=>window.print(),className:"fixed bottom-4 right-4 bg-cadena-blue text-white p-4 rounded-full shadow-xl z-50 print:hidden hover:bg-blue-700 transition",children:u.jsx(fh,{size:24})}),u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-cadena-blue border-b border-gray-800 pb-4 print:hidden",children:"rdenes de Carga Activas"}),u.jsxs("div",{className:"space-y-6 print:space-y-4 print:block",children:[r.length===0&&u.jsxs("div",{className:"text-center py-10 opacity-50",children:[u.jsx(di,{size:48,className:"mx-auto mb-4"}),u.jsx("p",{children:"No hay trabajos activos."})]}),r.map(o=>u.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-lg relative overflow-hidden break-inside-avoid print:bg-white print:border-b-2 print:border-black print:shadow-none print:rounded-none print:p-0 print:mb-6 print:page-break-inside-avoid",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2 print:mb-2 print:border-b print:border-gray-300 print:pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider print:text-black print:text-[10px]",children:"FOLIO"}),u.jsx("span",{className:"text-xl font-black text-white print:text-black",children:o.folio})]}),u.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase print:hidden ${o.status==="En Trnsito"?"bg-green-500/20 text-green-400":"bg-pink-500/20 text-pink-400"}`,children:o.status})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"bg-gray-900/50 px-3 py-1 rounded-lg border border-gray-600 inline-flex items-center gap-2 print:bg-transparent print:border-0 print:p-0",children:[u.jsx(Fp,{size:14,className:"text-cadena-blue print:text-black"}),u.jsx("span",{className:"text-sm font-bold print:text-black",children:o.date})]})})]}),u.jsxs("div",{className:"space-y-4 pl-2 print:space-y-1",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 print:grid-cols-3 gap-4 print:gap-2 print:text-[10px]",children:[u.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Origen"}),u.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.origin})]}),u.jsxs("div",{className:"border-l-2 border-red-500 pl-3",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Destino"}),u.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.destination})]}),u.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-700 flex gap-3 items-center print:bg-transparent print:border-0 print:p-0 print:block",children:[u.jsx("div",{className:"print:hidden bg-blue-500/20 p-1.5 rounded-full text-blue-400",children:u.jsx(hh,{size:16})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Contacto"}),u.jsx("p",{className:"font-bold text-white print:text-black",children:o.phone}),u.jsx("p",{className:"text-xs text-gray-400 print:text-black",children:o.client})]})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 print:border-black print:mt-2 print:pt-2",children:[u.jsxs("p",{className:"text-xs text-gray-500 uppercase font-bold flex items-center gap-2 mb-2 print:text-black print:mb-1 print:text-[10px]",children:[u.jsx(di,{size:12,className:"text-cadena-pink print:hidden"})," Inventario"]}),u.jsx("div",{className:"bg-gray-900/80 p-3 rounded-xl border border-gray-700/50 min-h-[50px] print:bg-transparent print:border-none print:p-0",children:Array.isArray(o.items)&&o.items.length>0?u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 print:grid-cols-4 gap-2 text-xs",children:o.items.map((c,h)=>u.jsxs("div",{className:"flex items-start gap-1 border-b border-gray-800 pb-1 mb-1 print:border-gray-200 print:mb-0",children:[u.jsx("span",{className:"font-bold bg-gray-700 text-cadena-blue px-1.5 rounded text-[10px] min-w-[1.2rem] text-center shrink-0 border border-gray-600 print:bg-gray-200 print:text-black print:border-gray-400",children:c.quantity}),u.jsx("span",{className:"text-gray-300 leading-tight print:text-black text-[10px] break-words",children:c.name})]},h))}):u.jsx("div",{className:"text-center py-2 opacity-50 print:text-black",children:typeof o.items=="string"&&o.items.length>1?u.jsx("p",{className:"text-xs italic text-gray-400 print:text-black",children:o.items}):u.jsx("p",{className:"text-[10px] text-gray-500 italic print:text-black",children:"Sin detalles"})})}),o.notes&&u.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg print:border print:border-black print:bg-transparent",children:[u.jsx("p",{className:"text-[10px] text-yellow-500 font-bold uppercase print:text-black inline mr-2",children:"Nota:"}),u.jsx("span",{className:"text-xs text-yellow-100/80 italic print:text-black",children:o.notes})]})]})]})]},o.id))]})]})},vM=()=>{const{id:r}=Lp(),e=Io(),[n,i]=P.useState(null),[o,c]=P.useState(!0);return P.useEffect(()=>{(async()=>{if(r)try{const p=Qn(Xt,"moves",r),g=await UE(p);g.exists()?i({id:g.id,...g.data()}):(alert("Orden no encontrada"),e("/app/dashboard"))}catch(p){console.error("Error cargando orden:",p)}finally{c(!1)}})()},[r,e]),o?u.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando formato..."}):n?u.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans print:text-black",children:[u.jsx("style",{children:`
          @media print {
            @page {
              margin: 1cm; /* Margen fsico seguro */
              size: letter; /* Tamao carta */
            }
            html, body {
              margin: 0 !important;
              padding: 0 !important;
              height: auto !important;
              overflow: visible !important;
              background-color: white !important;
            }
            /* Ocultar elementos del navegador */
            body > *:not(#root) {
              display: none !important;
            }
            /* Asegurar que el contenido fluya */
            #root {
              width: 100% !important;
              position: relative !important;
              display: block !important;
            }
            /* Forzar fondo blanco y texto negro */
            * {
              -webkit-print-color-adjust: exact !important;
              print-color-adjust: exact !important;
            }
          }
        `}),u.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex justify-between items-center print:hidden",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[u.jsx(ch,{size:20})," Volver"]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[u.jsx(fh,{size:20})," Imprimir"]})]}),u.jsxs("div",{className:"max-w-[21.5cm] mx-auto bg-white shadow-2xl p-8 md:p-10 rounded-xl print:shadow-none print:w-full print:max-w-none print:p-0 print:rounded-none print:m-0 flex flex-col relative",children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-black pb-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:uc,alt:"Mudanzas Cadena",className:"h-16 w-auto object-contain"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-black leading-none",children:"Orden de Carga"}),u.jsx("p",{className:"text-gray-500 font-bold text-xs tracking-[0.3em] mt-1",children:"MUDANZAS CADENA  LOGSTICA"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Folio de Servicio"}),u.jsx("p",{className:"text-3xl font-black text-red-600 leading-none",children:n.folio||"S/N"}),u.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1 text-gray-600",children:[u.jsx(Fp,{size:12}),u.jsx("p",{className:"text-xs font-bold",children:n.date})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 text-sm border-b border-gray-200 pb-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 font-black text-black mb-2 uppercase text-xs tracking-wider",children:[u.jsx(vN,{size:14})," Cliente / Contacto"]}),u.jsxs("div",{className:"pl-2 border-l-2 border-cadena-blue",children:[u.jsx("p",{className:"text-lg font-bold uppercase leading-tight",children:n.client}),u.jsx("p",{className:"mt-0.5 text-gray-600 font-mono",children:n.phone})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded p-2 print:bg-white print:border-black",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1 text-gray-500",children:[u.jsx(oa,{size:10}),u.jsx("p",{className:"font-bold text-[9px] uppercase",children:"Instrucciones de Oficina:"})]}),u.jsx("p",{className:"uppercase text-xs font-bold text-black leading-snug",children:n.notes||"Sin instrucciones especiales."})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[u.jsx(mr,{size:12})," Origen"]}),u.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-green-500 pl-2",children:n.origin})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[u.jsx(hi,{size:12})," Destino"]}),u.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-red-500 pl-2",children:n.destination})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-black pb-1",children:[u.jsxs("h3",{className:"font-black text-sm uppercase tracking-widest flex items-center gap-2",children:[u.jsx(di,{size:16})," Lista de Carga (Checklist)"]}),u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400",children:"Marcar al cargar"})]}),Array.isArray(n.items)&&n.items.length>0?u.jsx("div",{className:"columns-1 md:columns-3 print:columns-3 gap-x-6 gap-y-2",children:n.items.map((h,p)=>u.jsxs("div",{className:"break-inside-avoid flex items-center gap-2 border-b border-gray-300 pb-1 mb-1 print:border-gray-400",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-sm shrink-0 bg-white"}),u.jsx("span",{className:"font-black text-sm text-black min-w-[1.2rem] text-center",children:h.quantity}),u.jsx("span",{className:"leading-tight uppercase text-[10px] font-bold text-gray-800 pt-0.5",children:h.name})]},p))}):u.jsx("div",{className:"p-6 text-center text-gray-400 italic border-2 border-dashed border-gray-200 rounded-lg",children:typeof n.items=="string"?n.items:"No hay inventario desglosado en el sistema."})]}),u.jsx("div",{className:"mt-12 break-inside-avoid border-t-2 border-gray-100 pt-4 print:border-none",children:u.jsxs("div",{className:"flex justify-between items-end text-center text-xs font-bold uppercase gap-8",children:[u.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[u.jsx("p",{children:"Firma Operador"}),u.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Responsable de carga"})]}),u.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[u.jsx("p",{children:"Firma Cliente"}),u.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Conformidad de servicio"})]})]})})]})]}):null},_M=()=>{const{id:r}=Lp(),e=Io(),[n,i]=P.useState(null),[o,c]=P.useState(!0);if(P.useEffect(()=>{(async()=>{if(r)try{const y=Qn(Xt,"moves",r),x=await UE(y);if(x.exists()){let E=x.data();E.idUrl&&!E.idUrlFront&&(E.idUrlFront=E.idUrl),i({id:x.id,...E})}else alert("Contrato no encontrado"),e("/admin")}catch(y){console.error("Error:",y)}finally{c(!1)}})()},[r,e]),o)return u.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando contrato..."});if(!n)return null;const h="bg-white shadow-2xl p-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-black text-sm flex flex-col mb-8 last:mb-0 print:shadow-none print:m-0 print:w-full print:max-w-none print:min-h-[27.9cm] print:h-[27.9cm] print:break-after-page print:mb-0 print:rounded-none relative",p=()=>u.jsxs("div",{className:"pt-8 border-t border-gray-300 flex justify-between items-end text-xs break-inside-avoid",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-black",children:"MUDANZAS CADENA"}),u.jsxs("p",{className:"text-black",children:["Folio: ",n.folio]})]}),u.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?u.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):u.jsx("div",{className:"h-12"}),u.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold text-black",children:"FIRMA C."})]})]});return u.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans",children:[u.jsx("style",{children:`
          @media print {
            @page {
              margin: 0;
              size: letter;
            }
            html, body {
              margin: 0 !important;
              padding: 0 !important;
              background-color: white !important;
            }
            /* Ocultar interfaz del navegador */
            body * {
              visibility: hidden;
            }
            /* Mostrar solo nuestra app */
            #root, #root * {
              visibility: visible;
            }
            /* Posicionar el contenido al inicio absoluto */
            .print\\:bg-white {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
            }
            /* Ajuste de columnas para el inventario */
            .print\\:columns-3 {
              column-count: 3 !important;
            }
          }
        `}),u.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex justify-between items-center print:hidden",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[u.jsx(ch,{size:20})," Volver"]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[u.jsx(fh,{size:20})," Imprimir Contrato"]})]}),u.jsxs("div",{className:h,children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("img",{src:uc,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),u.jsx("p",{className:"text-xs tracking-[0.2em] font-bold uppercase mt-1 ml-1 text-gray-500",children:"COTIZA HOY, MDATE HOY"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-black text-lg",children:"CONTRATO DE SERVICIO"}),u.jsxs("p",{className:"text-sm",children:["FOLIO: ",u.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),u.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date(n.createdAt?.seconds*1e3||Date.now()).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"space-y-6 text-sm uppercase mb-12",children:[u.jsxs("div",{className:"border p-4 rounded bg-gray-50 border-gray-200",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),u.jsx("p",{children:n.origin})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),u.jsx("p",{children:n.destination})]})]}),u.jsxs("div",{className:"border-t pt-4 border-gray-200",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",u.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),u.jsx(p,{})]}),u.jsxs("div",{className:h,children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),u.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b border-gray-200 pb-4",children:"Revisado y Autorizado por el Cliente"}),u.jsx("div",{className:"flex-1 mb-8",children:n.items&&n.items.length>0?u.jsx("div",{className:"columns-2 md:columns-3 print:columns-3 gap-4",children:n.items.map((g,y)=>u.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center border border-gray-200",children:g.quantity}),u.jsx("span",{className:"leading-tight",children:g.name})]},y))}):u.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:u.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})})]}),u.jsx(p,{})]}),u.jsxs("div",{className:h,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),u.jsxs("div",{className:"text-[10px] leading-relaxed text-justify space-y-2",children:[u.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),u.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),u.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),u.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),u.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),u.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),u.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),u.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),u.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),u.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),u.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio, de $50,000.00 como valor mnimo de embarque para la modalidad compartida o una pliza de seguro por el 10% adicional del valor de total del servicio, de $50,000.00 hasta $100,000.00 como lmite mximo por embarque para la modalidad exclusiva, por los hechos que la ley seala como riesgos ordinarios de trnsito, robo total con violencia y/o asalto. En caso de que el valor declarado de sus bienes exceda estos montos, se le da la opcin al cliente de ampliar su pliza de seguro para que su carga vaya asegurada por completo. La territorialidad de la pliza de seguro consta de (Bodega  Bodega), es decir, desde el momento que sale de Bodega MUDANZAS CADENA hasta el DESTINO FINAL del cliente. La Pliza de Seguro compartida y exclusiva se considera por todo el embarque, es decir, sobre todos los artculos, embalajes, que viajen en el mismo contenedor, bajo ninguna circunstancia se contrata el seguro por un artculo u embalaje en especial. En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),u.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),u.jsx("p",{children:"13. El cliente que es quien remite el servicio, encomienda a MUDANZAS CADENA, y este se obliga a transportar en sujecin de las leyes, aquellos bienes descritos en el presente documento al lugar del destino que seale el cliente."}),u.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),u.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."}),u.jsx("p",{className:"font-bold text-center mt-4",children:"AL FIRMAR ESTE CONTRATO, EST ACEPTANDO LAS CONDICIONES DE SERVICIO ANTES MENCIONADAS."})]})]}),u.jsx(p,{})]}),u.jsxs("div",{className:h,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),u.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[u.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),u.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),u.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),u.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),u.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((g,y)=>u.jsxs("tr",{className:"border-b border-black",children:[u.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:g.description}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(g.cost).toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:g.quantity}),u.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(g.cost*g.quantity).toLocaleString()]})]},y)):u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),u.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),u.jsxs("div",{className:"w-1/2 ml-auto",children:[u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"SUBTOTAL"})," ",u.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"IVA (16%)"})," ",u.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[u.jsx("span",{children:"RETENCIN (-4%)"})," ",u.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[u.jsx("span",{children:"TOTAL"})," ",u.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]})]}),u.jsx(p,{})]}),u.jsxs("div",{className:h,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),u.jsxs("div",{className:"space-y-6 text-sm text-center",children:[u.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),u.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),u.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),u.jsx("p",{children:"CUENTA: 047 181 9445"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",u.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]})]}),u.jsx(p,{})]})]})},xM=()=>{const[r,e]=P.useState(!1);return P.useEffect(()=>{const n=setTimeout(()=>e(!0),1e3);return()=>clearTimeout(n)},[]),u.jsxs(Gn,{to:"/cotizar",className:`fixed bottom-6 right-6 z-[60] flex flex-col items-end cursor-pointer group transition-transform duration-500 ${r?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:[u.jsxs("div",{className:"relative mr-4 mb-2 animate-bounce-slow",children:[u.jsx("div",{className:"bg-white text-cadena-dark font-bold text-sm px-4 py-2 rounded-2xl shadow-xl border border-gray-100 transform transition-transform origin-bottom-right group-hover:scale-110",children:"Psst! Cotizamos? "}),u.jsx("div",{className:"absolute -bottom-1 right-4 w-3 h-3 bg-white border-r border-b border-gray-100 transform rotate-45"})]}),u.jsxs("div",{className:"relative w-20 h-20 md:w-32 md:h-32 transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-cadena-blue/30 blur-2xl rounded-full scale-0 group-hover:scale-100 transition-transform duration-300"}),u.jsx("img",{src:ph,alt:"Cotiza con nosotros",className:"w-full h-full object-contain drop-shadow-2xl transform transition-all duration-300 group-hover:-translate-y-2 group-hover:rotate-6"}),u.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white"})]})]})]})},EM=()=>{const{pathname:r}=vr();return P.useEffect(()=>{window.scrollTo(0,0)},[r]),null};function TM(){return u.jsxs(u.Fragment,{children:[u.jsx(EM,{}),u.jsxs(yA,{children:[u.jsxs(Fn,{path:"/",element:u.jsxs(u.Fragment,{children:[u.jsx(CN,{}),u.jsx(xM,{})]}),children:[u.jsx(Fn,{index:!0,element:u.jsx(HN,{})}),u.jsx(Fn,{path:"servicios",element:u.jsx(Gx,{})}),u.jsx(Fn,{path:"rastreo",element:u.jsx(hO,{})}),u.jsx(Fn,{path:"cotizar",element:u.jsx(mO,{})})]}),u.jsx(Fn,{path:"/admin",element:u.jsx(gO,{})}),u.jsx(Fn,{path:"/admin/dashboard",element:u.jsx(gM,{})}),u.jsx(Fn,{path:"/contrato/:id",element:u.jsx(pO,{})}),u.jsx(Fn,{path:"/trabajadores",element:u.jsx(bM,{})}),u.jsx(Fn,{path:"/orden-carga/:id",element:u.jsx(vM,{})}),u.jsx(Fn,{path:"/admin/ver-contrato/:id",element:u.jsx(_M,{})})]})]})}y2.createRoot(document.getElementById("root")).render(u.jsx(c2.StrictMode,{children:u.jsx(BA,{children:u.jsx(TM,{})})}));
