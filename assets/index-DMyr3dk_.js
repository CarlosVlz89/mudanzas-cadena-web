(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function px(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Lm={exports:{}},ql={};var h_;function p2(){if(h_)return ql;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var d_;function g2(){return d_||(d_=1,Lm.exports=p2()),Lm.exports}var d=g2(),Um={exports:{}},Ne={};var f_;function y2(){if(f_)return Ne;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function ne(O,W,oe){this.props=O,this.context=W,this.refs=q,this.updater=oe||$}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function re(O,W,oe){this.props=O,this.context=W,this.refs=q,this.updater=oe||$}var pe=re.prototype=new ee;pe.constructor=re,G(pe,ne.prototype),pe.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var T={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(O,W,oe){var ce=oe.ref;return{$$typeof:r,type:O,key:W,ref:ce!==void 0?ce:null,props:oe}}function j(O,W){return R(O.type,W,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return W[oe]})}var C=/\/+/g;function He(O,W){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):W.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ge,ge):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,W,oe,ce,we){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case r:case e:Be=!0;break;case x:return Be=O._init,F(Be(O._payload),W,oe,ce,we)}}if(Be)return we=we(O),Be=ce===""?"."+He(O,0):ce,de(we)?(oe="",Be!=null&&(oe=Be.replace(C,"$&/")+"/"),F(we,W,oe,"",function(As){return As})):we!=null&&(k(we)&&(we=j(we,oe+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+Be)),W.push(we)),1;Be=0;var Dt=ce===""?".":ce+":";if(de(O))for(var ot=0;ot<O.length;ot++)ce=O[ot],Ie=Dt+He(ce,ot),Be+=F(ce,W,oe,Ie,we);else if(ot=M(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(ce=O.next()).done;)ce=ce.value,Ie=Dt+He(ce,ot++),Be+=F(ce,W,oe,Ie,we);else if(Ie==="object"){if(typeof O.then=="function")return F(ye(O),W,oe,ce,we);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(O,W,oe){if(O==null)return O;var ce=[],we=0;return F(O,ce,"","",function(Ie){return W.call(oe,Ie,we++)}),ce}function he(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Oe={map:ie,forEach:function(O,W,oe){ie(O,function(){W.apply(this,arguments)},oe)},count:function(O){var W=0;return ie(O,function(){W++}),W},toArray:function(O){return ie(O,function(W){return W})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=E,Ne.Children=Oe,Ne.Component=ne,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=re,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return T.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,W,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=G({},O.props),we=O.key;if(W!=null)for(Ie in W.key!==void 0&&(we=""+W.key),W)!N.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(ce[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=oe;else if(1<Ie){for(var Be=Array(Ie),Dt=0;Dt<Ie;Dt++)Be[Dt]=arguments[Dt+2];ce.children=Be}return R(O.type,we,ce)},Ne.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,W,oe){var ce,we={},Ie=null;if(W!=null)for(ce in W.key!==void 0&&(Ie=""+W.key),W)N.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=W[ce]);var Be=arguments.length-2;if(Be===1)we.children=oe;else if(1<Be){for(var Dt=Array(Be),ot=0;ot<Be;ot++)Dt[ot]=arguments[ot+2];we.children=Dt}if(O&&O.defaultProps)for(ce in Be=O.defaultProps,Be)we[ce]===void 0&&(we[ce]=Be[ce]);return R(O,Ie,we)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:p,render:O}},Ne.isValidElement=k,Ne.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:he}},Ne.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},Ne.startTransition=function(O){var W=T.T,oe={};T.T=oe;try{var ce=O(),we=T.S;we!==null&&we(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ge,Se)}catch(Ie){Se(Ie)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),T.T=W}},Ne.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ne.use=function(O){return T.H.use(O)},Ne.useActionState=function(O,W,oe){return T.H.useActionState(O,W,oe)},Ne.useCallback=function(O,W){return T.H.useCallback(O,W)},Ne.useContext=function(O){return T.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,W){return T.H.useDeferredValue(O,W)},Ne.useEffect=function(O,W){return T.H.useEffect(O,W)},Ne.useEffectEvent=function(O){return T.H.useEffectEvent(O)},Ne.useId=function(){return T.H.useId()},Ne.useImperativeHandle=function(O,W,oe){return T.H.useImperativeHandle(O,W,oe)},Ne.useInsertionEffect=function(O,W){return T.H.useInsertionEffect(O,W)},Ne.useLayoutEffect=function(O,W){return T.H.useLayoutEffect(O,W)},Ne.useMemo=function(O,W){return T.H.useMemo(O,W)},Ne.useOptimistic=function(O,W){return T.H.useOptimistic(O,W)},Ne.useReducer=function(O,W,oe){return T.H.useReducer(O,W,oe)},Ne.useRef=function(O){return T.H.useRef(O)},Ne.useState=function(O){return T.H.useState(O)},Ne.useSyncExternalStore=function(O,W,oe){return T.H.useSyncExternalStore(O,W,oe)},Ne.useTransition=function(){return T.H.useTransition()},Ne.version="19.2.3",Ne}var m_;function Mp(){return m_||(m_=1,Um.exports=y2()),Um.exports}var L=Mp();const v2=px(L);var zm={exports:{}},Fl={},Bm={exports:{}},qm={};var p_;function _2(){return p_||(p_=1,(function(r){function e(F,ie){var he=F.length;F.push(ie);e:for(;0<he;){var Se=he-1>>>1,Oe=F[Se];if(0<o(Oe,ie))F[Se]=ie,F[he]=Oe,he=Se;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ie=F[0],he=F.pop();if(he!==ie){F[0]=he;e:for(var Se=0,Oe=F.length,O=Oe>>>1;Se<O;){var W=2*(Se+1)-1,oe=F[W],ce=W+1,we=F[ce];if(0>o(oe,he))ce<Oe&&0>o(we,oe)?(F[Se]=we,F[ce]=he,Se=ce):(F[Se]=oe,F[W]=he,Se=W);else if(ce<Oe&&0>o(we,he))F[Se]=we,F[ce]=he,Se=ce;else break e}}return ie}function o(F,ie){var he=F.sortIndex-ie.sortIndex;return he!==0?he:F.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,S=3,M=!1,$=!1,G=!1,q=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(F){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=F)s(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(y)}}function de(F){if(G=!1,pe(F),!$)if(n(g)!==null)$=!0,ge||(ge=!0,P());else{var ie=n(y);ie!==null&&ye(de,ie.startTime-F)}}var ge=!1,T=-1,N=5,R=-1;function j(){return q?!0:!(r.unstable_now()-R<N)}function k(){if(q=!1,ge){var F=r.unstable_now();R=F;var ie=!0;try{e:{$=!1,G&&(G=!1,ee(T),T=-1),M=!0;var he=S;try{t:{for(pe(F),E=n(g);E!==null&&!(E.expirationTime>F&&j());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,S=E.priorityLevel;var Oe=Se(E.expirationTime<=F);if(F=r.unstable_now(),typeof Oe=="function"){E.callback=Oe,pe(F),ie=!0;break t}E===n(g)&&s(g),pe(F)}else s(g);E=n(g)}if(E!==null)ie=!0;else{var O=n(y);O!==null&&ye(de,O.startTime-F),ie=!1}}break e}finally{E=null,S=he,M=!1}ie=void 0}}finally{ie?P():ge=!1}}}var P;if(typeof re=="function")P=function(){re(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,He=C.port2;C.port1.onmessage=k,P=function(){He.postMessage(null)}}else P=function(){ne(k,0)};function ye(F,ie){T=ne(function(){F(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(F){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var he=S;S=ie;try{return F()}finally{S=he}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=S;S=F;try{return ie()}finally{S=he}},r.unstable_scheduleCallback=function(F,ie,he){var Se=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Se+he:Se):he=Se,F){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=he+Oe,F={id:x++,callback:ie,priorityLevel:F,startTime:he,expirationTime:Oe,sortIndex:-1},he>Se?(F.sortIndex=he,e(y,F),n(g)===null&&F===n(y)&&(G?(ee(T),T=-1):G=!0,ye(de,he-Se))):(F.sortIndex=Oe,e(g,F),$||M||($=!0,ge||(ge=!0,P()))),F},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(F){var ie=S;return function(){var he=S;S=ie;try{return F.apply(this,arguments)}finally{S=he}}}})(qm)),qm}var g_;function b2(){return g_||(g_=1,Bm.exports=_2()),Bm.exports}var Fm={exports:{}},Zt={};var y_;function x2(){if(y_)return Zt;y_=1;var r=Mp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},Zt.flushSync=function(g){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=x,s.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:M}):x==="script"&&s.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);s.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var v_;function E2(){if(v_)return Fm.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=x2(),Fm.exports}var __;function T2(){if(__)return Fl;__=1;var r=b2(),e=Mp(),n=E2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=m;break}if(w===l){_=!0,l=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,l=f;break}if(w===l){_=!0,l=m,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case q:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var ye=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Se=[],Oe=-1;function O(t){return{current:t}}function W(t){0>Oe||(t.current=Se[Oe],Se[Oe]=null,Oe--)}function oe(t,i){Oe++,Se[Oe]=t.current,t.current=i}var ce=O(null),we=O(null),Ie=O(null),Be=O(null);function Dt(t,i){switch(oe(Ie,i),oe(we,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ov(i),t=Mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),oe(ce,t)}function ot(){W(ce),W(we),W(Ie)}function As(t){t.memoizedState!==null&&oe(Be,t);var i=ce.current,a=Mv(i,t.type);i!==a&&(oe(we,t),oe(ce,a))}function va(t){we.current===t&&(W(ce),W(we)),Be.current===t&&(W(Be),Ll._currentValue=he)}var _a,ba;function mi(t){if(_a===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+ba}var Lo=!1;function Ss(t,i){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var I=_.split(`
`),B=w.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===B.length)for(l=I.length-1,f=B.length-1;1<=l&&0<=f&&I[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==B[f]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Uo(t,i){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==i&&i!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return mi("Activity");default:return""}}function zo(t){try{var i="",a=null;do i+=Uo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,Ud=r.unstable_shouldYield,Uc=r.unstable_requestPaint,sn=r.unstable_now,Ns=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,qo=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,zd=r.unstable_LowPriority,zc=r.unstable_IdlePriority,Bc=r.log,qc=r.unstable_setDisableYieldValue,Yn=null,qt=null;function In(t){if(typeof Bc=="function"&&qc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Yn,t)}catch{}}var gt=Math.clz32?Math.clz32:Hc,Fc=Math.log,xa=Math.LN2;function Hc(t){return t>>>=0,t===0?32:31-(Fc(t)/xa|0)|0}var pi=256,Rs=262144,Et=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=gi(l):(_&=w,_!==0?f=gi(_):a||(a=w&~t,a!==0&&(f=gi(a))))):(w=l&~m,w!==0?f=gi(w):_!==0?f=gi(_):a||(a=l&~t,a!==0&&(f=gi(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qd(t,i,a,l,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-gt(a),Z=1<<Y;w[Y]=0,I[Y]=-1;var H=B[Y];if(H!==null)for(B[Y]=null,Y=0;Y<H.length;Y++){var Q=H[Y];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Is(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Is(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Ho(t,i){var a=i&-i;return a=(a&42)!==0?1:js(a),(a&(t.suspendedLanes|i))!==0?0:a}function js(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $c(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:r_(t.type))}function Jn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Wn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,_i="__reactContainer$"+Wn,Ea="__reactEvents$"+Wn,Fd="__reactListeners$"+Wn,Kc="__reactHandles$"+Wn,Qc="__reactResources$"+Wn,bi="__reactMarker$"+Wn;function Ta(t){delete t[Tt],delete t[Pt],delete t[Ea],delete t[Fd],delete t[Kc]}function xi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=qv(t);t!==null;){if(a=t[Tt])return a;t=qv(t)}return i}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Tt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ei(t){var i=t[Qc];return i||(i=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[bi]=!0}var Go=new Set,$o={};function Ti(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for($o[t]=i,t=0;t<i.length;t++)Go.add(i[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function Yc(t){return xt.call(Yo,t)?!0:xt.call(Qo,t)?!1:Ko.test(t)?Yo[t]=!0:(Qo[t]=!0,!1)}function wa(t,i,a){if(Yc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Xo(t,i,""+t[i])}}function ks(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function un(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,f,m,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Jo(t,_,Lt(i)):a!=null?Jo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Lt(w):t.removeAttribute("name")}function Xc(t,i,a,l,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Jo(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Jc(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Wc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Wo(t,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Wo(t,m,i[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var el=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Si=null;function Os(t){var i=jn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));Aa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ks(l)}break e;case"textarea":Jc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var Ra=!1;function Nr(t,i,a){if(Ra)return t(i,a);Ra=!0;try{var l=t(i);return l}finally{if(Ra=!1,(Sr!==null||Si!==null)&&($u(),Sr&&(i=Sr,t=Si,Si=Sr=null,Os(i),t)))for(i=0;i<t.length;i++)Os(t[i])}}function ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Dn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ms=!1}var Ni=null,tl=null,Vs=null;function nl(){if(Vs)return Vs;var t,i=tl,a=i.length,l,f="value"in Ni?Ni.value:Ni.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[m-l];l++);return Vs=f.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ti(){return!1}function Ft(t){function i(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:ti,this.isPropagationStopped=ti,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ft(Ki),Rr=E({},Ki,{view:0,detail:0}),il=Ft(Rr),Cr,Ca,Ci,Ia=E({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Cr=t.screenX-Ci.screenX,Ca=t.screenY-Ci.screenY):Ca=Cr=0,Ci=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),rl=Ft(Ia),Ls=E({},Ia,{dataTransfer:0}),eu=Ft(Ls),tu=E({},Rr,{relatedTarget:0}),Us=Ft(tu),sl=E({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Ft(sl),ja=E({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=Ft(ja),ru=E({},Ki,{data:0}),Ii=Ft(ru),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ou[t])?!!i[t]:!1}function Ir(){return lu}var an=E({},Rr,{key:function(t){if(t.key){var i=su[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=Ft(an),uu=E({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ft(uu),u=E({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),v=Ft(u),b=E({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(b),U=E({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(U),se=E({},Ki,{newState:0,oldState:0}),Re=Ft(se),yt=[9,13,27,32],Ke=Dn&&"CompositionEvent"in window,lt=null;Dn&&"documentMode"in document&&(lt=document.documentMode);var On=Dn&&"TextEvent"in window&&!lt,ji=Dn&&(!Ke||lt&&8<lt&&11>=lt),ni=" ",ii=!1;function zs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function UT(t,i){switch(t){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return t=i.data,t===ni&&ii?null:t;default:return null}}function zT(t,i){if(Da)return t==="compositionend"||!Ke&&zs(t,i)?(t=nl(),Vs=tl=Ni=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!BT[t.type]:i==="textarea"}function $g(t,i,a,l){Sr?Si?Si.push(l):Si=[l]:Sr=l,i=Zu(i,"onChange"),0<i.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var al=null,ol=null;function qT(t){Rv(t,0)}function hu(t){var i=vn(t);if(ks(i))return t}function Kg(t,i){if(t==="change")return i}var Qg=!1;if(Dn){var Hd;if(Dn){var Gd="oninput"in document;if(!Gd){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Gd=typeof Yg.oninput=="function"}Hd=Gd}else Hd=!1;Qg=Hd&&(!document.documentMode||9<document.documentMode)}function Xg(){al&&(al.detachEvent("onpropertychange",Jg),ol=al=null)}function Jg(t){if(t.propertyName==="value"&&hu(ol)){var i=[];$g(i,ol,t,kn(t)),Nr(qT,i)}}function FT(t,i,a){t==="focusin"?(Xg(),al=i,ol=a,al.attachEvent("onpropertychange",Jg)):t==="focusout"&&Xg()}function HT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(ol)}function GT(t,i){if(t==="click")return hu(i)}function $T(t,i){if(t==="input"||t==="change")return hu(i)}function KT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:KT;function ll(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(i,f)||!bn(t[f],i[f]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,i){var a=Wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function ey(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ey(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ty(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function $d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QT=Dn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Kd=null,cl=null,Qd=!1;function ny(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qd||Oa==null||Oa!==Ai(l)||(l=Oa,"selectionStart"in l&&$d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ll(cl,l)||(cl=l,l=Zu(Kd,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ma={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Yd={},iy={};Dn&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function qs(t){if(Yd[t])return Yd[t];if(!Ma[t])return t;var i=Ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in iy)return Yd[t]=i[a];return t}var ry=qs("animationend"),sy=qs("animationiteration"),ay=qs("animationstart"),YT=qs("transitionrun"),XT=qs("transitionstart"),JT=qs("transitioncancel"),oy=qs("transitionend"),ly=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function ri(t,i){ly.set(t,i),Ti(i,[t])}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Va=0,Jd=0;function fu(){for(var t=Va,i=Jd=Va=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&cy(a,f,m)}}function mu(t,i,a,l){Mn[Va++]=t,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,Jd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,i,a,l){return mu(t,i,a,l),pu(t)}function Fs(t,i){return mu(t,null,null,i),pu(t)}function cy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-gt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function pu(t){if(50<jl)throw jl=0,lm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function WT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new WT(t,i,a,l)}function Zd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function uy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gu(t,i,a,l,f,m){var _=0;if(l=t,typeof t=="function")Zd(t)&&(_=1);else if(typeof t=="string")_=i2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=xn(31,a,i,f),t.elementType=R,t.lanes=m,t;case G:return Hs(a.children,f,m,i);case q:_=8,f|=24;break;case ne:return t=xn(12,a,i,f|2),t.elementType=ne,t.lanes=m,t;case de:return t=xn(13,a,i,f),t.elementType=de,t.lanes=m,t;case ge:return t=xn(19,a,i,f),t.elementType=ge,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ee:_=9;break e;case pe:_=11;break e;case T:_=14;break e;case N:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=m,i}function Hs(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function ef(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function hy(t){var i=xn(18,null,null,0);return i.stateNode=t,i}function tf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dy=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:zo(i)},dy.set(t,i),i)}return{value:t,source:i,stack:zo(i)}}var La=[],Ua=0,yu=null,ul=0,Pn=[],Ln=0,jr=null,ki=1,Di="";function Xi(t,i){La[Ua++]=ul,La[Ua++]=yu,yu=t,ul=i}function fy(t,i,a){Pn[Ln++]=ki,Pn[Ln++]=Di,Pn[Ln++]=jr,jr=t;var l=ki;t=Di;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var m=32-gt(i)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ki=1<<32-gt(i)+f|a<<f|l,Di=m+t}else ki=1<<m|a<<f|l,Di=t}function nf(t){t.return!==null&&(Xi(t,1),fy(t,1,0))}function rf(t){for(;t===yu;)yu=La[--Ua],La[Ua]=null,ul=La[--Ua],La[Ua]=null;for(;t===jr;)jr=Pn[--Ln],Pn[Ln]=null,Di=Pn[--Ln],Pn[Ln]=null,ki=Pn[--Ln],Pn[Ln]=null}function my(t,i){Pn[Ln++]=ki,Pn[Ln++]=Di,Pn[Ln++]=jr,ki=i.id,Di=i.overflow,jr=t}var Ht=null,rt=null,ze=!1,kr=null,Un=!1,sf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Vn(i,t)),sf}function py(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Pt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)De(Dl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Xc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||kv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Dr(t,!0)}function gy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function za(t){if(t!==Ht)return!1;if(!ze)return gy(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tm(t.type,t.memoizedProps)),a=!a),a&&rt&&Dr(t),gy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Bv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Bv(t)}else i===27?(i=rt,Kr(t.type)?(t=Rm,Rm=null,rt=t):rt=i):rt=Ht?Bn(t.stateNode.nextSibling):null;return!0}function Gs(){rt=Ht=null,ze=!1}function af(){var t=kr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),kr=null),t}function hl(t){kr===null?kr=[t]:kr.push(t)}var of=O(null),$s=null,Ji=null;function Or(t,i,a){oe(of,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=of.current,W(of)}function lf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function cf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var I=0;I<i.length;I++)if(w.context===i[I]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),lf(m.return,a,t),l||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),lf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ba(t,i,a,l){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;bn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&cf(i,t,a,l),i.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){$s=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return yy($s,t)}function _u(t,i){return $s===null&&Ks(t),yy(t,i)}function yy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var ZT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ew=r.unstable_scheduleCallback,tw=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new ZT,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var fl=null,hf=0,qa=0,Fa=null;function nw(t,i){if(fl===null){var a=fl=[];hf=0,qa=mm(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(vy,vy),i}function vy(){if(--hf===0&&fl!==null){Fa!==null&&(Fa.status="fulfilled");var t=fl;fl=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function iw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _y=F.S;F.S=function(t,i){nv=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&nw(t,i),_y!==null&&_y(t,i)};var Qs=O(null);function df(){var t=Qs.current;return t!==null?t:it.pooledCache}function bu(t,i){i===null?oe(Qs,Qs.current):oe(Qs,i.pool)}function by(){var t=df();return t===null?null:{parent:St._currentValue,pool:t}}var Ha=Error(s(460)),ff=Error(s(474)),xu=Error(s(542)),Eu={then:function(){}};function xy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wy(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wy(t),t}throw Xs=i,Ha}}function Ys(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ha):a}}var Xs=null;function Ty(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function wy(t){if(t===Ha||t===xu)throw Error(s(483))}var Ga=null,ml=0;function Tu(t){var i=ml;return ml+=1,Ga===null&&(Ga=[]),Ey(Ga,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ay(t){function i(V,D){if(t){var z=V.deletions;z===null?(V.deletions=[D],V.flags|=16):z.push(D)}}function a(V,D){if(!t)return null;for(;D!==null;)i(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function f(V,D){return V=Yi(V,D),V.index=0,V.sibling=null,V}function m(V,D,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<D?(V.flags|=67108866,D):z):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function w(V,D,z,J){return D===null||D.tag!==6?(D=ef(z,V.mode,J),D.return=V,D):(D=f(D,z),D.return=V,D)}function I(V,D,z,J){var _e=z.type;return _e===G?Y(V,D,z.props.children,J,z.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===N&&Ys(_e)===D.type)?(D=f(D,z.props),pl(D,z),D.return=V,D):(D=gu(z.type,z.key,z.props,null,V.mode,J),pl(D,z),D.return=V,D)}function B(V,D,z,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=tf(z,V.mode,J),D.return=V,D):(D=f(D,z.children||[]),D.return=V,D)}function Y(V,D,z,J,_e){return D===null||D.tag!==7?(D=Hs(z,V.mode,J,_e),D.return=V,D):(D=f(D,z),D.return=V,D)}function Z(V,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,V.mode,z),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return z=gu(D.type,D.key,D.props,null,V.mode,z),pl(z,D),z.return=V,z;case $:return D=tf(D,V.mode,z),D.return=V,D;case N:return D=Ys(D),Z(V,D,z)}if(ye(D)||P(D))return D=Hs(D,V.mode,z,null),D.return=V,D;if(typeof D.then=="function")return Z(V,Tu(D),z);if(D.$$typeof===re)return Z(V,_u(V,D),z);wu(V,D)}return null}function H(V,D,z,J){var _e=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:w(V,D,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===_e?I(V,D,z,J):null;case $:return z.key===_e?B(V,D,z,J):null;case N:return z=Ys(z),H(V,D,z,J)}if(ye(z)||P(z))return _e!==null?null:Y(V,D,z,J,null);if(typeof z.then=="function")return H(V,D,Tu(z),J);if(z.$$typeof===re)return H(V,D,_u(V,z),J);wu(V,z)}return null}function Q(V,D,z,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(z)||null,w(D,V,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return V=V.get(J.key===null?z:J.key)||null,I(D,V,J,_e);case $:return V=V.get(J.key===null?z:J.key)||null,B(D,V,J,_e);case N:return J=Ys(J),Q(V,D,z,J,_e)}if(ye(J)||P(J))return V=V.get(z)||null,Y(D,V,J,_e,null);if(typeof J.then=="function")return Q(V,D,z,Tu(J),_e);if(J.$$typeof===re)return Q(V,D,z,_u(D,J),_e);wu(D,J)}return null}function ue(V,D,z,J){for(var _e=null,Ge=null,fe=D,je=D=0,Ve=null;fe!==null&&je<z.length;je++){fe.index>je?(Ve=fe,fe=null):Ve=fe.sibling;var $e=H(V,fe,z[je],J);if($e===null){fe===null&&(fe=Ve);break}t&&fe&&$e.alternate===null&&i(V,fe),D=m($e,D,je),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e,fe=Ve}if(je===z.length)return a(V,fe),ze&&Xi(V,je),_e;if(fe===null){for(;je<z.length;je++)fe=Z(V,z[je],J),fe!==null&&(D=m(fe,D,je),Ge===null?_e=fe:Ge.sibling=fe,Ge=fe);return ze&&Xi(V,je),_e}for(fe=l(fe);je<z.length;je++)Ve=Q(fe,V,je,z[je],J),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?je:Ve.key),D=m(Ve,D,je),Ge===null?_e=Ve:Ge.sibling=Ve,Ge=Ve);return t&&fe.forEach(function(Wr){return i(V,Wr)}),ze&&Xi(V,je),_e}function xe(V,D,z,J){if(z==null)throw Error(s(151));for(var _e=null,Ge=null,fe=D,je=D=0,Ve=null,$e=z.next();fe!==null&&!$e.done;je++,$e=z.next()){fe.index>je?(Ve=fe,fe=null):Ve=fe.sibling;var Wr=H(V,fe,$e.value,J);if(Wr===null){fe===null&&(fe=Ve);break}t&&fe&&Wr.alternate===null&&i(V,fe),D=m(Wr,D,je),Ge===null?_e=Wr:Ge.sibling=Wr,Ge=Wr,fe=Ve}if($e.done)return a(V,fe),ze&&Xi(V,je),_e;if(fe===null){for(;!$e.done;je++,$e=z.next())$e=Z(V,$e.value,J),$e!==null&&(D=m($e,D,je),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e);return ze&&Xi(V,je),_e}for(fe=l(fe);!$e.done;je++,$e=z.next())$e=Q(fe,V,je,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&fe.delete($e.key===null?je:$e.key),D=m($e,D,je),Ge===null?_e=$e:Ge.sibling=$e,Ge=$e);return t&&fe.forEach(function(m2){return i(V,m2)}),ze&&Xi(V,je),_e}function tt(V,D,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var _e=z.key;D!==null;){if(D.key===_e){if(_e=z.type,_e===G){if(D.tag===7){a(V,D.sibling),J=f(D,z.props.children),J.return=V,V=J;break e}}else if(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===N&&Ys(_e)===D.type){a(V,D.sibling),J=f(D,z.props),pl(J,z),J.return=V,V=J;break e}a(V,D);break}else i(V,D);D=D.sibling}z.type===G?(J=Hs(z.props.children,V.mode,J,z.key),J.return=V,V=J):(J=gu(z.type,z.key,z.props,null,V.mode,J),pl(J,z),J.return=V,V=J)}return _(V);case $:e:{for(_e=z.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(V,D.sibling),J=f(D,z.children||[]),J.return=V,V=J;break e}else{a(V,D);break}else i(V,D);D=D.sibling}J=tf(z,V.mode,J),J.return=V,V=J}return _(V);case N:return z=Ys(z),tt(V,D,z,J)}if(ye(z))return ue(V,D,z,J);if(P(z)){if(_e=P(z),typeof _e!="function")throw Error(s(150));return z=_e.call(z),xe(V,D,z,J)}if(typeof z.then=="function")return tt(V,D,Tu(z),J);if(z.$$typeof===re)return tt(V,D,_u(V,z),J);wu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(V,D.sibling),J=f(D,z),J.return=V,V=J):(a(V,D),J=ef(z,V.mode,J),J.return=V,V=J),_(V)):a(V,D)}return function(V,D,z,J){try{ml=0;var _e=tt(V,D,z,J);return Ga=null,_e}catch(fe){if(fe===Ha||fe===xu)throw fe;var Ge=xn(29,fe,null,V.mode);return Ge.lanes=J,Ge.return=V,Ge}}}var Js=Ay(!0),Sy=Ay(!1),Mr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=pu(t),cy(t,null,a),i}return mu(t,l,i,a),pu(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yf=!1;function yl(){if(yf){var t=Fa;if(t!==null)throw t}}function vl(t,i,a,l){yf=!1;var f=t.updateQueue;Mr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,B=I.next;I.next=null,_===null?m=B:_.next=B,_=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==_&&(w===null?Y.firstBaseUpdate=B:w.next=B,Y.lastBaseUpdate=I))}if(m!==null){var Z=f.baseState;_=0,Y=B=I=null,w=m;do{var H=w.lane&-536870913,Q=H!==w.lane;if(Q?(Me&H)===H:(l&H)===H){H!==0&&H===qa&&(yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ue=t,xe=w;H=i;var tt=a;switch(xe.tag){case 1:if(ue=xe.payload,typeof ue=="function"){Z=ue.call(tt,Z,H);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=xe.payload,H=typeof ue=="function"?ue.call(tt,Z,H):ue,H==null)break e;Z=E({},Z,H);break e;case 2:Mr=!0}}H=w.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(B=Y=Q,I=Z):Y=Y.next=Q,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(I=Z),f.baseState=I,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=Z}}function Ny(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],i)}var $a=O(null),Au=O(0);function Cy(t,i){t=or,oe(Au,t),oe($a,i),or=t|i.baseLanes}function vf(){oe(Au,or),oe($a,$a.current)}function _f(){or=Au.current,W($a),W(Au)}var En=O(null),zn=null;function Lr(t){var i=t.alternate;oe(vt,vt.current&1),oe(En,t),zn===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(zn=t)}function bf(t){oe(vt,vt.current),oe(En,t),zn===null&&(zn=t)}function Iy(t){t.tag===22?(oe(vt,vt.current),oe(En,t),zn===null&&(zn=t)):Ur()}function Ur(){oe(vt,vt.current),oe(En,En.current)}function Tn(t){W(En),zn===t&&(zn=null),W(vt)}var vt=O(0);function Su(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||Nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ce=null,Ze=null,Nt=null,Nu=!1,Ka=!1,Ws=!1,Ru=0,_l=0,Qa=null,rw=0;function ft(){throw Error(s(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function Ef(t,i,a,l,f,m){return Zi=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?f0:Pf,Ws=!1,m=a(l,f),Ws=!1,Ka&&(m=ky(i,a,l,f)),jy(t),m}function jy(t){F.H=El;var i=Ze!==null&&Ze.next!==null;if(Zi=0,Nt=Ze=Ce=null,Nu=!1,_l=0,Qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&vu(t)&&(Rt=!0))}function ky(t,i,a,l){Ce=t;var f=0;do{if(Ka&&(Qa=null),_l=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,Nt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=m0,m=i(a,l)}while(Ka);return m}function sw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Tf(){var t=Ru!==0;return Ru=0,t}function wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Af(t){if(Nu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nu=!1}Zi=0,Nt=Ze=Ce=null,Ka=!1,_l=Ru=0,Qa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function _t(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Nt===null?Ce.memoizedState:Nt.next;if(i!==null)Nt=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=_l;return _l+=1,Qa===null&&(Qa=[]),t=Ey(Qa,t,i),i=Ce,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?f0:Pf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===re)return Gt(t)}throw Error(s(438,String(t)))}function Sf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function er(t,i){return typeof i=="function"?i(t):i}function ju(t){var i=_t();return Nf(i,Ze,t)}function Nf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var w=_=null,I=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Me&Z)===Z:(Zi&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===qa&&(Y=!0);else if((Zi&H)===H){B=B.next,H===qa&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(w=I=Z,_=m):I=I.next=Z,Ce.lanes|=H,qr|=H;Z=B.action,Ws&&a(m,Z),m=B.hasEagerState?B.eagerState:a(m,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(w=I=H,_=m):I=I.next=H,Ce.lanes|=Z,qr|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?_=m:I.next=w,!bn(m,t.memoizedState)&&(Rt=!0,Y&&(a=Fa,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);bn(m,i.memoizedState)||(Rt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Dy(t,i,a){var l=Ce,f=_t(),m=ze;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!bn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,jf(Vy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},My.bind(null,l,f,a,i),null),it===null)throw Error(s(349));m||(Zi&127)!==0||Oy(l,i,a)}return a}function Oy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Cu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function My(t,i,a,l){i.value=a,i.getSnapshot=l,Py(i)&&Ly(t)}function Vy(t,i,a){return a(function(){Py(i)&&Ly(t)})}function Py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function Ly(t){var i=Fs(t,2);i!==null&&gn(i,t,2)}function Cf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ws){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function Uy(t,i,a,l){return t.baseState=a,Nf(t,Ze,typeof l=="function"?l:er)}function aw(t,i,a,l,f){if(Ou(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,zy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function zy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var m=F.T,_={};F.T=_;try{var w=a(f,l),I=F.S;I!==null&&I(_,w),By(t,i,w)}catch(B){If(t,i,B)}finally{m!==null&&_.types!==null&&(m.types=_.types),F.T=m}}else try{m=a(f,l),By(t,i,m)}catch(B){If(t,i,B)}}function By(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qy(t,i,l)},function(l){return If(t,i,l)}):qy(t,i,a)}function qy(t,i,a){i.status="fulfilled",i.value=a,Fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,zy(t,a)))}function If(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fy(i),i=i.next;while(i!==l)}t.action=null}function Fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hy(t,i){return i}function Gy(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ce;if(ze){if(rt){t:{for(var f=rt,m=Un;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Bn(f.nextSibling),l=f.data==="F!";break e}}Dr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:i},a.queue=l,a=u0.bind(null,Ce,l),l.dispatch=a,l=Cf(!1),m=Vf.bind(null,Ce,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=aw.bind(null,Ce,f,m,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function $y(t){var i=_t();return Ky(i,Ze,t)}function Ky(t,i,a){if(i=Nf(t,i,Hy)[0],t=ju(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(_){throw _===Ha?xu:_}else l=i;i=_t();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ya(9,{destroy:void 0},ow.bind(null,f,a),null)),[l,m,t]}function ow(t,i){t.action=i}function Qy(t){var i=_t(),a=Ze;if(a!==null)return Ky(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Cu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Yy(){return _t().memoizedState}function ku(t,i,a,l){var f=on();Ce.flags|=t,f.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function Du(t,i,a,l){var f=_t();l=l===void 0?null:l;var m=f.memoizedState.inst;Ze!==null&&l!==null&&xf(l,Ze.memoizedState.deps)?f.memoizedState=Ya(i,m,a,l):(Ce.flags|=t,f.memoizedState=Ya(1|i,m,a,l))}function Xy(t,i){ku(8390656,8,t,i)}function jf(t,i){Du(2048,8,t,i)}function lw(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Cu(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Jy(t){var i=_t().memoizedState;return lw({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Wy(t,i){return Du(4,2,t,i)}function Zy(t,i){return Du(4,4,t,i)}function e0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function t0(t,i,a){a=a!=null?a.concat([t]):null,Du(4,4,e0.bind(null,i,t),a)}function kf(){}function n0(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function i0(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),Ws){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Df(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=rv(),Ce.lanes|=t,qr|=t,a)}function r0(t,i,a,l){return bn(a,i)?a:$a.current!==null?(t=Df(t,a,l),bn(t,i)||(Rt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=rv(),Ce.lanes|=t,qr|=t,i)}function s0(t,i,a,l,f){var m=ie.p;ie.p=m!==0&&8>m?m:8;var _=F.T,w={};F.T=w,Vf(t,!1,i,a);try{var I=f(),B=F.S;if(B!==null&&B(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=iw(I,l);xl(t,i,Y,Sn(t))}else xl(t,i,l,Sn(t))}catch(Z){xl(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{ie.p=m,_!==null&&w.types!==null&&(_.types=w.types),F.T=_}}function cw(){}function Of(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=a0(t).queue;s0(t,f,i,he,a===null?cw:function(){return o0(t),a(l)})}function a0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function o0(t){var i=a0(t);i.next===null&&(i=t.alternate.memoizedState),xl(t,i.next.queue,{},Sn())}function Mf(){return Gt(Ll)}function l0(){return _t().memoizedState}function c0(){return _t().memoizedState}function uw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Vr(a);var l=Pr(i,t,a);l!==null&&(gn(l,i,a),gl(l,i,a)),i={cache:uf()},t.payload=i;return}i=i.return}}function hw(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)?h0(i,a):(a=Wd(t,i,a,l),a!==null&&(gn(a,t,l),d0(a,i,l)))}function u0(t,i,a){var l=Sn();xl(t,i,a,l)}function xl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))h0(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,bn(w,_))return mu(t,i,f,0),it===null&&fu(),!1}catch{}if(a=Wd(t,i,f,l),a!==null)return gn(a,t,l),d0(a,i,l),!0}return!1}function Vf(t,i,a,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(i)throw Error(s(479))}else i=Wd(t,a,l,2),i!==null&&gn(i,t,2)}function Ou(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function h0(t,i){Ka=Nu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function d0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var El={readContext:Gt,use:Iu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};El.useEffectEvent=ft;var f0={readContext:Gt,use:Iu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ku(4194308,4,e0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ku(4194308,4,t,i)},useInsertionEffect:function(t,i){ku(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ws){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(Ws){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=hw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,a=u0.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,i){var a=on();return Df(a,t,i)},useTransition:function(){var t=Cf(!1);return t=s0.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Me&127)!==0||Oy(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Xy(Vy.bind(null,l,m,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},My.bind(null,l,m,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(ze){var a=Di,l=ki;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ru++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=rw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Mf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Sf,useCacheRefresh:function(){return on().memoizedState=uw.bind(null,Ce)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:Gt,use:Iu,useCallback:n0,useContext:Gt,useEffect:jf,useImperativeHandle:t0,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:i0,useReducer:ju,useRef:Yy,useState:function(){return ju(er)},useDebugValue:kf,useDeferredValue:function(t,i){var a=_t();return r0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ju(er)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Dy,useId:l0,useHostTransitionStatus:Mf,useFormState:$y,useActionState:$y,useOptimistic:function(t,i){var a=_t();return Uy(a,Ze,t,i)},useMemoCache:Sf,useCacheRefresh:c0};Pf.useEffectEvent=Jy;var m0={readContext:Gt,use:Iu,useCallback:n0,useContext:Gt,useEffect:jf,useImperativeHandle:t0,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:i0,useReducer:Rf,useRef:Yy,useState:function(){return Rf(er)},useDebugValue:kf,useDeferredValue:function(t,i){var a=_t();return Ze===null?Df(a,t,i):r0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Rf(er)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Dy,useId:l0,useHostTransitionStatus:Mf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,i){var a=_t();return Ze!==null?Uy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:c0};m0.useEffectEvent=Jy;function Lf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.payload=i,a!=null&&(f.callback=a),i=Pr(t,f,l),i!==null&&(gn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Pr(t,f,l),i!==null&&(gn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=Pr(t,l,a),i!==null&&(gn(i,t,a),gl(i,t,a))}};function p0(t,i,a,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(f,m):!0}function g0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Uf.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function y0(t){du(t)}function v0(t){console.error(t)}function _0(t){du(t)}function Mu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function b0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zf(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,i)},a}function x0(t){return t=Vr(t),t.tag=3,t}function E0(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){b0(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){b0(i,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function dw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ba(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Ku():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Eu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hm(t,l,f)),!1;case 22:return a.flags|=65536,l===Eu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hm(t,l,f)),!1}throw Error(s(435,a.tag))}return hm(t,l,f),Ku(),!1}if(ze)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==sf&&(t=Error(s(422),{cause:l}),hl(Vn(t,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),hl(Vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=zf(t.stateNode,l,f),gf(t,f),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:l});if(m=Vn(m,a),Il===null?Il=[m]:Il.push(m),mt!==4&&(mt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fr===null||!Fr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=x0(f),E0(f,t,a,l),gf(a,f),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),Rt=!1;function $t(t,i,a,l){i.child=t===null?Sy(i,null,a,l):Js(i,t.child,a,l)}function T0(t,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ks(i),l=Ef(t,i,a,_,m,f),w=Tf(),t!==null&&!Rt?(wf(t,i,f),tr(t,i,f)):(ze&&w&&nf(i),i.flags|=1,$t(t,i,l,f),i.child)}function w0(t,i,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Zd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,A0(t,i,m,l,f)):(t=gu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Yf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&t.ref===i.ref)return tr(t,i,f)}return i.flags|=1,t=Yi(m,l),t.ref=i.ref,t.return=i,i.child=t}function A0(t,i,a,l,f){if(t!==null){var m=t.memoizedProps;if(ll(m,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=m,Yf(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,tr(t,i,f)}return qf(t,i,a,l,f)}function S0(t,i,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,i.child=null;return N0(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&bu(i,m!==null?m.cachePool:null),m!==null?Cy(i,m):vf(),Iy(i);else return l=i.lanes=536870912,N0(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(bu(i,m.cachePool),Cy(i,m),Ur(),i.memoizedState=null):(t!==null&&bu(i,null),vf(),Ur());return $t(t,i,f,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function N0(t,i,a,l,f){var m=df();return m=m===null?null:{parent:St._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&bu(i,null),vf(),Iy(i),t!==null&&Ba(t,i,l,!0),i.childLanes=f,null}function Vu(t,i){return i=Lu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function R0(t,i,a){return Js(i,t.child,null,a),t=Vu(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function fw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Vu(i,l),i.lanes=536870912,Tl(null,t);if(bf(i),(t=rt)?(t=zv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jr!==null?{id:ki,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return Vu(i,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(bf(i),f)if(i.flags&256)i.flags&=-257,i=R0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ba(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=it,l!==null&&(_=Ho(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Fs(t,_),gn(l,t,_),Bf;Ku(),i=R0(t,i,a)}else t=m.treeContext,rt=Bn(_.nextSibling),Ht=i,ze=!0,kr=null,Un=!1,t!==null&&my(i,t),i=Vu(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Pu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qf(t,i,a,l,f){return Ks(i),a=Ef(t,i,a,l,void 0,f),l=Tf(),t!==null&&!Rt?(wf(t,i,f),tr(t,i,f)):(ze&&l&&nf(i),i.flags|=1,$t(t,i,a,f),i.child)}function C0(t,i,a,l,f,m){return Ks(i),i.updateQueue=null,a=ky(i,l,a,f),jy(t),l=Tf(),t!==null&&!Rt?(wf(t,i,m),tr(t,i,m)):(ze&&l&&nf(i),i.flags|=1,$t(t,i,a,m),i.child)}function I0(t,i,a,l,f){if(Ks(i),i.stateNode===null){var m=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Gt(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Uf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},mf(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Gt(_):Pa,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Uf.enqueueReplaceState(m,m.state,null),vl(i,l,m,f),yl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,I=Zs(a,w);m.props=I;var B=m.context,Y=a.contextType;_=Pa,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==_)&&g0(i,m,l,_),Mr=!1;var H=i.memoizedState;m.state=H,vl(i,l,m,f),yl(),B=i.memoizedState,w||H!==B||Mr?(typeof Z=="function"&&(Lf(i,a,Z,l),B=i.memoizedState),(I=Mr||p0(i,a,I,l,H,B,_))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),m.props=l,m.state=B,m.context=_,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,pf(t,i),_=i.memoizedProps,Y=Zs(a,_),m.props=Y,Z=i.pendingProps,H=m.context,B=a.contextType,I=Pa,typeof B=="object"&&B!==null&&(I=Gt(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==Z||H!==I)&&g0(i,m,l,I),Mr=!1,H=i.memoizedState,m.state=H,vl(i,l,m,f),yl();var Q=i.memoizedState;_!==Z||H!==Q||Mr||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof w=="function"&&(Lf(i,a,w,l),Q=i.memoizedState),(Y=Mr||p0(i,a,Y,l,H,Q,I)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=I,l=Y):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Pu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Js(i,t.child,null,f),i.child=Js(i,null,a,f)):$t(t,i,a,f),i.memoizedState=m.state,t=i.child):t=tr(t,i,f),t}function j0(t,i,a,l){return Gs(),i.flags|=256,$t(t,i,a,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:by()}}function Gf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function k0(t,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?Lr(i):Ur(),(t=rt)?(t=zv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jr!==null?{id:ki,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Dr(i);return Nm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Ur(),f=i.mode,w=Lu({mode:"hidden",children:w},f),l=Hs(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,_,a),i.memoizedState=Ff,Tl(null,l)):(Lr(i),$f(i,w))}var I=t.memoizedState;if(I!==null&&(w=I.dehydrated,w!==null)){if(m)i.flags&256?(Lr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),w=l.fallback,f=i.mode,l=Lu({mode:"visible",children:l.children},f),w=Hs(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Js(i,t.child,null,a),l=i.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,_,a),i.memoizedState=Ff,i=Tl(null,l));else if(Lr(i),Nm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=Kf(t,i,a)}else if(Rt||Ba(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=it,_!==null&&(l=Ho(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Fs(t,l),gn(_,t,l),Bf;Sm(w)||Ku(),i=Kf(t,i,a)}else Sm(w)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,rt=Bn(w.nextSibling),Ht=i,ze=!0,kr=null,Un=!1,t!==null&&my(i,t),i=$f(i,l.children),i.flags|=4096);return i}return f?(Ur(),w=l.fallback,f=i.mode,I=t.child,B=I.sibling,l=Yi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?w=Yi(B,w):(w=Hs(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,Tl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Hf(a):(f=w.cachePool,f!==null?(I=St._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=by(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Gf(t,_,a),i.memoizedState=Ff,Tl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=Lu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lu(t,i){return t=xn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return Js(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function D0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),lf(t.return,i,a)}function Qf(t,i,a,l,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function O0(t,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,oe(vt,_),$t(t,i,l,a),l=ze?ul:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,a,i);else if(t.tag===19)D0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Qf(i,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Su(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Qf(i,!0,a,null,m,l);break;case"together":Qf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function tr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function mw(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Or(i,St,t.memoizedState.cache),Gs();break;case 27:case 5:As(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?k0(t,i,a):(Lr(i),t=tr(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ba(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return O0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return i.lanes=0,S0(t,i,a,i.pendingProps);case 24:Or(i,St,t.memoizedState.cache)}return tr(t,i,a)}function M0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Yf(t,a)&&(i.flags&128)===0)return Rt=!1,mw(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&fy(i,ul,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ys(i.elementType),i.type=t,typeof t=="function")Zd(t)?(l=Zs(t,l),i.tag=1,i=I0(null,i,t,l,a)):(i.tag=0,i=qf(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===pe){i.tag=11,i=T0(null,i,t,l,a);break e}else if(f===T){i.tag=14,i=w0(null,i,t,l,a);break e}}throw i=He(t)||t,Error(s(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Zs(l,i.pendingProps),I0(t,i,l,f,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,pf(t,i),vl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,St,l),l!==m.cache&&cf(i,[St],a,!0),yl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=j0(t,i,l,a);break e}else if(l!==f){f=Vn(Error(s(424)),i),hl(f),i=j0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Bn(t.firstChild),Ht=i,ze=!0,kr=null,Un=!0,a=Sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),l===f){i=tr(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return Pu(t,i),t===null?(a=$v(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=eh(Ie.current).createElement(a),l[Tt]=i,l[Pt]=t,Kt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=$v(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return As(i),t===null&&ze&&(l=i.stateNode=Fv(i.type,i.pendingProps,Ie.current),Ht=i,Un=!0,f=rt,Kr(i.type)?(Rm=f,rt=Bn(l.firstChild)):rt=f),$t(t,i,i.pendingProps.children,a),Pu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=l=rt)&&(l=Hw(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ht=i,rt=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||Dr(i)),As(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,Tm(f,m)?l=null:_!==null&&Tm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Ef(t,i,sw,null,null,a),Ll._currentValue=f),Pu(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=rt)&&(a=Gw(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ht=i,rt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return k0(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Js(i,null,l,a):$t(t,i,l,a),i.child;case 11:return T0(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ks(i),f=Gt(f),l=l(f),i.flags|=1,$t(t,i,l,a),i.child;case 14:return w0(t,i,i.type,i.pendingProps,a);case 15:return A0(t,i,i.type,i.pendingProps,a);case 19:return O0(t,i,a);case 31:return fw(t,i,a);case 22:return S0(t,i,a,i.pendingProps);case 24:return Ks(i),l=Gt(St),t===null?(f=df(),f===null&&(f=it,m=uf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},mf(i),Or(i,St,f)):((t.lanes&a)!==0&&(pf(t,i),vl(i,null,null,a),yl()),f=t.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Or(i,St,l)):(l=m.cache,Or(i,St,l),l!==f.cache&&cf(i,[St],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(t){t.flags|=4}function Xf(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(lv())t.flags|=8192;else throw Xs=Eu,ff}else t.flags&=-16777217}function V0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jv(i))if(lv())t.flags|=8192;else throw Xs=Eu,ff}function Uu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Gc():536870912,t.lanes|=i,Za|=i)}function wl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pw(t,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),st(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(nr(i),m!==null?(st(i),V0(i,m)):(st(i),Xf(i,f,null,l,a))):m?m!==t.memoizedState?(nr(i),st(i),V0(i,m)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(i),st(i),Xf(i,f,t,l,a)),null;case 27:if(va(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,za(i)?py(i):(t=Fv(f,l,a),i.stateNode=t,nr(i))}return st(i),null;case 5:if(va(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(m=ce.current,za(i))py(i);else{var _=eh(Ie.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[Tt]=i,m[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Kt(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(i)}}return st(i),Xf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||kv(t.nodeValue,a)),t||Dr(i,!0)}else t=eh(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Uu(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&vm(i.stateNode.containerInfo),st(i),null;case 10:return Wi(i.type),st(i),null;case 19:if(W(vt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,m=l.rendering,m===null)if(f)wl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Su(t),m!==null){for(i.flags|=128,wl(l,!1),t=m.updateQueue,i.updateQueue=t,Uu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)uy(a,t),a=a.sibling;return oe(vt,vt.current&1|2),ze&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>Hu&&(i.flags|=128,f=!0,wl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Su(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Uu(i,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ze)return st(i),null}else 2*sn()-l.renderingStartTime>Hu&&a!==536870912&&(i.flags|=128,f=!0,wl(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,oe(vt,f?a&1|2:a&1),ze&&Xi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Tn(i),_f(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Uu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(St),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gw(t,i){switch(rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(St),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return va(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(vt),null;case 4:return ot(),null;case 10:return Wi(i.type),null;case 22:case 23:return Tn(i),_f(),t!==null&&W(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(St),null;case 25:return null;default:return null}}function P0(t,i){switch(rf(i),i.tag){case 3:Wi(St),ot();break;case 26:case 27:case 5:va(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:W(vt);break;case 10:Wi(i.type);break;case 22:case 23:Tn(i),_f(),t!==null&&W(Qs);break;case 24:Wi(St)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(i,i.return,w)}}function zr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var I=a,B=w;try{B()}catch(Y){Je(f,I,Y)}}}l=l.next}while(l!==m)}}catch(Y){Je(i,i.return,Y)}}function L0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){Je(t,t.return,l)}}}function U0(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,i,f)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function z0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Jf(t,i,a){try{var l=t.stateNode;Lw(l,t.type,a,i),l[Pt]=i}catch(f){Je(t,t.return,f)}}function B0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Zf(t,i,a),t=t.sibling;t!==null;)Zf(t,i,a),t=t.sibling}function zu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zu(t,i,a),t=t.sibling;t!==null;)zu(t,i,a),t=t.sibling}function q0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[Tt]=t,i[Pt]=a}catch(m){Je(t,t.return,m)}}var ir=!1,Ct=!1,em=!1,F0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function yw(t,i){if(t=t.containerInfo,xm=oh,t=ty(t),$d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,I=-1,B=0,Y=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(w=_+f),Z!==m||l!==0&&Z.nodeType!==3||(I=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++B===f&&(w=_),H===m&&++Y===l&&(I=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:t,selectionRange:a},oh=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ue=Zs(a.type,f);t=l.getSnapshotBeforeUpdate(ue,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Je(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function H0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&Al(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var f=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&L0(a),l&512&&Sl(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ry(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&q0(a);case 26:case 5:sr(t,a),i===null&&l&4&&z0(a),l&512&&Sl(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&K0(t,a);break;case 13:sr(t,a),l&4&&Q0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sw.bind(null,a),$w(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){i=i!==null&&i.memoizedState!==null||Ct,f=ir;var m=Ct;ir=l,(Ct=i)&&!m?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=f,Ct=m}break;case 30:break;default:sr(t,a)}}function G0(t){var i=t.alternate;i!==null&&(t.alternate=null,G0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function rr(t,i,a){for(a=a.child;a!==null;)$0(t,i,a),a=a.sibling}function $0(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ct||Oi(a,i),rr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Oi(a,i);var l=ct,f=dn;Kr(a.type)&&(ct=a.stateNode,dn=!1),rr(t,i,a),Ml(a.stateNode),ct=l,dn=f;break;case 5:Ct||Oi(a,i);case 6:if(l=ct,f=dn,ct=null,rr(t,i,a),ct=l,dn=f,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{ct.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:ct!==null&&(dn?(t=ct,Lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):Lv(ct,a.stateNode));break;case 4:l=ct,f=dn,ct=a.stateNode.containerInfo,dn=!0,rr(t,i,a),ct=l,dn=f;break;case 0:case 11:case 14:case 15:zr(2,a,i),Ct||zr(4,a,i),rr(t,i,a);break;case 1:Ct||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&U0(a,i,l)),rr(t,i,a);break;case 21:rr(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,rr(t,i,a),Ct=l;break;default:rr(t,i,a)}}function K0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){Je(i,i.return,a)}}}function Q0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){Je(i,i.return,a)}}function vw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new F0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new F0),i;default:throw Error(s(435,t.tag))}}function Bu(t,i){var a=vw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Nw.bind(null,t,l);l.then(f,f)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Kr(w.type)){ct=w.stateNode,dn=!1;break e}break;case 5:ct=w.stateNode,dn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));$0(m,_,f),ct=null,dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Y0(i,t),i=i.sibling}var si=null;function Y0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),mn(t),l&4&&(zr(3,t,t.return),Al(3,t),zr(5,t,t.return));break;case 1:fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[bi]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,l,a),m[Tt]=t,wt(m),l=m;break e;case"link":var _=Yv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;case"meta":if(_=Yv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Tt]=t,wt(m),l=m}t.stateNode=l}else Xv(f,t.type,t.stateNode);else t.stateNode=Qv(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Xv(f,t.type,t.stateNode):Qv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(ue){Je(t,t.return,ue)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Jf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(fn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Je(t,t.return,ue)}}break;case 3:if(ih=null,f=si,si=th(i.containerInfo),fn(i,t),si=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(i.containerInfo)}catch(ue){Je(t,t.return,ue)}em&&(em=!1,X0(t));break;case 4:l=si,si=th(t.stateNode.containerInfo),fn(i,t),mn(t),si=l;break;case 12:fn(i,t),mn(t);break;case 31:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 13:fn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ir,Y=Ct;if(ir=B||f,Ct=Y||I,fn(i,t),Ct=Y,ir=B,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||ir||Ct||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ue){Je(I,I.return,ue)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ue){Je(I,I.return,ue)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;f?Uv(Q,!0):Uv(I.stateNode,!1)}catch(ue){Je(I,I.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bu(t,a))));break;case 19:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 30:break;case 21:break;default:fn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(B0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Wf(t);zu(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var w=Wf(t);zu(t,w,_);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Wf(t);Zf(t,B,I);break;default:throw Error(s(161))}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function X0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;X0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)H0(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),ea(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&U0(i,i.return,a),ea(i);break;case 27:Ml(i.stateNode);case 26:case 5:Oi(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:ar(f,m,a),Al(4,m);break;case 1:if(ar(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ny(I[f],w)}catch(B){Je(l,l.return,B)}}a&&_&64&&L0(m),Sl(m,m.return);break;case 27:q0(m);case 26:case 5:ar(f,m,a),a&&l===null&&_&4&&z0(m),Sl(m,m.return);break;case 12:ar(f,m,a);break;case 31:ar(f,m,a),a&&_&4&&K0(f,m);break;case 13:ar(f,m,a),a&&_&4&&Q0(f,m);break;case 22:m.memoizedState===null&&ar(f,m,a),Sl(m,m.return);break;case 30:break;default:ar(f,m,a)}i=i.sibling}}function tm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function nm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J0(t,i,a,l),i=i.sibling}function J0(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),f&2048&&Al(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){ai(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ai(t,i,a,l);break;case 31:ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?ai(t,i,a,l):Nl(t,i):m._visibility&2?ai(t,i,a,l):(m._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,i);break;case 24:ai(t,i,a,l),f&2048&&nm(i.alternate,i);break;default:ai(t,i,a,l)}}function Xa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,w=a,I=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Xa(m,_,w,I,f),Al(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Xa(m,_,w,I,f):Nl(m,_):(Y._visibility|=2,Xa(m,_,w,I,f)),f&&B&2048&&tm(_.alternate,_);break;case 24:Xa(m,_,w,I,f),f&&B&2048&&nm(_.alternate,_);break;default:Xa(m,_,w,I,f)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&tm(l.alternate,l);break;case 24:Nl(a,l),f&2048&&nm(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Rl=8192;function Ja(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)W0(t,i,a),t=t.sibling}function W0(t,i,a){switch(t.tag){case 26:Ja(t,i,a),t.flags&Rl&&t.memoizedState!==null&&r2(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,a);break;case 3:case 4:var l=si;si=th(t.stateNode.containerInfo),Ja(t,i,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Ja(t,i,a),Rl=l):Ja(t,i,a));break;default:Ja(t,i,a)}}function Z0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,tv(l,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ev(t),t=t.sibling}function ev(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,qu(t)):Cl(t);break;default:Cl(t)}}function qu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,tv(l,t)}Z0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),qu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,qu(i));break;default:qu(i)}t=t.sibling}}function tv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(G0(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var _w={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},bw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,ke=null,Me=0,Xe=0,wn=null,Br=!1,Wa=!1,im=!1,or=0,mt=0,qr=0,ta=0,rm=0,An=0,Za=0,Il=null,pn=null,sm=!1,Fu=0,nv=0,Hu=1/0,Gu=null,Fr=null,Mt=0,Hr=null,eo=null,lr=0,am=0,om=null,iv=null,jl=0,lm=null;function Sn(){return(Qe&2)!==0&&Me!==0?Me&-Me:F.T!==null?mm():$c()}function rv(){if(An===0)if((Me&536870912)===0||ze){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function gn(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(to(t,0),Gr(t,Me,An,!1)),Cs(t,a),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(ta|=a),mt===4&&Gr(t,Me,An,!1)),Mi(t))}function sv(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),f=l?Tw(t,i):um(t,i,!0),m=l;do{if(f===0){Wa&&!l&&Gr(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!xw(a)){f=um(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=Il;var I=w.current.memoizedState.isDehydrated;if(I&&(to(w,_).flags|=256),_=um(w,_,!1),_!==2){if(im&&!I){w.errorRecoveryDisabledLanes|=m,ta|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){to(t,0),Gr(t,i,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,An,!Br);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Fu+300-sn(),10<f)){if(Gr(l,i,An,!Br),yi(l,0,!0)!==0)break e;lr=i,l.timeoutHandle=Vv(av.bind(null,l,a,pn,Gu,sm,i,An,ta,Za,Br,m,"Throttled",-0,0),f);break e}av(l,a,pn,Gu,sm,i,An,ta,Za,Br,m,null,-0,0)}}break}while(!0);Mi(t)}function av(t,i,a,l,f,m,_,w,I,B,Y,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},W0(i,m,Z);var ue=(m&62914560)===m?Fu-sn():(m&4194048)===m?nv-sn():0;if(ue=s2(Z,ue),ue!==null){lr=m,t.cancelPendingCommit=ue(mv.bind(null,t,i,m,a,l,f,_,w,I,Y,Z,null,H,Q)),Gr(t,m,_,!B);return}}mv(t,i,m,a,l,f,_,w,I)}function xw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!bn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,a,l){i&=~rm,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var m=31-gt(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Is(t,a,i)}function $u(){return(Qe&6)===0?(kl(0),!1):!0}function cm(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Ji=$s=null,Af(t),Ga=null,ml=0,t=ke;for(;t!==null;)P0(t.alternate,t),t=t.return;ke=null}}function to(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,cm(),it=t,ke=a=Yi(t.current,null),Me=i,Xe=0,wn=null,Br=!1,Wa=Xn(t,i),im=!1,Za=An=rm=ta=qr=mt=0,pn=Il=null,sm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),m=1<<f;i|=t[f],l&=~m}return or=i,fu(),a}function ov(t,i){Ce=null,F.H=El,i===Ha||i===xu?(i=Ty(),Xe=3):i===ff?(i=Ty(),Xe=4):Xe=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,ke===null&&(mt=1,Mu(t,Vn(i,t.current)))}function lv(){var t=En.current;return t===null?!0:(Me&4194048)===Me?zn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===zn:!1}function cv(){var t=F.H;return F.H=El,t===null?El:t}function uv(){var t=F.A;return F.A=_w,t}function Ku(){mt=4,Br||(Me&4194048)!==Me&&En.current!==null||(Wa=!0),(qr&134217727)===0&&(ta&134217727)===0||it===null||Gr(it,Me,An,!1)}function um(t,i,a){var l=Qe;Qe|=2;var f=cv(),m=uv();(it!==t||Me!==i)&&(Gu=null,to(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&ke!==null){var w=ke,I=wn;switch(Xe){case 8:cm(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Xe;if(Xe=0,wn=null,no(t,w,I,B),a&&Wa){_=0;break e}break;default:B=Xe,Xe=0,wn=null,no(t,w,I,B)}}Ew(),_=mt;break}catch(Y){ov(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Ji=$s=null,Qe=l,F.H=f,F.A=m,ke===null&&(it=null,Me=0,fu()),_}function Ew(){for(;ke!==null;)hv(ke)}function Tw(t,i){var a=Qe;Qe|=2;var l=cv(),f=uv();it!==t||Me!==i?(Gu=null,Hu=sn()+500,to(t,i)):Wa=Xn(t,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,no(t,i,m,1);break;case 2:case 9:if(xy(m)){Xe=0,wn=null,dv(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),Mi(t)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xy(m)?(Xe=0,wn=null,dv(i)):(Xe=0,wn=null,no(t,i,m,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var w=ke;if(_?Jv(_):w.stateNode.complete){Xe=0,wn=null;var I=w.sibling;if(I!==null)ke=I;else{var B=w.return;B!==null?(ke=B,Qu(B)):ke=null}break t}}Xe=0,wn=null,no(t,i,m,5);break;case 6:Xe=0,wn=null,no(t,i,m,6);break;case 8:cm(),mt=6;break e;default:throw Error(s(462))}}ww();break}catch(Y){ov(t,Y)}while(!0);return Ji=$s=null,F.H=l,F.A=f,Qe=a,ke!==null?0:(it=null,Me=0,fu(),mt)}function ww(){for(;ke!==null&&!Ud();)hv(ke)}function hv(t){var i=M0(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Qu(t):ke=i}function dv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=C0(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=C0(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Af(i);default:P0(a,i),i=ke=uy(i,or),i=M0(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Qu(t):ke=i}function no(t,i,a,l){Ji=$s=null,Af(i),Ga=null,ml=0;var f=i.return;try{if(dw(t,f,i,a,Me)){mt=1,Mu(t,Vn(a,t.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;mt=1,Mu(t,Vn(a,t.current)),ke=null;return}i.flags&32768?(ze||l===1?t=!0:Wa||(Me&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(i,t)):Qu(i)}function Qu(t){var i=t;do{if((i.flags&32768)!==0){fv(i,Br);return}t=i.return;var a=pw(i.alternate,i,or);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);mt===0&&(mt=5)}function fv(t,i){do{var a=gw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);mt=6,ke=null}function mv(t,i,a,l,f,m,_,w,I){t.cancelPendingCommit=null;do Yu();while(Mt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Jd,qd(t,a,m,_,w,I),t===it&&(ke=it=null,Me=0),eo=i,Hr=t,lr=a,am=m,om=f,iv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Rw(xr,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=ie.p,ie.p=2,_=Qe,Qe|=4;try{yw(t,i,a)}finally{Qe=_,ie.p=f,F.T=l}}Mt=1,pv(),gv(),yv()}}function pv(){if(Mt===1){Mt=0;var t=Hr,i=eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var f=Qe;Qe|=4;try{Y0(i,t);var m=Em,_=ty(t.containerInfo),w=m.focusedElem,I=m.selectionRange;if(_!==w&&w&&w.ownerDocument&&ey(w.ownerDocument.documentElement,w)){if(I!==null&&$d(w)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Y,w.value.length);else{var Z=w.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ue=w.textContent.length,xe=Math.min(I.start,ue),tt=I.end===void 0?xe:Math.min(I.end,ue);!Q.extend&&xe>tt&&(_=tt,tt=xe,xe=_);var V=Zg(w,xe),D=Zg(w,tt);if(V&&D&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==D.node||Q.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(V.node,V.offset),Q.removeAllRanges(),xe>tt?(Q.addRange(z),Q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),Q.addRange(z))}}}}for(Z=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var J=Z[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}oh=!!xm,Em=xm=null}finally{Qe=f,ie.p=l,F.T=a}}t.current=i,Mt=2}}function gv(){if(Mt===2){Mt=0;var t=Hr,i=eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var f=Qe;Qe|=4;try{H0(t,i.alternate,i)}finally{Qe=f,ie.p=l,F.T=a}}Mt=3}}function yv(){if(Mt===4||Mt===3){Mt=0,Uc();var t=Hr,i=eo,a=lr,l=iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,eo=Hr=null,vv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fr=null),Gi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,f=ie.p,ie.p=2,F.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];m(w.value,{componentStack:w.stack})}}finally{F.T=i,ie.p=f}}(lr&3)!==0&&Yu(),Mi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===lm?jl++:(jl=0,lm=t):jl=0,kl(0)}}function vv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function Yu(){return pv(),gv(),yv(),_v()}function _v(){if(Mt!==5)return!1;var t=Hr,i=am;am=0;var a=Gi(lr),l=F.T,f=ie.p;try{ie.p=32>a?32:a,F.T=null,a=om,om=null;var m=Hr,_=lr;if(Mt=0,eo=Hr=null,lr=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,ev(m.current),J0(m,m.current,_,a),Qe=w,kl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Yn,m)}catch{}return!0}finally{ie.p=f,F.T=l,vv(t,i)}}function bv(t,i,a){i=Vn(a,i),i=zf(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(Cs(t,2),Mi(t))}function Je(t,i,a){if(t.tag===3)bv(t,t,a);else for(;i!==null;){if(i.tag===3){bv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Vn(a,t),a=x0(2),l=Pr(i,a,2),l!==null&&(E0(a,l,i,t),Cs(l,2),Mi(l));break}}i=i.return}}function hm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(im=!0,f.add(a),t=Aw.bind(null,t,i,a),i.then(t,t))}function Aw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>sn()-Fu?(Qe&2)===0&&to(t,0):rm|=a,Za===Me&&(Za=0)),Mi(t)}function xv(t,i){i===0&&(i=Gc()),t=Fs(t,i),t!==null&&(Cs(t,i),Mi(t))}function Sw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),xv(t,a)}function Nw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),xv(t,a)}function Rw(t,i){return Ot(t,i)}var Xu=null,io=null,dm=!1,Ju=!1,fm=!1,$r=0;function Mi(t){t!==io&&t.next===null&&(io===null?Xu=io=t:io=io.next=t),Ju=!0,dm||(dm=!0,Iw())}function kl(t,i){if(!fm&&Ju){fm=!0;do for(var a=!1,l=Xu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=f&~(_&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Av(l,m))}else m=Me,m=yi(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Xn(l,m)||(a=!0,Av(l,m));l=l.next}while(a);fm=!1}}function Cw(){Ev()}function Ev(){Ju=dm=!1;var t=0;$r!==0&&zw()&&(t=$r);for(var i=sn(),a=null,l=Xu;l!==null;){var f=l.next,m=Tv(l,i);m===0?(l.next=null,a===null?Xu=f:a.next=f,f===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(Ju=!0)),l=f}Mt!==0&&Mt!==5||kl(t),$r!==0&&($r=0)}function Tv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-gt(m),w=1<<_,I=f[_];I===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Bd(w,i)):I<=i&&(t.expiredLanes|=w),m&=~w}if(i=it,a=Me,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),Gi(a)){case 2:case 8:a=qo;break;case 32:a=xr;break;case 268435456:a=zc;break;default:a=xr}return l=wv.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=Me;return l=yi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sv(t,l,i),Tv(t,sn()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function Av(t,i){if(Yu())return null;sv(t,i,!0)}function Iw(){qw(function(){(Qe&6)!==0?Ot(Bo,Cw):Ev()})}function mm(){if($r===0){var t=qa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),$r=t}return $r}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function Nv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=Sv((f[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?Sv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Ri("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var I=_?Nv(f,_):new FormData(f);Of(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(w.preventDefault(),I=_?Nv(f,_):new FormData(f),Of(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var pm=0;pm<Xd.length;pm++){var gm=Xd[pm],kw=gm.toLowerCase(),Dw=gm[0].toUpperCase()+gm.slice(1);ri(kw,"on"+Dw)}ri(ry,"onAnimationEnd"),ri(sy,"onAnimationIteration"),ri(ay,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(YT,"onTransitionRun"),ri(XT,"onTransitionStart"),ri(JT,"onTransitionCancel"),ri(oy,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],I=w.instance,B=w.currentTarget;if(w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=B;try{m(f)}catch(Y){du(Y)}f.currentTarget=null,m=I}else for(_=0;_<l.length;_++){if(w=l[_],I=w.instance,B=w.currentTarget,w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=B;try{m(f)}catch(Y){du(Y)}f.currentTarget=null,m=I}}}}function De(t,i){var a=i[Ea];a===void 0&&(a=i[Ea]=new Set);var l=t+"__bubble";a.has(l)||(Cv(i,t,2,!1),a.add(l))}function ym(t,i,a){var l=0;i&&(l|=4),Cv(a,t,l,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function vm(t){if(!t[Wu]){t[Wu]=!0,Go.forEach(function(a){a!=="selectionchange"&&(Ow.has(a)||ym(a,!1,t),ym(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,ym("selectionchange",!1,i))}}function Cv(t,i,a,l){switch(r_(i)){case 2:var f=l2;break;case 8:f=c2;break;default:f=Dm}a=f.bind(null,i,a,t),f=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function _m(t,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=xi(w),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=m=_;continue e}w=w.parentNode}}l=l.return}Nr(function(){var B=m,Y=kn(a),Z=[];e:{var H=ly.get(t);if(H!==void 0){var Q=Ri,ue=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":Q=cu;break;case"focusin":ue="focus",Q=Us;break;case"focusout":ue="blur",Q=Us;break;case"beforeblur":case"afterblur":Q=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v;break;case ry:case sy:case ay:Q=nu;break;case oy:Q=A;break;case"scroll":case"scrollend":Q=il;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qi;break;case"toggle":case"beforetoggle":Q=Re}var xe=(i&4)!==0,tt=!xe&&(t==="scroll"||t==="scrollend"),V=xe?H!==null?H+"Capture":null:H;xe=[];for(var D=B,z;D!==null;){var J=D;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||V===null||(J=ei(D,V),J!=null&&xe.push(Ol(D,J,z))),tt)break;D=D.return}0<xe.length&&(H=new Q(H,ue,null,a,Y),Z.push({event:H,listeners:xe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==el&&(ue=a.relatedTarget||a.fromElement)&&(xi(ue)||ue[_i]))break e;if((Q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ue=a.relatedTarget||a.toElement,Q=B,ue=ue?xi(ue):null,ue!==null&&(tt=c(ue),xe=ue.tag,ue!==tt||xe!==5&&xe!==27&&xe!==6)&&(ue=null)):(Q=null,ue=B),Q!==ue)){if(xe=rl,J="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Qi,J="onPointerLeave",V="onPointerEnter",D="pointer"),tt=Q==null?H:vn(Q),z=ue==null?H:vn(ue),H=new xe(J,D+"leave",Q,a,Y),H.target=tt,H.relatedTarget=z,J=null,xi(Y)===B&&(xe=new xe(V,D+"enter",ue,a,Y),xe.target=z,xe.relatedTarget=tt,J=xe),tt=J,Q&&ue)t:{for(xe=Mw,V=Q,D=ue,z=0,J=V;J;J=xe(J))z++;J=0;for(var _e=D;_e;_e=xe(_e))J++;for(;0<z-J;)V=xe(V),z--;for(;0<J-z;)D=xe(D),J--;for(;z--;){if(V===D||D!==null&&V===D.alternate){xe=V;break t}V=xe(V),D=xe(D)}xe=null}else xe=null;Q!==null&&Iv(Z,H,Q,xe,!1),ue!==null&&tt!==null&&Iv(Z,tt,ue,xe,!0)}}e:{if(H=B?vn(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Ge=Kg;else if(Gg(H))if(Qg)Ge=$T;else{Ge=HT;var fe=FT}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Sa(B.elementType)&&(Ge=Kg):Ge=GT;if(Ge&&(Ge=Ge(t,B))){$g(Z,Ge,a,Y);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Jo(H,"number",H.value)}switch(fe=B?vn(B):window,t){case"focusin":(Gg(fe)||fe.contentEditable==="true")&&(Oa=fe,Kd=B,cl=null);break;case"focusout":cl=Kd=Oa=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,ny(Z,a,Y);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":ny(Z,a,Y)}var je;if(Ke)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Da?zs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ji&&a.locale!=="ko"&&(Da||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Da&&(je=nl()):(Ni=Y,tl="value"in Ni?Ni.value:Ni.textContent,Da=!0)),fe=Zu(B,Ve),0<fe.length&&(Ve=new Ii(Ve,t,null,a,Y),Z.push({event:Ve,listeners:fe}),je?Ve.data=je:(je=ka(a),je!==null&&(Ve.data=je)))),(je=On?UT(t,a):zT(t,a))&&(Ve=Zu(B,"onBeforeInput"),0<Ve.length&&(fe=new Ii("onBeforeInput","beforeinput",null,a,Y),Z.push({event:fe,listeners:Ve}),fe.data=je)),jw(Z,t,B,a,Y)}Rv(Z,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Zu(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ei(t,a),f!=null&&l.unshift(Ol(t,f,m)),f=ei(t,i),f!=null&&l.push(Ol(t,f,m))),t.tag===3)return l;t=t.return}return[]}function Mw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Iv(t,i,a,l,f){for(var m=i._reactName,_=[];a!==null&&a!==l;){var w=a,I=w.alternate,B=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||B===null||(I=B,f?(B=ei(a,m),B!=null&&_.unshift(Ol(a,B,I))):f||(B=ei(a,m),B!=null&&_.push(Ol(a,B,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Vw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(Vw,`
`).replace(Pw,"")}function kv(t,i){return i=jv(i),jv(t)===i}function et(t,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Zo(t,l,m);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zc.get(a)||a,wa(t,a,l))}}function bm(t,i,a,l,f,m){switch(a){case"style":Zo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,m,_,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var w=m=_=f=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:et(t,i,l,Y,a,null)}}Xc(t,m,w,I,B,_,f,!1);return;case"select":De("invalid",t),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,i,f,w,a,null)}i=m,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":De("invalid",t),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(t,i,_,w,a,null)}wr(t,l,f,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,I,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)De(Dl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,B,l,a,null)}return;default:if(Sa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&bm(t,i,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,i,w,l,a,null))}function Lw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,I=null,B=null,Y=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(Q)||et(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":m=Q;break;case"name":f=Q;break;case"checked":B=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&et(t,i,H,Q,l,Z)}}Aa(t,_,w,I,B,Y,m,f);return;case"select":Q=_=w=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(m)||et(t,i,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==I&&et(t,i,f,m,l,I)}i=w,a=_,l=Q,H!=null?Tr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,i,w,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":H=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(t,i,_,f,l,m)}Jc(t,H,Q);return;case"option":for(var ue in a)H=a[ue],a.hasOwnProperty(ue)&&H!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:et(t,i,ue,null,l,H));for(I in l)H=l[I],Q=a[I],l.hasOwnProperty(I)&&H!==Q&&(H!=null||Q!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":et(t,i,I,H,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)H=a[xe],a.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe)&&et(t,i,xe,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:et(t,i,B,H,l,Q)}return;default:if(Sa(i)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&bm(t,i,tt,void 0,l,H);for(Y in l)H=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||H===Q||H===void 0&&Q===void 0||bm(t,i,Y,H,l,Q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&et(t,i,V,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||et(t,i,Z,H,l,Q)}function Dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,_=f.initiatorType,w=f.duration;if(m&&w&&Dv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],B=I.startTime;if(B>w)break;var Y=I.transferSize,Z=I.initiatorType;Y&&Dv(Z)&&(I=I.responseEnd,_+=Y*(I<w?1:(w-B)/(I-B)))}if(--l,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xm=null,Em=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function zw(){var t=window.event;return t&&t.type==="popstate"?t===wm?!1:(wm=t,!0):(wm=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(Fw)}:Vv;function Fw(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function Lv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),oo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var m=a.firstChild;m;){var _=m.nextSibling,w=m.nodeName;m[bi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);oo(i)}function Uv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Hw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Gw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function zv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function Sm(t){return t.data==="$?"||t.data==="$~"}function Nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $w(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Rm=null;function Bv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Fv(t,i,a){switch(i=eh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ta(t)}var qn=new Map,Hv=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=ie.d;ie.d={f:Kw,r:Qw,D:Yw,C:Xw,L:Jw,m:Ww,X:e2,S:Zw,M:t2};function Kw(){var t=cr.f(),i=$u();return t||i}function Qw(t){var i=jn(t);i!==null&&i.tag===5&&i.type==="form"?o0(i):cr.r(t)}var ro=typeof document>"u"?null:document;function Gv(t,i,a){var l=ro;if(l&&typeof i=="string"&&i){var f=un(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Hv.has(f)||(Hv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function Yw(t){cr.D(t),Gv("dns-prefetch",t,null)}function Xw(t,i){cr.C(t,i),Gv("preconnect",t,i)}function Jw(t,i,a){cr.L(t,i,a);var l=ro;if(l&&t&&i){var f='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(i){case"style":m=so(t);break;case"script":m=ao(t)}qn.has(m)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(m,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Vl(m))||i==="script"&&l.querySelector(Pl(m))||(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function Ww(t,i){cr.m(t,i);var a=ro;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(t)}if(!qn.has(m)&&(t=E({rel:"modulepreload",href:t},i),qn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(m)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function Zw(t,i,a){cr.S(t,i,a);var l=ro;if(l&&t){var f=Ei(l).hoistableStyles,m=so(t);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Vl(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(m))&&Cm(t,a);var I=_=l.createElement("link");wt(I),Kt(I,"link",t),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function e2(t,i){cr.X(t,i);var a=ro;if(a&&t){var l=Ei(a).hoistableScripts,f=ao(t),m=l.get(f);m||(m=a.querySelector(Pl(f)),m||(t=E({src:t,async:!0},i),(i=qn.get(f))&&Im(t,i),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function t2(t,i){cr.M(t,i);var a=ro;if(a&&t){var l=Ei(a).hoistableScripts,f=ao(t),m=l.get(f);m||(m=a.querySelector(Pl(f)),m||(t=E({src:t,async:!0,type:"module"},i),(i=qn.get(f))&&Im(t,i),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function $v(t,i,a,l){var f=(f=Ie.current)?th(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=Ei(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var m=Ei(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Vl(t)))&&!m._p&&(_.instance=m,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),m||n2(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=Ei(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+un(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function n2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),wt(i),t.head.appendChild(i))}function ao(t){return'[src="'+un(t)+'"]'}function Pl(t){return"script[async]"+t}function Qv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",f),nh(l,a.precedence,t),i.instance=l;case"stylesheet":f=so(a.href);var m=t.querySelector(Vl(f));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;l=Kv(a),(f=qn.get(f))&&Cm(l,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(w,I){_.onload=w,_.onerror=I}),Kt(m,"link",l),i.state.loading|=4,nh(m,a.precedence,t),i.instance=m;case"script":return m=ao(a.src),(f=t.querySelector(Pl(m)))?(i.instance=f,wt(f),f):(l=a,(f=qn.get(m))&&(l=E({},a),Im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,nh(l,a.precedence,t));return i.instance}function nh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ih=null;function Yv(t,i,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[bi]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(m):l.set(_,[m])}}return l}function Xv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function i2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function r2(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=so(l.href),m=i.querySelector(Vl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=rh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=i.ownerDocument||i,l=Kv(l),(f=qn.get(f))&&Cm(l,f),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(w,I){_.onload=w,_.onerror=I}),Kt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var jm=0;function s2(t,i){return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&jm===0&&(jm=62500*Uw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>jm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function ah(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,i.forEach(a2,t),sh=null,rh.call(t))}function a2(t,i){if(!(i.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function o2(t,i,a,l,f,m,_,w,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Wv(t,i,a,l,f,m,_,w,I,B,Y,Z){return t=new o2(t,i,a,_,I,B,Y,Z,w),i=1,m===!0&&(i|=24),m=xn(3,null,null,i),t.current=m,m.stateNode=t,i=uf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},mf(m),t}function Zv(t){return t?(t=Pa,t):Pa}function e_(t,i,a,l,f,m){f=Zv(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Pr(t,l,i),a!==null&&(gn(a,t,i),gl(a,t,i))}function t_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function km(t,i){t_(t,i),(t=t.alternate)&&t_(t,i)}function n_(t){if(t.tag===13||t.tag===31){var i=Fs(t,67108864);i!==null&&gn(i,t,67108864),km(t,67108864)}}function i_(t){if(t.tag===13||t.tag===31){var i=Sn();i=js(i);var a=Fs(t,i);a!==null&&gn(a,t,i),km(t,i)}}var oh=!0;function l2(t,i,a,l){var f=F.T;F.T=null;var m=ie.p;try{ie.p=2,Dm(t,i,a,l)}finally{ie.p=m,F.T=f}}function c2(t,i,a,l){var f=F.T;F.T=null;var m=ie.p;try{ie.p=8,Dm(t,i,a,l)}finally{ie.p=m,F.T=f}}function Dm(t,i,a,l){if(oh){var f=Om(l);if(f===null)_m(t,i,l,lh,a),s_(t,l);else if(h2(f,t,i,a,l))l.stopPropagation();else if(s_(t,l),i&4&&-1<u2.indexOf(t)){for(;f!==null;){var m=jn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=gi(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var I=1<<31-gt(_);w.entanglements[1]|=I,_&=~I}Mi(m),(Qe&6)===0&&(Hu=sn()+500,kl(0))}}break;case 31:case 13:w=Fs(m,2),w!==null&&gn(w,m,2),$u(),km(m,2)}if(m=Om(l),m===null&&_m(t,i,l,lh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else _m(t,i,l,null,a)}}function Om(t){return t=kn(t),Mm(t)}var lh=null;function Mm(t){if(lh=null,t=xi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return lh=t,null}function r_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Bo:return 2;case qo:return 8;case xr:case zd:return 32;case zc:return 268435456;default:return 32}default:return 32}}var Vm=!1,Qr=null,Yr=null,Xr=null,Ul=new Map,zl=new Map,Jr=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=jn(i),i!==null&&n_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function h2(t,i,a,l,f){switch(i){case"focusin":return Qr=Bl(Qr,t,i,a,l,f),!0;case"dragenter":return Yr=Bl(Yr,t,i,a,l,f),!0;case"mouseover":return Xr=Bl(Xr,t,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return Ul.set(m,Bl(Ul.get(m)||null,t,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,zl.set(m,Bl(zl.get(m)||null,t,i,a,l,f)),!0}return!1}function a_(t){var i=xi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){i_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){i_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return i=jn(a),i!==null&&n_(i),t.blockedOn=a,!1;i.shift()}return!0}function o_(t,i,a){ch(t)&&a.delete(i)}function d2(){Vm=!1,Qr!==null&&ch(Qr)&&(Qr=null),Yr!==null&&ch(Yr)&&(Yr=null),Xr!==null&&ch(Xr)&&(Xr=null),Ul.forEach(o_),zl.forEach(o_)}function uh(t,i){t.blockedOn===i&&(t.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d2)))}var hh=null;function l_(t){hh!==t&&(hh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var m=jn(a);m!==null&&(t.splice(i,3),i-=3,Of(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function oo(t){function i(I){return uh(I,t)}Qr!==null&&uh(Qr,t),Yr!==null&&uh(Yr,t),Xr!==null&&uh(Xr,t),Ul.forEach(i),zl.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[Pt]||null;if(typeof m=="function")_||l_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Pt]||null)w=_.formAction;else if(Mm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),l_(a)}}}function c_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}dh.prototype.render=Pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();e_(a,l,t,i,null,null)},dh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e_(t.current,2,null,t,null,null),$u(),i[_i]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var i=$c();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&a_(t)}};var u_=e.version;if(u_!=="19.2.3")throw Error(s(527,u_,"19.2.3"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var f2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Yn=fh.inject(f2),qt=fh}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=y0,m=v0,_=_0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Wv(t,1,!1,null,null,a,l,null,f,m,_,c_),t[_i]=i.current,vm(t),new Pm(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=y0,_=v0,w=_0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Wv(t,1,!0,i,a??null,l,f,I,m,_,w,c_),i.context=Zv(null),a=i.current,l=Sn(),l=js(l),f=Vr(l),f.callback=null,Pr(a,f,l),a=l,i.current.lanes=a,Cs(i,a),Mi(i),t[_i]=i.current,vm(t),new dh(i)},Fl.version="19.2.3",Fl}var b_;function w2(){if(b_)return zm.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=T2(),zm.exports}var A2=w2();const S2=px(A2);var x_="popstate";function N2(r={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=fa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ap("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:lc(c))}function s(o,c){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return C2(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R2(){return Math.random().toString(36).substring(2,10)}function E_(r,e){return{usr:r.state,key:r.key,idx:e}}function ap(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||s||R2()}}function lc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function C2(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let q=x(),ne=q==null?null:q-y;y=q,g&&g({action:p,location:G.location,delta:ne})}function S(q,ne){p="PUSH";let ee=ap(G.location,q,ne);n&&n(ee,q),y=x()+1;let re=E_(ee,y),pe=G.createHref(ee);try{h.pushState(re,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}c&&g&&g({action:p,location:G.location,delta:1})}function M(q,ne){p="REPLACE";let ee=ap(G.location,q,ne);n&&n(ee,q),y=x();let re=E_(ee,y),pe=G.createHref(ee);h.replaceState(re,"",pe),c&&g&&g({action:p,location:G.location,delta:0})}function $(q){return I2(q)}let G={get action(){return p},get location(){return r(o,h)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(x_,E),g=q,()=>{o.removeEventListener(x_,E),g=null}},createHref(q){return e(o,q)},createURL:$,encodeLocation(q){let ne=$(q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:M,go(q){return h.go(q)}};return G}function I2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function gx(r,e,n="/"){return j2(r,e,n,!1)}function j2(r,e,n,s){let o=typeof e=="string"?fa(e):e,c=fr(o.pathname||"/",n);if(c==null)return null;let h=yx(r);k2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=F2(c);p=B2(h[g],y,s)}return p}function yx(r,e=[],n=[],s="",o=!1){let c=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;ut(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let E=dr([s,x.relativePath]),S=n.concat(x);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),yx(h.children,e,S,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:U2(E,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of vx(h.path))c(h,p,!0,g)}),e}function vx(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=vx(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function k2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:z2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var D2=/^:[\w-]+$/,O2=3,M2=2,V2=1,P2=10,L2=-2,T_=r=>r==="*";function U2(r,e){let n=r.split("/"),s=n.length;return n.some(T_)&&(s+=L2),e&&(s+=M2),n.filter(o=>!T_(o)).reduce((o,c)=>o+(D2.test(c)?O2:c===""?V2:P2),s)}function z2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function B2(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:dr([c,E.pathname]),pathnameBase:K2(dr([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=dr([c,E.pathnameBase]))}return h}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=q2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let $=p[S]||"";h=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const M=p[S];return E&&!M?y[x]=void 0:y[x]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function q2(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function F2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var _x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H2=r=>_x.test(r);function G2(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fa(r):r,c;if(n)if(H2(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=w_(n.substring(1),"/"):c=w_(n,e)}else c=e;return{pathname:c,search:Q2(s),hash:Y2(o)}}function w_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bx(r){let e=$2(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xx(r,e,n,s=!1){let o;typeof r=="string"?o=fa(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=G2(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),K2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,X2=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function J2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function W2(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tx(r,e){let n=r;if(typeof n!="string"||!_x.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Ex)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=fr(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var Z2=["GET",...wx];new Set(Z2);var Io=L.createContext(null);Io.displayName="DataRouter";var ld=L.createContext(null);ld.displayName="DataRouterState";var eA=L.createContext(!1),Ax=L.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var tA=L.createContext(new Map);tA.displayName="Fetchers";var nA=L.createContext(null);nA.displayName="Await";var Qn=L.createContext(null);Qn.displayName="Navigation";var xc=L.createContext(null);xc.displayName="Location";var fi=L.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Vp=L.createContext(null);Vp.displayName="RouteError";var Sx="REACT_ROUTER_ERROR",iA="REDIRECT",rA="ROUTE_ERROR_RESPONSE";function sA(r){if(r.startsWith(`${Sx}:${iA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function aA(r){if(r.startsWith(`${Sx}:${rA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new X2(e.status,e.statusText,e.data)}catch{}}function oA(r,{relative:e}={}){ut(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Qn),{hash:o,pathname:c,search:h}=wc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:dr([n,c])),s.createHref({pathname:p,search:h,hash:o})}function Ec(){return L.useContext(xc)!=null}function _r(){return ut(Ec(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xc).location}var Nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rx(r){L.useContext(Qn).static||L.useLayoutEffect(r)}function Tc(){let{isDataRoute:r}=L.useContext(fi);return r?EA():lA()}function lA(){ut(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Io),{basename:e,navigator:n}=L.useContext(Qn),{matches:s}=L.useContext(fi),{pathname:o}=_r(),c=JSON.stringify(bx(s)),h=L.useRef(!1);return Rx(()=>{h.current=!0}),L.useCallback((g,y={})=>{if(Kn(h.current,Nx),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=xx(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:dr([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,r])}var cA=L.createContext(null);function uA(r){let e=L.useContext(fi).outlet;return L.useMemo(()=>e&&L.createElement(cA.Provider,{value:r},e),[e,r])}function Cx(){let{matches:r}=L.useContext(fi),e=r[r.length-1];return e?e.params:{}}function wc(r,{relative:e}={}){let{matches:n}=L.useContext(fi),{pathname:s}=_r(),o=JSON.stringify(bx(n));return L.useMemo(()=>xx(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function hA(r,e){return Ix(r,e)}function Ix(r,e,n,s,o){ut(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Qn),{matches:h}=L.useContext(fi),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let ee=E&&E.path||"";kx(y,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=_r(),M;if(e){let ee=typeof e=="string"?fa(e):e;ut(x==="/"||ee.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),M=ee}else M=S;let $=M.pathname||"/",G=$;if(x!=="/"){let ee=x.replace(/^\//,"").split("/");G="/"+$.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=gx(r,{pathname:G});Kn(E||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Kn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=gA(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:dr([x,c.encodeLocation?c.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?x:dr([x,c.encodeLocation?c.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),h,n,s,o);return e&&ne?L.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function dA(){let r=xA(),e=J2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var fA=L.createElement(dA,null),jx=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=aA(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(fi.Provider,{value:this.props.routeContext},L.createElement(Vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(mA,{error:r},e):e}};jx.contextType=eA;var Gm=new WeakMap;function mA({children:r,error:e}){let{basename:n}=L.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sA(e.digest);if(s){let o=Gm.get(e);if(o)throw o;let c=Tx(s.location,n);if(Ex&&!Gm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw Gm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function pA({routeContext:r,match:e,children:n}){let s=L.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(fi.Provider,{value:r},n)}function gA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:M}=n,$=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!M||M[E.route.id]===void 0);if(E.route.lazy||$){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&s?(x,E)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:W2(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let M,$=!1,G=null,q=null;n&&(M=h&&E.route.id?h[E.route.id]:void 0,G=E.route.errorElement||fA,p&&(g<0&&S===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,q=null):g===S&&($=!0,q=E.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,S+1)),ee=()=>{let re;return M?re=G:$?re=q:E.route.Component?re=L.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=x,L.createElement(pA,{match:E,routeContext:{outlet:x,matches:ne,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?L.createElement(jx,{location:n.location,revalidation:n.revalidation,component:G,error:M,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function Pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(r){let e=L.useContext(Io);return ut(e,Pp(r)),e}function vA(r){let e=L.useContext(ld);return ut(e,Pp(r)),e}function _A(r){let e=L.useContext(fi);return ut(e,Pp(r)),e}function Lp(r){let e=_A(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bA(){return Lp("useRouteId")}function xA(){let r=L.useContext(Vp),e=vA("useRouteError"),n=Lp("useRouteError");return r!==void 0?r:e.errors?.[n]}function EA(){let{router:r}=yA("useNavigate"),e=Lp("useNavigate"),n=L.useRef(!1);return Rx(()=>{n.current=!0}),L.useCallback(async(o,c={})=>{Kn(n.current,Nx),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var A_={};function kx(r,e,n){!e&&!A_[r]&&(A_[r]=!0,Kn(!1,n))}L.memo(TA);function TA({routes:r,future:e,state:n,onError:s}){return Ix(r,void 0,n,s,e)}function wA(r){return uA(r.context)}function oi(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ut(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=fa(n));let{pathname:y="/",search:x="",hash:E="",state:S=null,key:M="default"}=n,$=L.useMemo(()=>{let G=fr(y,p);return G==null?null:{location:{pathname:G,search:x,hash:E,state:S,key:M},navigationType:s}},[p,y,x,E,S,M,s]);return Kn($!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:L.createElement(Qn.Provider,{value:g},L.createElement(xc.Provider,{children:e,value:$}))}function SA({children:r,location:e}){return hA(op(r),e)}function op(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){n.push.apply(n,op(s.props.children,c));return}ut(s.type===oi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,c)),n.push(h)}),n}var Ah="get",Sh="application/x-www-form-urlencoded";function cd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function NA(r){return cd(r)&&r.tagName.toLowerCase()==="button"}function RA(r){return cd(r)&&r.tagName.toLowerCase()==="form"}function CA(r){return cd(r)&&r.tagName.toLowerCase()==="input"}function IA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jA(r,e){return r.button===0&&(!e||e==="_self")&&!IA(r)}var mh=null;function kA(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var DA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!DA.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):r}function OA(r,e){let n,s,o,c,h;if(RA(r)){let p=r.getAttribute("action");s=p?fr(p,e):null,n=r.getAttribute("method")||Ah,o=$m(r.getAttribute("enctype"))||Sh,c=new FormData(r)}else if(NA(r)||CA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?fr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Ah,o=$m(r.getAttribute("formenctype"))||$m(p.getAttribute("enctype"))||Sh,c=new FormData(p,r),!kA()){let{name:y,type:x,value:E}=r;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(cd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,s=null,o=Sh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function MA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function VA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function LA(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await VA(c,n);return h.links?h.links():[]}return[]}));return qA(s.flat(1).filter(PA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S_(r,e,n,s,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function UA(r,e,{includeHydrateFallback:n}={}){return zA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function zA(r){return[...new Set(r)]}function BA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function qA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(BA(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Dx(){let r=L.useContext(Io);return Up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function FA(){let r=L.useContext(ld);return Up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zp=L.createContext(void 0);zp.displayName="FrameworkContext";function Ox(){let r=L.useContext(zp);return Up(r,"You must render this element inside a <HydratedRouter> element"),r}function HA(r,e){let n=L.useContext(zp),[s,o]=L.useState(!1),[c,h]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=ne=>{ne.forEach(ee=>{h(ee.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[r]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},$=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Hl(p,M),onBlur:Hl(g,$),onMouseEnter:Hl(y,M),onMouseLeave:Hl(x,$),onTouchStart:Hl(E,M)}]:[!1,S,{}]}function Hl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function GA({page:r,...e}){let{router:n}=Dx(),s=L.useMemo(()=>gx(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(KA,{page:r,matches:s,...e}):null}function $A(r){let{manifest:e,routeModules:n}=Ox(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return LA(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function KA({page:r,matches:e,...n}){let s=_r(),{future:o,manifest:c,routeModules:h}=Ox(),{basename:p}=Dx(),{loaderData:g,matches:y}=FA(),x=L.useMemo(()=>S_(r,e,y,c,s,"data"),[r,e,y,c,s]),E=L.useMemo(()=>S_(r,e,y,c,s,"assets"),[r,e,y,c,s]),S=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,q=!1;if(e.forEach(ee=>{let re=c.routes[ee.route.id];!re||!re.hasLoader||(!x.some(pe=>pe.route.id===ee.route.id)&&ee.route.id in g&&h[ee.route.id]?.shouldRevalidate||re.hasClientLoader?q=!0:G.add(ee.route.id))}),G.size===0)return[];let ne=MA(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return q&&G.size>0&&ne.searchParams.set("_routes",e.filter(ee=>G.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,c,x,e,r,h]),M=L.useMemo(()=>UA(E,c),[E,c]),$=$A(E);return L.createElement(L.Fragment,null,S.map(G=>L.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),M.map(G=>L.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),$.map(({key:G,link:q})=>L.createElement("link",{key:G,nonce:n.nonce,...q})))}function QA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YA&&(window.__reactRouterVersion="7.12.0")}catch{}function XA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=N2({window:s,v5Compat:!0}));let c=o.current,[h,p]=L.useState({action:c.action,location:c.location}),g=L.useCallback(y=>{n===!1?p(y):L.startTransition(()=>p(y))},[n]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.createElement(AA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...M},$){let{basename:G,unstable_useTransitions:q}=L.useContext(Qn),ne=typeof y=="string"&&Mx.test(y),ee=Tx(y,G);y=ee.to;let re=oA(y,{relative:o}),[pe,de,ge]=HA(s,M),T=eS(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:q});function N(j){e&&e(j),j.defaultPrevented||T(j)}let R=L.createElement("a",{...M,...ge,href:ee.absoluteURL||re,onClick:ee.isExternal||c?e:N,ref:QA($,de),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return pe&&!ne?L.createElement(L.Fragment,null,R,L.createElement(GA,{page:re})):R});Hn.displayName="Link";var JA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},x){let E=wc(h,{relative:y.relative}),S=_r(),M=L.useContext(ld),{navigator:$,basename:G}=L.useContext(Qn),q=M!=null&&sS(E)&&p===!0,ne=$.encodeLocation?$.encodeLocation(E).pathname:E.pathname,ee=S.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&G&&(re=fr(re,G)||re);const pe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let de=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(pe)==="/",ge=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),T={isActive:de,isPending:ge,isTransitioning:q},N=de?e:void 0,R;typeof s=="function"?R=s(T):R=[s,de?"active":null,ge?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(T):c;return L.createElement(Hn,{...y,"aria-current":N,className:R,ref:x,style:j,to:h,viewTransition:p},typeof g=="function"?g(T):g)});JA.displayName="NavLink";var WA=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Ah,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...M},$)=>{let{unstable_useTransitions:G}=L.useContext(Qn),q=iS(),ne=rS(p,{relative:y}),ee=h.toLowerCase()==="get"?"get":"post",re=typeof p=="string"&&Mx.test(p),pe=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let ge=de.nativeEvent.submitter,T=ge?.getAttribute("formmethod")||h,N=()=>q(ge||de.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S});G&&n!==!1?L.startTransition(()=>N()):N()};return L.createElement("form",{ref:$,method:ee,action:ne,onSubmit:s?g:pe,...M,"data-discover":!re&&r==="render"?"true":void 0})});WA.displayName="Form";function ZA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(r){let e=L.useContext(Io);return ut(e,ZA(r)),e}function eS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Tc(),x=_r(),E=wc(r,{relative:c});return L.useCallback(S=>{if(jA(S,e)){S.preventDefault();let M=n!==void 0?n:lc(x)===lc(E),$=()=>y(r,{replace:M,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?L.startTransition(()=>$()):$()}},[x,y,E,n,s,e,r,o,c,h,p,g])}var tS=0,nS=()=>`__${String(++tS)}__`;function iS(){let{router:r}=Vx("useSubmit"),{basename:e}=L.useContext(Qn),n=bA(),s=r.fetch,o=r.navigate;return L.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=OA(c,e);if(h.navigate===!1){let S=h.fetcherKey||nS();await s(S,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function rS(r,{relative:e}={}){let{basename:n}=L.useContext(Qn),s=L.useContext(fi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...wc(r||".",{relative:e})},h=_r();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:dr([n,c.pathname])),lc(c)}function sS(r,{relative:e}={}){let n=L.useContext(Ax);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vx("useViewTransitionState"),o=wc(r,{relative:e});if(!n.isTransitioning)return!1;let c=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,c)!=null}const aS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),N_=r=>{const e=oS(r);return e.charAt(0).toUpperCase()+e.slice(1)},Px=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),lS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uS=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...p},g)=>L.createElement("svg",{ref:g,...cS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Px("lucide",o),...!c&&!lS(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>L.createElement(y,x)),...Array.isArray(c)?c:[c]]));const me=(r,e)=>{const n=L.forwardRef(({className:s,...o},c)=>L.createElement(uS,{ref:c,iconNode:e,className:Px(`lucide-${aS(N_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=N_(r),n};const hS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Lx=me("archive",hS);const dS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bp=me("arrow-left",dS);const fS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ux=me("arrow-right",fS);const mS=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],go=me("bed",mS);const pS=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Lh=me("bike",pS);const gS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],cc=me("box",gS);const yS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],vS=me("building-2",yS);const _S=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],R_=me("calculator",_S);const bS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qp=me("calendar",bS);const xS=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],zx=me("car-front",xS);const ES=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],TS=me("car",ES);const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fp=me("circle-alert",wS);const AS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ud=me("circle-check-big",AS);const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gl=me("circle-check",SS);const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],C_=me("circle-plus",NS);const RS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],CS=me("clipboard-list",RS);const IS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hp=me("clock",IS);const jS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Bx=me("cloud-upload",jS);const kS=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],qx=me("container",kS);const DS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],OS=me("credit-card",DS);const MS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],VS=me("dollar-sign",MS);const PS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],LS=me("facebook",PS);const US=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hd=me("file-text",US);const zS=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],Fx=me("frame",zS);const BS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qS=me("heart",BS);const FS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Gp=me("house",FS);const HS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Hx=me("image",HS);const GS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$S=me("instagram",GS);const KS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QS=me("layout-dashboard",KS);const YS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XS=me("lock",YS);const JS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WS=me("log-out",JS);const ZS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gx=me("mail",ZS);const eN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mr=me("map-pin",eN);const tN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],I_=me("maximize-2",tN);const nN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iN=me("menu",nN);const rN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],$p=me("message-circle",rN);const sN=[["path",{d:"M5 12h14",key:"1ays0h"}]],aN=me("minus",sN);const oN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$x=me("monitor",oN);const lN=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Kx=me("music-2",lN);const cN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Eo=me("package",cN);const uN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hN=me("pen-line",uN);const dN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Qx=me("pen-tool",dN);const fN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],dd=me("phone",fN);const mN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yx=me("plus",mN);const pN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],fd=me("printer",pN);const gN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],yN=me("receipt",gN);const vN=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]],Xx=me("refrigerator",vN);const _N=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bN=me("save",_N);const xN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EN=me("search",xN);const TN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wN=me("shield-check",TN);const AN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],SN=me("shield",AN);const NN=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],Jx=me("sofa",NN);const RN=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Wx=me("table-2",RN);const CN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fo=me("trash-2",CN);const IN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hs=me("truck",IN);const jN=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Zx=me("tv",jN);const kN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DN=me("user",kN);const ON=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MN=me("users",ON);const VN=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],e1=me("washing-machine",VN);const PN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],md=me("x",PN);const LN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],UN=me("zap",LN),lp="/mudanzas-cadena-web/assets/logo-3D4rlzNO.PNG",zN=()=>{const[r,e]=L.useState(!1),n=Tc(),s=_r(),o=p=>{e(!1);const g=y=>{if(y==="inicio"){window.scrollTo({top:0,behavior:"smooth"});return}const x=document.getElementById(y);if(x){const M=x.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:M,behavior:"smooth"})}};s.pathname!=="/"?(n("/"),setTimeout(()=>g(p),100)):g(p)},c="bg-transparent border-none cursor-pointer text-gray-600 hover:text-cadena-pink font-bold text-xs lg:text-sm uppercase tracking-wide transition whitespace-nowrap",h="flex flex-col items-center justify-center gap-1 w-full py-4 text-lg font-bold text-slate-700 bg-white/40 backdrop-blur-md hover:bg-white/80 hover:text-cadena-pink hover:scale-[1.02] rounded-2xl transition-all duration-300 border border-white/50 shadow-sm";return d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"bg-white/90 backdrop-blur-lg border-b border-white/40 shadow-sm fixed w-full z-50 top-0 left-0 h-20 transition-all duration-300",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:d.jsxs("div",{className:"flex justify-between items-center h-full gap-2",children:[d.jsx("button",{onClick:()=>o("inicio"),className:"flex items-center gap-2 cursor-pointer bg-transparent border-none outline-none group shrink-0 mr-auto",children:d.jsx("img",{src:lp,alt:"Mudanzas Cadena Logo",className:"h-14 md:h-20 w-auto object-contain transition-transform duration-300 group-hover:scale-105 mt-6"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-3 lg:gap-6",children:[d.jsx("button",{onClick:()=>o("inicio"),className:c,children:"Inicio"}),d.jsx("button",{onClick:()=>o("servicios"),className:c,children:"Servicios"}),d.jsx("button",{onClick:()=>o("galeria"),className:c,children:"Galera"}),d.jsx("button",{onClick:()=>o("contacto"),className:c,children:"Contacto"}),d.jsx(Hn,{to:"/rastreo",className:c,children:"Rastreo"}),d.jsx(Hn,{to:"/cotizar",className:"bg-cadena-blue text-white px-4 py-2 lg:px-6 lg:py-2.5 rounded-full font-bold hover:bg-ocean-dark transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 whitespace-nowrap text-xs lg:text-sm shrink-0",children:"Cotizar Ahora"})]}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-xl bg-white/40 backdrop-blur-md border border-white/50 text-slate-700 shadow-sm transition hover:bg-white hover:text-cadena-pink",children:d.jsx(iN,{size:32})})})]})})}),d.jsxs("div",{className:`md:hidden fixed inset-0 z-[60] bg-white/95 backdrop-blur-xl flex flex-col transition-transform duration-500 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[d.jsx("img",{src:lp,alt:"Mudanzas Cadena",className:"h-12 w-auto object-contain"}),d.jsx("button",{onClick:()=>e(!1),className:"p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-red-50 hover:text-red-500 transition shadow-sm",children:d.jsx(md,{size:28})})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start pt-6 px-6 overflow-y-auto space-y-3",children:[d.jsxs(Hn,{to:"/cotizar",onClick:()=>e(!1),className:"flex items-center justify-center gap-3 w-full bg-gradient-to-r from-cadena-pink to-pink-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl shadow-pink-200/50 hover:scale-[1.02] transition transform active:scale-95 mb-4",children:[d.jsx(Eo,{size:24}),"COTIZAR AHORA"]}),d.jsxs("button",{onClick:()=>o("inicio"),className:h,children:[d.jsx(Gp,{size:24,className:"opacity-60 mb-1"})," Inicio"]}),d.jsxs("button",{onClick:()=>o("servicios"),className:h,children:[d.jsx(hs,{size:24,className:"opacity-60 mb-1"})," Servicios"]}),d.jsxs("button",{onClick:()=>o("galeria"),className:h,children:[d.jsx(Hx,{size:24,className:"opacity-60 mb-1"})," Galera"]}),d.jsxs("button",{onClick:()=>o("contacto"),className:h,children:[d.jsx(dd,{size:24,className:"opacity-60 mb-1"})," Contacto"]}),d.jsxs(Hn,{to:"/rastreo",onClick:()=>e(!1),className:h,children:[d.jsx(mr,{size:24,className:"opacity-60 mb-1"})," Rastreo"]})]}),d.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"})]})]})},BN=()=>d.jsx("footer",{id:"contacto",className:"bg-cadena-dark text-white pt-12 pb-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["MUDANZAS ",d.jsx("span",{className:"text-cadena-pink",children:"CADENA"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Ms de 60 aos cuidando tu patrimonio. Hacemos de tu mudanza algo fcil y sencillo, con disciplina y puntualidad."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"https://www.facebook.com/share/17eb7PMnCq/?mibextid=wwXIfr",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-blue transition",children:d.jsx(LS,{size:20})}),d.jsx("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-pink transition",children:d.jsx($S,{size:20})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Contacto"}),d.jsxs("ul",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(mr,{className:"text-cadena-pink mt-1",size:18}),d.jsxs("span",{children:["Valle del Eufrates 37, CTM 14,",d.jsx("br",{}),"55235 Ecatepec de Morelos, Mx."]})]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(dd,{className:"text-cadena-blue",size:18}),d.jsx("a",{href:"tel:+529994154957",className:"hover:text-white transition",children:"+52 999 415 4957"})]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx(Gx,{className:"text-cadena-blue",size:18}),d.jsx("a",{href:"mailto:mudanzascadenamx@gmail.com",className:"hover:text-white transition",children:"mudanzascadenamx@gmail.com"})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Horario de Atencin"}),d.jsx("ul",{className:"space-y-2 text-gray-300 text-sm mb-6",children:d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{children:"Lunes - Domingo:"}),d.jsx("span",{className:"text-white font-medium",children:"8:00 hrs - 22:00 hrs"})]})}),d.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"block w-full text-center border border-gray-600 text-gray-300 py-2 rounded hover:border-white hover:text-white transition text-sm",children:"Descargar Catlogo PDF"})]})]}),d.jsx("div",{className:"border-t border-gray-800 pt-6 text-center text-xs text-gray-500",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Mudanzas Cadena. Todos los derechos reservados."]})}),d.jsx("div",{className:"flex justify-center gap-4 text-xs opacity-50 hover:opacity-100 transition-opacity",children:d.jsx(Hn,{to:"/admin",className:"hover:text-white",children:"Acceso Administrativo"})})]})}),qN=()=>d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(zN,{}),d.jsx("main",{className:"flex-grow",children:d.jsx(wA,{})}),d.jsx(BN,{})]}),FN="/mudanzas-cadena-web/assets/hero-truck-C7CiCazc.mp4",HN="/mudanzas-cadena-web/assets/truck-side-C-DMYrQ-.jpg",pd="/mudanzas-cadena-web/assets/mascota-CSwWRtNs.png",t1=()=>d.jsxs("div",{className:"py-12 bg-slate-50",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-16",children:[d.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Tipos de Servicio"}),d.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:"Elige tu Modalidad Ideal"}),d.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Nos adaptamos a tu presupuesto y urgencia. Prefieres velocidad o economa?"})]}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-10 border border-white/60 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-cadena-blue text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-200",children:d.jsx(hs,{size:32})}),d.jsx("span",{className:"bg-cadena-blue/10 text-cadena-blue text-xs font-bold px-3 py-1 rounded-full border border-blue-100 uppercase",children:"La ms rpida"})]}),d.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Exclusiva"}),d.jsx("p",{className:"text-cadena-blue font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Directo  Camin Completo"}),d.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"El camin es 100% para ti. T eliges la fecha y hora exacta de salida. Vamos directo de puerta a puerta sin escalas ni desvos."}),d.jsxs("ul",{className:"space-y-4 mb-8",children:[d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(UN,{size:20,className:"text-yellow-500"})," Entrega rpida."]}),d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(Gl,{size:20,className:"text-blue-400"})," T defines el horario."]}),d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(Gl,{size:20,className:"text-blue-400"})," Espacio exclusivo para ti."]})]})]})]}),d.jsxs("div",{className:"bg-white/40 backdrop-blur-lg rounded-[2.5rem] p-10 border border-white/50 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.05)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-white text-cadena-pink rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(MN,{size:32})}),d.jsx("span",{className:"bg-cadena-pink/10 text-cadena-pink text-xs font-bold px-3 py-1 rounded-full border border-pink-100 uppercase",children:"Ahorra"})]}),d.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Compartida"}),d.jsx("p",{className:"text-cadena-pink font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Consolidado  Econmico"}),d.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"Tu mudanza viaja junto con otras, dividiendo los gastos de transporte. Perfecto si eres flexible con la fecha de entrega."}),d.jsxs("ul",{className:"space-y-4 mb-8",children:[d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(Hp,{size:20,className:"text-gray-400"})," Entrega de 5 a 15 das hbiles."]}),d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(Gl,{size:20,className:"text-pink-400"})," Precio mucho ms accesible."]}),d.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[d.jsx(Gl,{size:20,className:"text-pink-400"})," Ideal para cargas medianas."]})]})]})]})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h3",{className:"text-3xl font-extrabold text-slate-800",children:"Soluciones Especializadas"}),d.jsx("p",{className:"text-slate-500 mt-2",children:"Todo lo que necesitas para completar tu traslado."})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:d.jsx(vS,{size:28}),title:"Corporativo",desc:"Logstica para oficinas sin detener tu operacin.",color:"bg-blue-500",shadow:"shadow-blue-200",bg:"bg-blue-50"},{icon:d.jsx(TS,{size:28}),title:"Traslado de Autos",desc:"Llevamos tu coche sin rodar (Madrina/Caja).",color:"bg-purple-500",shadow:"shadow-purple-200",bg:"bg-purple-50"},{icon:d.jsx(cc,{size:28}),title:"Empaque",desc:"Cajas, playo y burbuja para cuidar lo frgil.",color:"bg-orange-500",shadow:"shadow-orange-200",bg:"bg-orange-50"},{icon:d.jsx(wN,{size:28}),title:"Seguro de Carga",desc:"Pliza contra todo riesgo (CHUBB, AIG).",color:"bg-green-500",shadow:"shadow-green-200",bg:"bg-green-50"}].map((r,e)=>d.jsxs("div",{className:"group bg-white rounded-3xl p-6 border border-slate-100 hover:border-transparent hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br ${r.bg} to-transparent pointer-events-none`}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx("div",{className:`w-14 h-14 mx-auto ${r.color} text-white rounded-2xl flex items-center justify-center shadow-lg ${r.shadow} mb-4 transform group-hover:scale-110 transition-transform duration-300`,children:r.icon}),d.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2 group-hover:text-black",children:r.title}),d.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed group-hover:text-slate-700",children:r.desc})]})]},e))})]}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"bg-white/40 backdrop-blur-xl border border-white/60 rounded-[3rem] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-pink-100/40 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),d.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-8",children:["Por qu elegir ",d.jsx("span",{className:"text-cadena-blue",children:"Mudanzas Cadena"}),"?"]}),d.jsx("ul",{className:"space-y-4",children:["Unidades con rampa hidrulica y GPS 24/7.","Volado de muebles y maniobras especiales.","Personal capacitado y de confianza.","Facturacin electrnica disponible.","Cobertura en rutas del Pacfico y Sureste (Mrida, Cancn)."].map((r,e)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(Gl,{className:"text-cadena-pink flex-shrink-0 mt-1",size:20}),d.jsx("span",{className:"text-gray-700 font-medium",children:r})]},e))}),d.jsx("div",{className:"mt-8",children:d.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-cadena-dark hover:bg-gray-800 transition",children:"Descargar Catlogo Completo (PDF)"})})]}),d.jsxs("div",{className:"bg-white/50 backdrop-blur-md rounded-3xl p-8 text-center border border-white/60 shadow-inner",children:[d.jsx("div",{className:"w-32 h-32 md:w-56 md:h-56 mx-auto mb-6 rounded-full overflow-hidden border-4 border-white shadow-2xl relative bg-blue-50 group cursor-pointer",children:d.jsx("img",{src:pd,alt:"Mascota",className:"w-full h-full object-cover object-top scale-125 group-hover:scale-100 transition-transform duration-500"})}),d.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Listo para mudarte?"}),d.jsx("p",{className:"text-slate-600 mb-6 text-sm font-medium",children:"Djanos los detalles pesados a nosotros. Cotiza tu servicio hoy mismo."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-400/50",children:[d.jsx($p,{size:20}),"Pedir Cotizacin por WhatsApp"]}),d.jsxs(Hn,{to:"/cotizar",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-cadena-blue hover:bg-blue-700 text-white font-bold rounded-xl transition shadow-lg hover:shadow-blue-400/50",children:[d.jsx(hd,{size:20}),"Cotizar en Lnea (Formulario)"]})]})]})]})]})})]}),GN="/mudanzas-cadena-web/assets/mudanza1-BdTyaUqM.jpeg",$N="/mudanzas-cadena-web/assets/mudanza2-Ckuonxg8.jpeg",KN="/mudanzas-cadena-web/assets/mudanza3-D3EG-M9j.jpeg",QN="/mudanzas-cadena-web/assets/mudanza4-C6YfTQQ9.jpeg",YN="/mudanzas-cadena-web/assets/mudanza5-Dhq4noZh.jpeg",XN="/mudanzas-cadena-web/assets/mudanza6-B5NQVteP.jpeg",JN="/mudanzas-cadena-web/assets/mudanza7-y8hG9Qrc.jpeg",WN="/mudanzas-cadena-web/assets/mudanza8-CdYmO3EG.jpeg",ZN="/mudanzas-cadena-web/assets/mudanza9-CuV-hVYp.jpeg",eR="/mudanzas-cadena-web/assets/mudanza10-DBVQKhKd.jpeg",tR="/mudanzas-cadena-web/assets/mudanza11-C5WH2O-v.jpeg",nR="/mudanzas-cadena-web/assets/mudanza12-BQFl8PZH.jpeg",iR=()=>{const r=[{src:GN,span:"md:col-span-2 md:row-span-2",title:"Nuestras Unidades"},{src:$N,span:"md:col-span-1 md:row-span-1",title:"Carga Segura"},{src:KN,span:"md:col-span-1 md:row-span-2",title:"Maniobras de Altura"},{src:QN,span:"md:col-span-1 md:row-span-1",title:"Personal Uniformado"},{src:YN,span:"md:col-span-2 md:row-span-1",title:"Emplayado Profesional"},{src:XN,span:"md:col-span-1 md:row-span-1",title:"Cuidado al Detalle"},{src:JN,span:"md:col-span-1 md:row-span-1",title:"Logstica"},{src:WN,span:"md:col-span-1 md:row-span-2",title:"Volado de Muebles"},{src:ZN,span:"md:col-span-2 md:row-span-2",title:"Servicio Residencial"},{src:eR,span:"md:col-span-1 md:row-span-1",title:"Empaque Delicado"},{src:tR,span:"md:col-span-1 md:row-span-1",title:"Transporte Nacional"},{src:nR,span:"md:col-span-4 md:row-span-1",title:"Listos para tu mudanza"}];return d.jsx("div",{className:"py-24 relative z-10",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Galera"}),d.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:["As trabajamos en ",d.jsx("span",{className:"text-cadena-blue",children:"Cadena"})]}),d.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Cada mudanza es una historia de xito. Mira cmo cuidamos el patrimonio de nuestros clientes."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[200px]",children:r.map((e,n)=>d.jsx("div",{className:`relative group rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300 border border-white/40 ${e.span}`,children:d.jsx("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-in-out"})},n))}),d.jsx("div",{className:"text-center mt-12",children:d.jsxs("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-cadena-pink font-bold hover:text-pink-700 transition",children:[d.jsx(Hx,{size:20})," Ver ms en Instagram"]})})]})})},rR=()=>{const[r,e]=L.useState(!1),n=L.useRef(null);return L.useEffect(()=>{n.current&&n.current.play().catch(s=>{console.log("El navegador bloque el autoplay (normal en mviles/ahorro de batera):",s)})},[]),d.jsxs("div",{className:"flex flex-col w-full bg-slate-50 relative overflow-hidden pt-20",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cadena-pink/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none z-0"}),d.jsx("div",{className:"absolute top-[800px] left-0 w-[600px] h-[600px] bg-cadena-blue/20 rounded-full blur-3xl -translate-x-1/2 pointer-events-none z-0"}),d.jsx("div",{className:"absolute bottom-0 right-0 w-[700px] h-[700px] bg-blue-200/30 rounded-full blur-3xl translate-y-1/4 pointer-events-none z-0"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{id:"inicio",className:"relative h-[600px] flex items-center scroll-mt-24 overflow-hidden bg-gray-900",children:[d.jsx("img",{src:HN,alt:"Fondo Mudanzas Cadena",className:"absolute inset-0 w-full h-full object-cover z-0 opacity-80"}),d.jsx("video",{ref:n,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onPlay:()=>e(!0),className:`absolute inset-0 z-10 w-full h-full object-cover transition-opacity duration-700 ${r?"opacity-100":"opacity-0"}`,children:d.jsx("source",{src:FN,type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-black/60 z-20"}),d.jsxs("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left",children:[d.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-cadena-pink/90 backdrop-blur-sm text-white text-sm font-bold mb-4 tracking-wider border border-white/20 shadow-lg animate-fade-in",children:"MUDANZAS Y FLETES NACIONALES"}),d.jsxs("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-6 drop-shadow-lg",children:["Tu patrimonio en las ",d.jsx("br",{}),d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-pink-200",children:"mejores manos"})]}),d.jsx("p",{className:"text-xl text-gray-100 mb-8 max-w-2xl drop-shadow-md",children:"Hacemos de tu mudanza algo fcil y sencillo. Ms de 60 aos cuidando lo que ms te importa."}),d.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 justify-center sm:justify-start",children:[d.jsxs(Hn,{to:"/cotizar",className:"px-6 py-4 bg-cadena-pink hover:bg-pink-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-pink-500/50 flex items-center justify-center gap-2",children:[d.jsx(hd,{size:20})," Cotizar en Lnea"]}),d.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"px-6 py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-500/50 flex items-center justify-center gap-2",children:[d.jsx($p,{size:20})," WhatsApp"]}),d.jsxs(Hn,{to:"/rastreo",className:"px-6 py-4 bg-white/10 backdrop-blur-md border border-white/30 hover:bg-white/20 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 shadow-lg",children:[d.jsx(mr,{size:20})," Rastrear"]})]})]})]}),d.jsx("div",{className:"py-16",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[{icon:d.jsx(SN,{size:32}),title:"Seguridad Total",text:"Rastreo 24/7 y seguro con CHUBB.",color:"text-cadena-blue"},{icon:d.jsx(Hp,{size:32}),title:"Puntualidad",text:"Llegamos cuando decimos. Disciplina pura.",color:"text-cadena-pink"},{icon:d.jsx(qS,{size:32}),title:"Trato Humano",text:"Empresa familiar. Entendemos el valor sentimental.",color:"text-purple-500"}].map((s,o)=>d.jsxs("div",{className:"p-8 rounded-3xl bg-white/40 backdrop-blur-xl border border-white/50 shadow-xl hover:-translate-y-2 transition duration-300",children:[d.jsx("div",{className:`w-16 h-16 ${s.color} bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm`,children:s.icon}),d.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:s.title}),d.jsx("p",{className:"text-gray-600 font-medium",children:s.text})]},o))})})}),d.jsx("section",{id:"servicios",className:"scroll-mt-24",children:d.jsx(t1,{})}),d.jsx("section",{id:"galeria",children:d.jsx(iR,{})}),d.jsx("div",{className:"py-24",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"bg-white/30 backdrop-blur-xl border border-white/60 rounded-[3rem] p-12 shadow-2xl",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-cadena-dark mb-6",children:"Nuestra Filosofa"}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-cadena-blue mb-2",children:"Misin"}),d.jsx("p",{className:"text-gray-700",children:"Hacer de tu mudanza algo fcil, cuidando tu patrimonio de principio a fin."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-cadena-pink mb-2",children:"Visin"}),d.jsx("p",{className:"text-gray-700",children:"Llegar a cada rincn de la Repblica Mexicana con la misma eficiencia."})]})]}),d.jsx("div",{className:"h-64 bg-gradient-to-br from-cadena-blue to-purple-900 rounded-3xl shadow-inner flex items-center justify-center text-white p-8 text-center border border-white/20",children:d.jsxs("div",{children:[d.jsx("span",{className:"text-6xl font-black block mb-2 drop-shadow-lg",children:"+60"}),d.jsx("span",{className:"text-xl font-medium tracking-widest uppercase",children:"Aos de experiencia"})]})})]})})})})]})]})},sR=()=>{};var j_={};const n1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(S=64)),s.push(n[x],n[E],n[S],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new oR;const S=c<<2|p>>4;if(s.push(S),y!==64){const M=p<<4&240|y>>2;if(s.push(M),E!==64){const $=y<<6&192|E;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(r){const e=n1(r);return i1.encodeByteArray(e,!0)},Uh=function(r){return lR(r).replace(/\./g,"")},r1=function(r){try{return i1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uR=()=>cR().__FIREBASE_DEFAULTS__,hR=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&r1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return sR()||uR()||hR()||dR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s1=r=>gd()?.emulatorHosts?.[r],a1=r=>{const e=s1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},o1=()=>gd()?.config,l1=r=>gd()?.[`_${r}`];class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function bs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kp(r){return(await fetch(r,{credentials:"include"})).ok}function c1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(h)),""].join(".")}const tc={};function mR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tc))tc[e]?r.emulator.push(e):r.prod.push(e);return r}function pR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let k_=!1;function Qp(r,e){if(typeof window>"u"||typeof document>"u"||!bs(window.location.host)||tc[r]===e||tc[r]||k_)return;tc[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=mR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{k_=!0,h()},S}function x(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=pR(s),M=n("text"),$=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;p(re),x(q,G);const pe=y();g(ee,ne),re.append(ee,$,q,pe),document.body.appendChild(re)}c?($.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function yR(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ER(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function wR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const AR="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AR,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?SR(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,p,s)}}function SR(r,e){return r.replace(NR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;function RR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(D_(c)&&D_(h)){if(!aa(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}function Sc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function CR(r,e){const n=new IR(r,e);return n.subscribe.bind(n)}class IR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Km(){}function ht(r){return r&&r._delegate?r._delegate:r}class ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class kR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(r){return r===na?void 0:r}function OR(r){return r.instantiationMode==="EAGER"}class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const VR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},PR=Pe.INFO,LR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},UR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const zR=(r,e)=>e.some(n=>r instanceof n);let O_,M_;function BR(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,cp=new WeakMap,h1=new WeakMap,Qm=new WeakMap,Xp=new WeakMap;function FR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ss(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,r)}).catch(()=>{}),Xp.set(e,r),e}function HR(r){if(cp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});cp.set(r,e)}let up={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return cp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GR(r){up=r(up)}function $R(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ym(this),e,...n);return h1.set(s,e.sort?e.sort():[e]),ss(s)}:qR().includes(r)?function(...e){return r.apply(Ym(this),e),ss(u1.get(this))}:function(...e){return ss(r.apply(Ym(this),e))}}function KR(r){return typeof r=="function"?$R(r):(r instanceof IDBTransaction&&HR(r),zR(r,BR())?new Proxy(r,up):r)}function ss(r){if(r instanceof IDBRequest)return FR(r);if(Qm.has(r))return Qm.get(r);const e=KR(r);return e!==r&&(Qm.set(r,e),Xp.set(e,r)),e}const Ym=r=>Xp.get(r);function QR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),p=ss(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ss(h.result),g.oldVersion,g.newVersion,ss(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const YR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],Xm=new Map;function V_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=XR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YR.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Xm.set(e,c),c}GR(r=>({...r,get:(e,n,s)=>V_(e,n)||r.get(e,n,s),has:(e,n)=>!!V_(e,n)||r.has(e,n)}));class JR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WR(r){return r.getComponent()?.type==="VERSION"}const hp="@firebase/app",P_="0.14.7";const pr=new Yp("@firebase/app"),ZR="@firebase/app-compat",eC="@firebase/analytics-compat",tC="@firebase/analytics",nC="@firebase/app-check-compat",iC="@firebase/app-check",rC="@firebase/auth",sC="@firebase/auth-compat",aC="@firebase/database",oC="@firebase/data-connect",lC="@firebase/database-compat",cC="@firebase/functions",uC="@firebase/functions-compat",hC="@firebase/installations",dC="@firebase/installations-compat",fC="@firebase/messaging",mC="@firebase/messaging-compat",pC="@firebase/performance",gC="@firebase/performance-compat",yC="@firebase/remote-config",vC="@firebase/remote-config-compat",_C="@firebase/storage",bC="@firebase/storage-compat",xC="@firebase/firestore",EC="@firebase/ai",TC="@firebase/firestore-compat",wC="firebase",AC="12.8.0";const dp="[DEFAULT]",SC={[hp]:"fire-core",[ZR]:"fire-core-compat",[tC]:"fire-analytics",[eC]:"fire-analytics-compat",[iC]:"fire-app-check",[nC]:"fire-app-check-compat",[rC]:"fire-auth",[sC]:"fire-auth-compat",[aC]:"fire-rtdb",[oC]:"fire-data-connect",[lC]:"fire-rtdb-compat",[cC]:"fire-fn",[uC]:"fire-fn-compat",[hC]:"fire-iid",[dC]:"fire-iid-compat",[fC]:"fire-fcm",[mC]:"fire-fcm-compat",[pC]:"fire-perf",[gC]:"fire-perf-compat",[yC]:"fire-rc",[vC]:"fire-rc-compat",[_C]:"fire-gcs",[bC]:"fire-gcs-compat",[xC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[wC]:"fire-js-all"};const zh=new Map,NC=new Map,fp=new Map;function L_(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oa(r){const e=r.name;if(fp.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,r);for(const n of zh.values())L_(n,r);for(const n of NC.values())L_(n,r);return!0}function yd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Fn(r){return r==null?!1:r.settings!==void 0}const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Ac("app","Firebase",RC);class CC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const ma=AC;function d1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:dp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=o1()),!n)throw as.create("no-options");const c=zh.get(o);if(c){if(aa(n,c.options)&&aa(s,c.config))return c;throw as.create("duplicate-app",{appName:o})}const h=new MR(o);for(const g of fp.values())h.addComponent(g);const p=new CC(n,s,h);return zh.set(o,p),p}function Jp(r=dp){const e=zh.get(r);if(!e&&r===dp&&o1())return d1();if(!e)throw as.create("no-app",{appName:r});return e}function Pi(r,e,n){let s=SC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(h.join(" "));return}oa(new ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IC="firebase-heartbeat-database",jC=1,uc="firebase-heartbeat-store";let Jm=null;function f1(){return Jm||(Jm=QR(IC,jC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function kC(r){try{const n=(await f1()).transaction(uc),s=await n.objectStore(uc).get(m1(r));return await n.done,s}catch(e){if(e instanceof Hi)pr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function U_(r,e){try{const s=(await f1()).transaction(uc,"readwrite");await s.objectStore(uc).put(e,m1(r)),await s.done}catch(n){if(n instanceof Hi)pr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function m1(r){return`${r.name}!${r.options.appId}`}const DC=1024,OC=30;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OC){const o=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z_(),{heartbeatsToSend:n,unsentEntries:s}=VC(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function z_(){return new Date().toISOString().substring(0,10)}function VC(r,e=DC){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),B_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),B_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?wR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function B_(r){return Uh(JSON.stringify({version:2,heartbeats:r})).length}function LC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function UC(r){oa(new ds("platform-logger",e=>new JR(e),"PRIVATE")),oa(new ds("heartbeat",e=>new MC(e),"PRIVATE")),Pi(hp,P_,r),Pi(hp,P_,"esm2020"),Pi("fire-js","")}UC("");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,p1;(function(){var r;function e(T,N){function R(){}R.prototype=N.prototype,T.F=N.prototype,T.prototype=new R,T.prototype.constructor=T,T.D=function(j,k,P){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return N.prototype[k].apply(j,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,N,R){R||(R=0);const j=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)j[k]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(k=0;k<16;++k)j[k]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=T.g[0],R=T.g[1],k=T.g[2];let P=T.g[3],C;C=N+(P^R&(k^P))+j[0]+3614090360&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+j[1]+3905402710&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+j[2]+606105819&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+j[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+j[4]+4118548399&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+j[5]+1200080426&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+j[6]+2821735955&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+j[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+j[8]+1770035416&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+j[9]+2336552879&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+j[10]+4294925233&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+j[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(P^R&(k^P))+j[12]+1804603682&4294967295,N=R+(C<<7&4294967295|C>>>25),C=P+(k^N&(R^k))+j[13]+4254626195&4294967295,P=N+(C<<12&4294967295|C>>>20),C=k+(R^P&(N^R))+j[14]+2792965006&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(N^k&(P^N))+j[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=N+(k^P&(R^k))+j[1]+4129170786&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+j[6]+3225465664&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+j[11]+643717713&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+j[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+j[5]+3593408605&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+j[10]+38016083&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+j[15]+3634488961&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+j[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+j[9]+568446438&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+j[14]+3275163606&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+j[3]+4107603335&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+j[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(k^P&(R^k))+j[13]+2850285829&4294967295,N=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(N^R))+j[2]+4243563512&4294967295,P=N+(C<<9&4294967295|C>>>23),C=k+(N^R&(P^N))+j[7]+1735328473&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^N&(k^P))+j[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=N+(R^k^P)+j[5]+4294588738&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+j[8]+2272392833&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+j[11]+1839030562&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+j[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+j[1]+2763975236&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+j[4]+1272893353&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+j[7]+4139469664&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+j[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+j[13]+681279174&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+j[0]+3936430074&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+j[3]+3572445317&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+j[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(R^k^P)+j[9]+3654602809&4294967295,N=R+(C<<4&4294967295|C>>>28),C=P+(N^R^k)+j[12]+3873151461&4294967295,P=N+(C<<11&4294967295|C>>>21),C=k+(P^N^R)+j[15]+530742520&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^N)+j[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=N+(k^(R|~P))+j[0]+4096336452&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+j[7]+1126891415&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+j[14]+2878612391&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+j[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+j[12]+1700485571&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+j[3]+2399980690&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+j[10]+4293915773&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+j[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+j[8]+1873313359&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+j[15]+4264355552&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+j[6]+2734768916&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+j[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=N+(k^(R|~P))+j[4]+4149444226&4294967295,N=R+(C<<6&4294967295|C>>>26),C=P+(R^(N|~k))+j[11]+3174756917&4294967295,P=N+(C<<10&4294967295|C>>>22),C=k+(N^(P|~R))+j[2]+718787259&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~N))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+P&4294967295}s.prototype.v=function(T,N){N===void 0&&(N=T.length);const R=N-this.blockSize,j=this.C;let k=this.h,P=0;for(;P<N;){if(k==0)for(;P<=R;)o(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<N;)if(j[k++]=T.charCodeAt(P++),k==this.blockSize){o(this,j),k=0;break}}else for(;P<N;)if(j[k++]=T[P++],k==this.blockSize){o(this,j),k=0;break}}this.h=k,this.o+=N},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;N=this.o*8;for(var R=T.length-8;R<T.length;++R)T[R]=N&255,N/=256;for(this.v(T),T=Array(16),N=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)T[N++]=this.g[R]>>>j&255;return T};function c(T,N){var R=p;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=N(T)}function h(T,N){this.h=N;const R=[];let j=!0;for(let k=T.length-1;k>=0;k--){const P=T[k]|0;j&&P==N||(R[k]=P,j=!1)}this.g=R}var p={};function g(T){return-128<=T&&T<128?c(T,function(N){return new h([N|0],N<0?-1:0)}):new h([T|0],T<0?-1:0)}function y(T){if(isNaN(T)||!isFinite(T))return E;if(T<0)return q(y(-T));const N=[];let R=1;for(let j=0;T>=R;j++)N[j]=T/R|0,R*=4294967296;return new h(N,0)}function x(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return q(x(T.substring(1),N));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(N,8));let j=E;for(let P=0;P<T.length;P+=8){var k=Math.min(8,T.length-P);const C=parseInt(T.substring(P,P+k),N);k<8?(k=y(Math.pow(N,k)),j=j.j(k).add(y(C))):(j=j.j(R),j=j.add(y(C)))}return j}var E=g(0),S=g(1),M=g(16777216);r=h.prototype,r.m=function(){if(G(this))return-q(this).m();let T=0,N=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);T+=(j>=0?j:4294967296+j)*N,N*=4294967296}return T},r.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if($(this))return"0";if(G(this))return"-"+q(this).toString(T);const N=y(Math.pow(T,6));var R=this;let j="";for(;;){const k=pe(R,N).g;R=ne(R,k.j(N));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(T);if(R=k,$(R))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},r.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function $(T){if(T.h!=0)return!1;for(let N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function G(T){return T.h==-1}r.l=function(T){return T=ne(this,T),G(T)?-1:$(T)?0:1};function q(T){const N=T.g.length,R=[];for(let j=0;j<N;j++)R[j]=~T.g[j];return new h(R,~T.h).add(S)}r.abs=function(){return G(this)?q(this):this},r.add=function(T){const N=Math.max(this.g.length,T.g.length),R=[];let j=0;for(let k=0;k<=N;k++){let P=j+(this.i(k)&65535)+(T.i(k)&65535),C=(P>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);j=C>>>16,P&=65535,C&=65535,R[k]=C<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ne(T,N){return T.add(q(N))}r.j=function(T){if($(this)||$(T))return E;if(G(this))return G(T)?q(this).j(q(T)):q(q(this).j(T));if(G(T))return q(this.j(q(T)));if(this.l(M)<0&&T.l(M)<0)return y(this.m()*T.m());const N=this.g.length+T.g.length,R=[];for(var j=0;j<2*N;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let k=0;k<T.g.length;k++){const P=this.i(j)>>>16,C=this.i(j)&65535,He=T.i(k)>>>16,ye=T.i(k)&65535;R[2*j+2*k]+=C*ye,ee(R,2*j+2*k),R[2*j+2*k+1]+=P*ye,ee(R,2*j+2*k+1),R[2*j+2*k+1]+=C*He,ee(R,2*j+2*k+1),R[2*j+2*k+2]+=P*He,ee(R,2*j+2*k+2)}for(T=0;T<N;T++)R[T]=R[2*T+1]<<16|R[2*T];for(T=N;T<2*N;T++)R[T]=0;return new h(R,0)};function ee(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function re(T,N){this.g=T,this.h=N}function pe(T,N){if($(N))throw Error("division by zero");if($(T))return new re(E,E);if(G(T))return N=pe(q(T),N),new re(q(N.g),q(N.h));if(G(N))return N=pe(T,q(N)),new re(q(N.g),N.h);if(T.g.length>30){if(G(T)||G(N))throw Error("slowDivide_ only works with positive integers.");for(var R=S,j=N;j.l(T)<=0;)R=de(R),j=de(j);var k=ge(R,1),P=ge(j,1);for(j=ge(j,2),R=ge(R,2);!$(j);){var C=P.add(j);C.l(T)<=0&&(k=k.add(R),P=C),j=ge(j,1),R=ge(R,1)}return N=ne(T,k.j(N)),new re(k,N)}for(k=E;T.l(N)>=0;){for(R=Math.max(1,Math.floor(T.m()/N.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=y(R),C=P.j(N);G(C)||C.l(T)>0;)R-=j,P=y(R),C=P.j(N);$(P)&&(P=S),k=k.add(P),T=ne(T,C)}return new re(k,T)}r.B=function(T){return pe(this,T).h},r.and=function(T){const N=Math.max(this.g.length,T.g.length),R=[];for(let j=0;j<N;j++)R[j]=this.i(j)&T.i(j);return new h(R,this.h&T.h)},r.or=function(T){const N=Math.max(this.g.length,T.g.length),R=[];for(let j=0;j<N;j++)R[j]=this.i(j)|T.i(j);return new h(R,this.h|T.h)},r.xor=function(T){const N=Math.max(this.g.length,T.g.length),R=[];for(let j=0;j<N;j++)R[j]=this.i(j)^T.i(j);return new h(R,this.h^T.h)};function de(T){const N=T.g.length+1,R=[];for(let j=0;j<N;j++)R[j]=T.i(j)<<1|T.i(j-1)>>>31;return new h(R,T.h)}function ge(T,N){const R=N>>5;N%=32;const j=T.g.length-R,k=[];for(let P=0;P<j;P++)k[P]=N>0?T.i(P+R)>>>N|T.i(P+R+1)<<32-N:T.i(P+R);return new h(k,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,p1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,os=h}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var g1,Jl,y1,Nh,mp,v1,_1,b1;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in b))break e;b=b[U]}u=u[u.length-1],A=b[u],v=v(A),v!=A&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&b.push([A,v[A]]);return b}});var c=c||{},h=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function E(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,U,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return v.prototype[U].apply(A,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const v=u.length;if(v>0){const b=Array(v);for(let A=0;A<v;A++)b[A]=u[A];return b}return[]}function $(u,v){for(let A=1;A<arguments.length;A++){const U=arguments[A];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const K=U.length||0;u.length=b+K;for(let se=0;se<K;se++)u[b+se]=U[se]}else u.push(U)}}class G{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(u){h.setTimeout(()=>{throw u},0)}function ne(){var u=T;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,b){const A=re.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new G(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,T=new ee,N=()=>{const u=Promise.resolve(void 0);de=()=>{u.then(R)}};function R(){for(var u;u=ne();){try{u.h.call(u.g)}catch(b){q(b)}var v=re;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ge=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function He(u,v){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(He,k),He.prototype.init=function(u,v){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,v,b,A,U){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=U,this.key=++F,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u,v,b){for(const A in u)v.call(b,u[A],A,u)}function Oe(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function O(u){const v={};for(const b in u)v[b]=u[b];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,v){let b,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(b in A)u[b]=A[b];for(let K=0;K<W.length;K++)b=W[K],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,v,b,A,U){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const se=Ie(u,v,A,U);return se>-1?(v=u[se],b||(v.fa=!1)):(v=new ie(v,this.src,K,!!A,U),v.fa=b,u.push(v)),v};function we(u,v){const b=v.type;if(b in u.g){var A=u.g[b],U=Array.prototype.indexOf.call(A,v,void 0),K;(K=U>=0)&&Array.prototype.splice.call(A,U,1),K&&(he(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ie(u,v,b,A){for(let U=0;U<u.length;++U){const K=u[U];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==A)return U}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(u,v,b,A,U){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ot(u,v[K],b,A,U);return null}return b=zo(b),u&&u[ye]?u.J(v,b,p(A)?!!A.capture:!1,U):As(u,v,b,!1,A,U)}function As(u,v,b,A,U,K){if(!v)throw Error("Invalid event type");const se=p(U)?!!U.capture:!!U;let Re=Ss(u);if(Re||(u[Be]=Re=new ce(u)),b=Re.add(v,b,A,se,K),b.proxy)return b;if(A=va(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)P||(U=se),U===void 0&&(U=!1),u.addEventListener(v.toString(),A,U);else if(u.attachEvent)u.attachEvent(mi(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function va(){function u(b){return v.call(u.src,u.listener,b)}const v=Lo;return u}function _a(u,v,b,A,U){if(Array.isArray(v))for(var K=0;K<v.length;K++)_a(u,v[K],b,A,U);else A=p(A)?!!A.capture:!!A,b=zo(b),u&&u[ye]?(u=u.i,K=String(v).toString(),K in u.g&&(v=u.g[K],b=Ie(v,b,A,U),b>-1&&(he(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[K],u.h--)))):u&&(u=Ss(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ie(v,b,A,U)),(b=u>-1?v[u]:null)&&ba(b))}function ba(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ye])we(v.i,u);else{var b=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(b,A,u.capture):v.detachEvent?v.detachEvent(mi(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=Ss(v))?(we(b,u),b.h==0&&(b.src=null,v[Be]=null)):he(u)}}}function mi(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Lo(u,v){if(u.da)u=!0;else{v=new He(v,this);const b=u.listener,A=u.ha||u.src;u.fa&&ba(u),u=b.call(A,v)}return u}function Ss(u){return u=u[Be],u instanceof ce?u:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(u){return typeof u=="function"?u:(u[Uo]||(u[Uo]=function(v){return u.handleEvent(v)}),u[Uo])}function xt(){j.call(this),this.i=new ce(this),this.M=this,this.G=null}E(xt,j),xt.prototype[ye]=!0,xt.prototype.removeEventListener=function(u,v,b,A){_a(this,u,v,b,A)};function Ot(u,v){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new k(v,u);else if(v instanceof k)v.target=v.target||u;else{var U=v;v=new k(A,u),oe(v,U)}U=!0;let K,se;if(b)for(se=b.length-1;se>=0;se--)K=v.g=b[se],U=br(K,A,!0,v)&&U;if(K=v.g=u,U=br(K,A,!0,v)&&U,U=br(K,A,!1,v)&&U,b)for(se=0;se<b.length;se++)K=v.g=b[se],U=br(K,A,!1,v)&&U}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let A=0;A<b.length;A++)he(b[A]);delete u.g[v],u.h--}}this.G=null},xt.prototype.J=function(u,v,b,A){return this.i.add(String(u),v,!1,b,A)},xt.prototype.K=function(u,v,b,A){return this.i.add(String(u),v,!0,b,A)};function br(u,v,b,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let K=0;K<v.length;++K){const se=v[K];if(se&&!se.da&&se.capture==b){const Re=se.listener,yt=se.ha||se.src;se.fa&&we(u.i,se),U=Re.call(yt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ud(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function Uc(u){u.g=Ud(()=>{u.g=null,u.i&&(u.i=!1,Uc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class sn extends j{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(u){j.call(this),this.h=u,this.g={}}E(Ns,j);var Bo=[];function qo(u){Se(u.g,function(v,b){this.g.hasOwnProperty(b)&&ba(v)},u),u.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),qo(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,zd=h.JSON.parse,zc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bc(){}function qc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){k.call(this,"d")}E(qt,k);function In(){k.call(this,"c")}E(In,k);var gt={},Fc=null;function xa(){return Fc=Fc||new xt}gt.Ia="serverreachability";function Hc(u){k.call(this,gt.Ia,u)}E(Hc,k);function pi(u){const v=xa();Ot(v,new Hc(v))}gt.STAT_EVENT="statevent";function Rs(u,v){k.call(this,gt.STAT_EVENT,u),this.stat=v}E(Rs,k);function Et(u){const v=xa();Ot(v,new Rs(v,u))}gt.Ja="timingevent";function gi(u,v){k.call(this,gt.Ja,u),this.size=v}E(gi,k);function yi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Bd(u,v,b,A,U,K){u.info(function(){if(u.g)if(K){var se="",Re=K.split("&");for(let Ke=0;Ke<Re.length;Ke++){var yt=Re[Ke].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const On=lt.split("_");se=On.length>=2&&On[1]=="type"?se+(lt+"="+yt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+v+`
`+b+`
`+se})}function Gc(u,v,b,A,U,K,se){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+v+`
`+b+`
`+K+" "+se})}function vi(u,v,b,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+qd(u,b)+(A?" "+A:"")})}function Cs(u,v){u.info(function(){return"TIMEOUT: "+v})}Xn.prototype.info=function(){};function qd(u,v){if(!u.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return xr(K)}catch{return v}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function js(){}E(js,Bc),js.prototype.g=function(){return new XMLHttpRequest},Ho=new js;function Gi(u){return encodeURIComponent(String(u))}function $c(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function Jn(u,v,b,A){this.j=u,this.i=v,this.l=b,this.S=A||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function _i(u,v,b){u.M=1,u.A=ks(At(v)),u.u=b,u.R=!0,Ea(u,null)}function Ea(u,v){u.F=Date.now(),bi(u),u.B=At(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Sa(b.i,"t",A),u.C=0,b=u.j.L,u.h=new Wn,u.g=ou(u.j,b?v:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Bo[0]=U.toString()),U=Bo);for(let K=0;K<U.length;K++){const se=ot(b,U[K],A||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),pi(),Bd(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const v=this.O;v&&ti(u)==3?v.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=ti(this.g),yt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Re!=4||yt==7||(yt==8||Ke<=0?pi(3):pi(2)),xi(this);var v=this.g.ca();this.X=v;var b=Fd(this);if(this.o=v==200,Gc(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var K=A;break t}}K=null}if(u=K)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Et(12),vn(this),jn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Qc(this,b),lt==Pt){Re==4&&(this.m=4,Et(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),vi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,lt,null),Ei(this,lt);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,b,"[Invalid Chunked Response]"),vn(this),jn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),sl(se),se.P=!0,Et(11))}}else vi(this.i,this.l,b,null),Ei(this,b);Re==4&&vn(this),this.o&&!this.K&&(Re==4?iu(this.j,this):(this.o=!1,bi(this)))}else Ki(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),vn(this),jn(this)}}}catch{}};function Fd(u){if(!Kc(u))return u.g.la();const v=Ft(u.g);if(v==="")return"";let b="";const A=v.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),jn(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<A;K++)u.h.h=!0,b+=u.h.i.decode(v[K],{stream:!(U&&K==A-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function Kc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qc(u,v){var b=u.C,A=v.indexOf(`
`,b);return A==-1?Pt:(b=Number(v.substring(b,A)),isNaN(b)?Tt:(A+=1,A+b>v.length?Pt:(v=v.slice(A,A+b),u.C=A+b,v)))}Jn.prototype.cancel=function(){this.K=!0,vn(this)};function bi(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),v)}function xi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(pi(),Et(17)),vn(this),this.m=2,jn(this)):Ta(this,this.T-u)};function jn(u){u.j.I==0||u.K||iu(u.j,u)}function vn(u){xi(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,qo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ei(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ja(b),Cr(b);else break e;Us(b),Et(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(y(b.Va,b),6e3));Ti(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((u.L||b.g==u)&&ja(b),!C(v))for(U=b.Ba.g.parse(v),v=0;v<U.length;v++){let Ke=U[v];const lt=Ke[0];if(!(lt<=b.K))if(b.K=lt,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const On=Ke[3];On!=null&&(b.ka=On,b.j.info("VER="+b.ka));const ji=Ke[4];ji!=null&&(b.za=ji,b.j.info("SVER="+b.za));const ni=Ke[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ii=u.g;if(ii){const zs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var K=A.h;K.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ko(K,K.h),K.h=null))}if(A.G){const ka=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,Ye(A.J,A.G,ka))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var se=u;if(A.na=au(A,A.L?A.ba:null,A.W),se.L){Qo(A.h,se);var Re=se,yt=A.O;yt&&(Re.H=yt),Re.D&&(xi(Re),bi(Re)),A.g=se}else tu(A);b.i.length>0&&Ci(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Ii(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ii(b,7):il(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}pi(4)}catch{}}var wt=class{constructor(u,v){this.g=u,this.map=v}};function Go(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function wi(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ko(u,v){u.g?u.g.add(v):u.h=v}function Qo(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Go.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return M(u.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let U,K=null;A>=0?(U=u[b].substring(0,A),K=u[b].substring(A+1)):U=u[b],v(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof _n?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Er(this,u.u),this.h=u.h,Xo(this,Zc(u.i)),this.m=u.m):u&&(v=String(u).match(Yc))?(this.l=!1,Lt(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),Er(this,v[4]),this.h=Ai(v[5]||"",!0),Xo(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}_n.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ds(v,Aa,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ds(v,Aa,!0),"@"),u.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ds(b,b.charAt(0)=="/"?Jo:Xc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ds(b,Jc)),u.join("")},_n.prototype.resolve=function(u){const v=At(this);let b=!!u.j;b?Lt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var A=u.h;if(b)Er(v,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=v.h.lastIndexOf("/");U!=-1&&(A=v.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let se=0;se<U.length;){const Re=U[se++];Re=="."?A&&se==U.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==U.length&&K.push("")):(K.push(Re),A=!0)}A=K.join("/")}else A=U}return b?v.h=A:b=u.i.toString()!=="",b?Xo(v,Zc(u.i)):b=!!u.m,b&&(v.m=u.m),v};function At(u){return new _n(u)}function Lt(u,v,b){u.j=b?Ai(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Er(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Xo(u,v,b){v instanceof wr?(u.i=v,Na(u.i,u.l)):(b||(v=Ds(v,Tr)),u.i=new wr(v,u.l))}function Ye(u,v,b){u.i.set(v,b)}function ks(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ds(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,un),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,Xc=/[#\?:]/g,Jo=/[#\?]/g,Tr=/[#\?@]/g,Jc=/#/g;function wr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=wr.prototype,r.add=function(u,v){hn(this),this.i=null,u=Ar(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Wc(u,v){hn(u),v=Ar(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Wo(u,v){return hn(u),v=Ar(u,v),u.g.has(v)}r.forEach=function(u,v){hn(this),this.g.forEach(function(b,A){b.forEach(function(U){u.call(v,U,A,this)},this)},this)};function Zo(u,v){hn(u);let b=[];if(typeof v=="string")Wo(u,v)&&(b=b.concat(u.g.get(Ar(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return hn(this),this.i=null,u=Ar(this,u),Wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Zo(this,u),u.length>0?String(u[0]):v):v};function Sa(u,v,b){Wc(u,v),b.length>0&&(u.i=null,u.g.set(Ar(u,v),M(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var b=v[A];const U=Gi(b);b=Zo(this,b);for(let K=0;K<b.length;K++){let se=U;b[K]!==""&&(se+="="+Gi(b[K])),u.push(se)}}return this.i=u.join("&")};function Zc(u){const v=new wr;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Ar(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Na(u,v){v&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(b,A){const U=A.toLowerCase();A!=U&&(Wc(this,A),Sa(this,U,b))},u)),u.j=v}function Zn(u,v){const b=new Xn;if(h.Image){const A=new Image;A.onload=x(kn,b,"TestLoadImage: loaded",!0,v,A),A.onerror=x(kn,b,"TestLoadImage: error",!1,v,A),A.onabort=x(kn,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(kn,b,"TestLoadImage: timeout",!1,v,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function el(u,v){const b=new Xn,A=new AbortController,U=setTimeout(()=>{A.abort(),kn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(K=>{clearTimeout(U),K.ok?kn(b,"TestPingServer: ok",!0,v):kn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),kn(b,"TestPingServer: error",!1,v)})}function kn(u,v,b,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(b)}catch{}}function Sr(){this.g=new zc}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Si,Bc),Si.prototype.g=function(){return new Os(this.i,this.h)};function Os(u,v){xt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Os,xt),r=Os.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Nr(this):ei(this),this.readyState==3&&Ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Nr(this))},r.Na=function(u){this.g&&(this.response=u,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let v="";return Se(u,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function Ms(u,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Dn(b),typeof u=="string"?b!=null&&Gi(b):Ye(u,v,b))}function We(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,xt);var Ni=/^https?$/i,tl=["POST","PUT"];r=We.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(K){Vs(this,K);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)b.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())b.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(tl,v,void 0)>=0)||A||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of b)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Vs(this,K)}};function Vs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,nl(u),$i(u)}function nl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),ti(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=K===0){let se=String(u.D).match(Yc)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),A=!Ni.test(se?se.toLowerCase():"")}b=A}if(b)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",nl(u)}}finally{$i(u)}}}}function $i(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Ot(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),zd(v)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const v={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var b=$c(u[A]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[U]||[];v[U]=K,K.push(b)}Oe(v,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Rr(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(u&&u.concurrentRequestLimit),this.Ba=new Sr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,A){Et(0),this.W=u,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=au(this,null,this.W),Ci(this)};function il(u){if(Ca(u),u.I==3){var v=u.V++,b=At(u.J);if(Ye(b,"SID",u.M),Ye(b,"RID",v),Ye(b,"TYPE","terminate"),Ls(u,b),v=new Jn(u,u.j,v),v.M=2,v.A=ks(At(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=ou(v.j,null),v.g.ea(v.A)),v.F=Date.now(),bi(v)}su(u)}function Cr(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Ca(u){Cr(u),u.v&&(h.clearTimeout(u.v),u.v=null),ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Ci(u){if(!$o(u.h)&&!u.m){u.m=!0;var v=u.Ea;de||N(),ge||(de(),ge=!0),T.add(v,u),u.D=0}}function Ia(u,v){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,v),ru(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=O(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=eu(this,U,v),b=At(this.J),Ye(b,"RID",u),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),Ls(this,b),K&&(this.R?v="headers="+Gi(Dn(K))+"&"+v:this.u&&Ms(b,this.u,K)),Ko(this.h,U),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",v),Ye(b,"SID","null"),U.U=!0,_i(U,b,null)):_i(U,b,v),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||$o(this.h)||rl(this))};function rl(u,v){var b;v?b=v.l:b=u.V++;const A=At(u.J);Ye(A,"SID",u.M),Ye(A,"RID",b),Ye(A,"AID",u.K),Ls(u,A),u.u&&u.o&&Ms(A,u.u,u.o),b=new Jn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=eu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ko(u.h,b),_i(b,A,v)}function Ls(u,v){u.H&&Se(u.H,function(b,A){Ye(v,A,b)}),u.l&&Se({},function(b,A){Ye(v,A,b)})}function eu(u,v,b){b=Math.min(u.i.length,b);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Re=-1;for(;;){const yt=["count="+b];Re==-1?b>0?(Re=U[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Ke=!0;for(let lt=0;lt<b;lt++){var K=U[lt].g;const On=U[lt].map;if(K-=Re,K<0)Re=Math.max(0,U[lt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var se=On instanceof Map?On:Object.entries(On);for(const[ji,ni]of se){let ii=ni;p(ni)&&(ii=xr(ni)),yt.push(K+ji+"="+encodeURIComponent(ii))}}catch(ji){throw yt.push(K+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(On)}}if(Ke){se=yt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),v.G=u,se}function tu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;de||N(),ge||(de(),ge=!0),T.add(v,u),u.A=0}}function Us(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),ru(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Cr(this),nu(this))};function sl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=At(u.na);Ye(v,"RID","rpc"),Ye(v,"SID",u.M),Ye(v,"AID",u.K),Ye(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(v,"TO",u.ia),Ye(v,"TYPE","xmlhttp"),Ls(u,v),u.u&&u.o&&Ms(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ks(At(v)),b.u=null,b.R=!0,Ea(b,u)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Us(this),Et(19))};function ja(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function iu(u,v){var b=null;if(u.g==v){ja(u),sl(u),u.g=null;var A=2}else if(wi(u.h,v))b=v.G,Qo(u.h,v),A=1;else return;if(u.I!=0){if(v.o)if(A==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var U=u.D;A=xa(),Ot(A,new gi(A,b)),Ci(u)}else tu(u);else if(U=v.m,U==3||U==0&&v.X>0||!(A==1&&Ia(u,v)||A==2&&Us(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),U){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function ru(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Ii(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),A=u.Ua;const U=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(A,"https"),ks(A),U?Zn(A.toString(),b):el(A.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(v),su(u),Ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function su(u){if(u.I=0,u.ja=[],u.l){const v=Yo(u.h);(v.length!=0||u.i.length!=0)&&($(u.ja,v),$(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function au(u,v,b){var A=b instanceof _n?At(b):new _n(b);if(A.g!="")v&&(A.g=v+"."+A.g),Er(A,A.u);else{var U=h.location;A=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const K=new _n(null);A&&Lt(K,A),v&&(K.g=v),U&&Er(K,U),b&&(K.h=b),A=K}return b=u.G,v=u.wa,b&&v&&Ye(A,b,v),Ye(A,"VER",u.ka),Ls(u,A),A}function ou(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new We(new Si({ab:b})):new We(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(u,v){return new an(u,v)};function an(u,v){xt.call(this),this.g=new Rr(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Qi(this)}E(an,xt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){il(this.g)},an.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=xr(u),u=b);v.i.push(new wt(v.Ya++,u)),v.I==3&&Ci(v)},an.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,an.Z.N.call(this)};function cu(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(cu,qt);function uu(){In.call(this),this.status=1}E(uu,In);function Qi(u){this.g=u}E(Qi,lu),Qi.prototype.ra=function(){Ot(this.g,"a")},Qi.prototype.qa=function(u){Ot(this.g,new cu(u))},Qi.prototype.pa=function(u){Ot(this.g,new uu)},Qi.prototype.oa=function(){Ot(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,b1=function(){return new Ir},_1=function(){return xa()},v1=gt,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Nh=Is,Fo.COMPLETE="complete",y1=Fo,qc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Jl=qc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,g1=We}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let jo="12.8.0";function zC(r){jo=r}const la=new Yp("@firebase/firestore");function lo(){return la.logLevel}function le(r,...e){if(la.logLevel<=Pe.DEBUG){const n=e.map(Wp);la.debug(`Firestore (${jo}): ${r}`,...n)}}function gr(r,...e){if(la.logLevel<=Pe.ERROR){const n=e.map(Wp);la.error(`Firestore (${jo}): ${r}`,...n)}}function To(r,...e){if(la.logLevel<=Pe.WARN){const n=e.map(Wp);la.warn(`Firestore (${jo}): ${r}`,...n)}}function Wp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,x1(r,s,n)}function x1(r,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||x1(e,o,s)}function Ae(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Li,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Li)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new E1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class HC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function pp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Wm(o)===Wm(c)?Le(o,c):Wm(o)?1:-1}return Le(r.length,e.length)}const QC=55296,YC=57343;function Wm(r){const e=r.charCodeAt(0);return e>=QC&&e<=YC}function wo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const H_="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Vi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class nt extends Vi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Yt([H_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}function T1(r,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function JC(r,e,n,s){if(e===!0&&s===!0)throw new ae(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function G_(r){if(!ve.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){if(ve.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function $n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(r);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nc(r,e){if(!w1(r))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ae(X.INVALID_ARGUMENT,n);return!0}const K_=-62135596800,Q_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Q_);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K_)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:kt("string",at._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hc=-1;function WC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new fs(o,ve.empty(),e)}function ZC(r){return new fs(r.readTime,r.key,hc)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Ee.min(),ve.empty(),hc)}static max(){return new fs(Ee.max(),ve.empty(),hc)}}function eI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==tI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new te(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function iI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class _d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;const eg=-1;function Rc(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function rI(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const A1="";function sI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Y_(e)),e=aI(r.get(n),e);return Y_(e)}function aI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case A1:n+="";break;default:n+=c}}return n}function Y_(r){return r+A1+""}function X_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function S1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N1("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const oI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=oI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const R1="server_timestamp",C1="__type__",I1="__previous_value__",j1="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[C1]?.stringValue===R1}function bd(r){const e=r.mapValue.fields[I1];return tg(e)?bd(e):e}function dc(r){const e=ms(r.mapValue.fields[j1].timestampValue);return new at(e.seconds,e.nanos)}class lI{constructor(e,n,s,o,c,h,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const qh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function cI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(r.options.projectId,e)}const k1="__type__",uI="__max__",yh={mapValue:{}},D1="__vector__",Fh="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:dI(r)?9007199254740991:hI(r)?10:11:be(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const n=gs(r);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return dc(r).isEqual(dc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=ms(o.timestampValue),p=ms(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return ps(o.bytesValue).isEqual(ps(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),p=bt(c.doubleValue);return h===p?Bh(h)===Bh(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(X_(h)!==X_(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Fi(h[g],p[g])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function mc(r,e){return(r.values||[]).find((n=>Fi(n,e)))!==void 0}function Ao(r,e){if(r===e)return 0;const n=gs(r),s=gs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=bt(c.integerValue||c.doubleValue),g=bt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return W_(r.timestampValue,e.timestampValue);case 4:return W_(dc(r),dc(e));case 5:return pp(r.stringValue,e.stringValue);case 6:return(function(c,h){const p=ps(c),g=ps(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Le(p[y],g[y]);if(x!==0)return x}return Le(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Le(bt(c.latitude),bt(h.latitude));return p!==0?p:Le(bt(c.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Z_(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Fh]?.arrayValue,x=g[Fh]?.arrayValue,E=Le(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Z_(y,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===yh.mapValue&&h===yh.mapValue)return 0;if(c===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=pp(g[E],x[E]);if(S!==0)return S;const M=Ao(p[g[E]],y[x[E]]);if(M!==0)return M}return Le(g.length,x.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function W_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=ms(r),s=ms(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function Z_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ao(n[o],s[o]);if(c)return c}return Le(n.length,s.length)}function So(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=gp(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${gp(n.fields[h])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Rh(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Rh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xs(s.fields,((c,h)=>{o+=c.length+Rh(h)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function eb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yp(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function tb(r){return!!r&&"nullValue"in r}function nb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ch(r){return!!r&&"mapValue"in r}function hI(r){return(r?.mapValue?.fields||{})[k1]?.stringValue===D1}function nc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(r.arrayValue.values[n]);return e}return{...r}}function dI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uI}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=nc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new ln(nc(this.value))}}function O1(r){const e=[];return xs(r.fields,((n,s)=>{const o=new Yt([n]);if(Ch(s)){const c=O1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class Bt{constructor(e,n,s,o,c,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Bt(e,0,Ee.min(),Ee.min(),Ee.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Bt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ee.min(),Ee.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ee.min(),Ee.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function ib(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function rb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fi(r.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function fI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class M1{}class jt extends M1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pI(e,n,s):n==="array-contains"?new vI(e,s):n==="in"?new _I(e,s):n==="not-in"?new bI(e,s):n==="array-contains-any"?new xI(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gI(e,s):new yI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends M1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return V1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V1(r){return r.op==="and"}function P1(r){return mI(r)&&V1(r)}function mI(r){for(const e of r.filters)if(e instanceof hi)return!1;return!0}function vp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(P1(r))return r.filters.map((e=>vp(e))).join(",");{const e=r.filters.map((n=>vp(n))).join(",");return`${r.op}(${e})`}}function L1(r,e){return r instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(r,e):r instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&L1(h,o.filters[p])),!0):!1})(r,e):void be(19439)}function U1(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(r):r instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"})(r):"Filter"}class pI extends jt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class gI extends jt{constructor(e,n){super(e,"in",n),this.keys=z1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=z1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z1(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class vI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&mc(n.arrayValue,this.value)}}class _I extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class bI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class xI extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}class EI{constructor(e,n=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function sb(r,e=null,n=[],s=[],o=null,c=null,h=null){return new EI(r,e,n,s,o,c,h)}function ig(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>vp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rb(r.startAt,e.startAt)&&rb(r.endAt,e.endAt)}function _p(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TI(r,e,n,s,o,c,h,p){return new Oo(r,e,n,s,o,c,h,p)}function xd(r){return new Oo(r)}function ab(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wI(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function B1(r){return r.collectionGroup!==null}function ic(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Vt(Yt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new pc(Yt.keyField(),s))}return e.Ie}function Ui(r){const e=Ae(r);return e.Ee||(e.Ee=AI(e,ic(r))),e.Ee}function AI(r,e){if(r.limitType==="F")return sb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)}));const n=r.endAt?new Hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hh(r.startAt.position,r.startAt.inclusive):null;return sb(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function bp(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function SI(r,e){const n=r.explicitOrderBy.concat([e]);return new Oo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ed(r,e){return rg(Ui(r),Ui(e))&&r.limitType===e.limitType}function q1(r){return`${ig(Ui(r))}|lt:${r.limitType}`}function co(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>U1(o))).join(", ")}]`),Rc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function Td(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of ic(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=ib(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,ic(s),o)||s.endAt&&!(function(h,p,g){const y=ib(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,ic(s),o))})(r,e)}function NI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F1(r){return(e,n)=>{let s=!1;for(const o of ic(r)){const c=RI(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function RI(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ao(g,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}const CI=new dt(ve.comparator);function yr(){return CI}const H1=new dt(ve.comparator);function Wl(...r){let e=H1;for(const n of r)e=e.insert(n.key,n);return e}function G1(r){let e=H1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return rc()}function $1(){return rc()}function rc(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const II=new dt(ve.comparator),jI=new Vt(ve.comparator);function Ue(...r){let e=jI;for(const n of r)e=e.add(n);return e}const kI=new Vt(Le);function DI(){return kI}function sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function K1(r){return{integerValue:""+r}}function OI(r,e){return rI(e)?K1(e):sg(r,e)}class wd{constructor(){this._=void 0}}function MI(r,e,n){return r instanceof Gh?(function(o,c){const h={fields:{[C1]:{stringValue:R1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&tg(c)&&(c=bd(c)),c&&(h.fields[I1]=c),{mapValue:h}})(n,e):r instanceof gc?Y1(r,e):r instanceof yc?X1(r,e):(function(o,c){const h=Q1(o,c),p=ob(h)+ob(o.Ae);return yp(h)&&yp(o.Ae)?K1(p):sg(o.serializer,p)})(r,e)}function VI(r,e,n){return r instanceof gc?Y1(r,e):r instanceof yc?X1(r,e):n}function Q1(r,e){return r instanceof $h?(function(s){return yp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Gh extends wd{}class gc extends wd{constructor(e){super(),this.elements=e}}function Y1(r,e){const n=J1(e);for(const s of r.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yc extends wd{constructor(e){super(),this.elements=e}}function X1(r,e){let n=J1(e);for(const s of r.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class $h extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ob(r){return bt(r.integerValue||r.doubleValue)}function J1(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function PI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof gc&&o instanceof gc||s instanceof yc&&o instanceof yc?wo(s.elements,o.elements,Fi):s instanceof $h&&o instanceof $h?Fi(s.Ae,o.Ae):s instanceof Gh&&o instanceof Gh})(r.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ad{}function W1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sd(r.key,cn.none()):new Cc(r.key,r.data,cn.none());{const n=r.data,s=ln.empty();let o=new Vt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Es(r.key,s,new Rn(o.toArray()),cn.none())}}function UI(r,e,n){r instanceof Cc?(function(o,c,h){const p=o.value.clone(),g=cb(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,c,h){if(!Ih(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=cb(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Z1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function sc(r,e,n,s){return r instanceof Cc?(function(c,h,p,g){if(!Ih(c.precondition,h))return p;const y=c.value.clone(),x=ub(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(c,h,p,g){if(!Ih(c.precondition,h))return p;const y=ub(c.fieldTransforms,g,h),x=h.data;return x.setAll(Z1(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(c,h,p){return Ih(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function zI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Q1(s.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(s.field,c))}return n||null}function lb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((c,h)=>PI(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cc extends Ad{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Ad{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function cb(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,VI(h,p,n[o]))}return s}function ub(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,MI(c,h,e))}return s}class Sd extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eE extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&UI(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=W1(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,s)=>lb(n,s)))&&wo(this.baseMutations,e.baseMutations,((n,s)=>lb(n,s)))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return II})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new ag(e,n,s,o)}}class qI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,qe;function tE(r){switch(r){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function nE(r){if(r===void 0)return gr("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:r})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function HI(){return new TextEncoder}const GI=new os([4294967295,4294967295],0);function hb(r){const e=HI().encode(r),n=new p1;return n.update(e),new Uint8Array(n.digest())}function db(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new os([n,s],0),new os([o,c],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(GI)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hb(e),[s,o]=db(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new og(c,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=hb(e),[s,o]=db(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nd(Ee.min(),o,new dt(Le),yr(),Ue())}}class Ic{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ic(s,n,Ue(),Ue(),Ue())}}class jh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class iE{constructor(e,n){this.targetId=e,this.Ce=n}}class rE{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class fb{constructor(){this.ve=0,this.Fe=mb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:c})}})),new Ic(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=mb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $I{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=vh(),this.Je=vh(),this.Ze=new dt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(_p(c))if(s===0){const h=new ve(c.path);this.et(n,h,Bt.newNoDocument(h,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=ps(s).toUint8Array()}catch(g){if(g instanceof N1)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new og(h,o,c)}catch(g){return To(g instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&_p(p.target)){const g=new ve(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Bt.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Ue();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Nd(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=vh(),this.Je=vh(),this.Ze=new dt(Le),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new dt(ve.comparator)}function mb(){return new dt(ve.comparator)}const KI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YI={and:"AND",or:"OR"};class XI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(r,e){return r.useProto3Json||Rc(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JI(r,e){return Kh(r,e.toTimestamp())}function Cn(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=ms(n);return new at(s.seconds,s.nanos)})(r))}function lg(r,e){return Tp(r,e).canonicalString()}function Tp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function aE(r){const e=nt.fromString(r);return Fe(dE(e),10190,{key:e.toString()}),e}function Qh(r,e){return lg(r.databaseId,e.path)}function ac(r,e){const n=aE(e);if(n.get(1)!==r.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(lE(n))}function oE(r,e){return lg(r.databaseId,e)}function WI(r){const e=aE(r);return e.length===4?nt.emptyPath():lE(e)}function wp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lE(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pb(r,e,n){return{name:Qh(r,e),fields:n.value.mapValue.fields}}function ZI(r,e){return"found"in e?(function(s,o){Fe(!!o.found,43571),o.found.name,o.found.updateTime;const c=ac(s,o.found.name),h=Cn(o.found.updateTime),p=o.found.createTime?Cn(o.found.createTime):Ee.min(),g=new ln({mapValue:{fields:o.found.fields}});return Bt.newFoundDocument(c,h,p,g)})(r,e):"missing"in e?(function(s,o){Fe(!!o.missing,3894),Fe(!!o.readTime,22933);const c=ac(s,o.missing),h=Cn(o.readTime);return Bt.newNoDocument(c,h)})(r,e):be(7234,{result:e})}function e4(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Fe(x===void 0||typeof x=="string",58123),Xt.fromBase64String(x||"")):(Fe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Xt.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?X.UNKNOWN:nE(y.code);return new ae(x,y.message||"")})(h);n=new rE(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ac(r,s.document.name),c=Cn(s.document.updateTime),h=s.document.createTime?Cn(s.document.createTime):Ee.min(),p=new ln({mapValue:{fields:s.document.fields}}),g=Bt.newFoundDocument(o,c,h,p),y=s.targetIds||[],x=s.removedTargetIds||[];n=new jh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ac(r,s.document),c=s.readTime?Cn(s.readTime):Ee.min(),h=Bt.newNoDocument(o,c),p=s.removedTargetIds||[];n=new jh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ac(r,s.document),c=s.removedTargetIds||[];n=new jh([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new FI(o,c),p=s.targetId;n=new iE(p,h)}}return n}function cE(r,e){let n;if(e instanceof Cc)n={update:pb(r,e.key,e.value)};else if(e instanceof Sd)n={delete:Qh(r,e.key)};else if(e instanceof Es)n={update:pb(r,e.key,e.data),updateMask:c4(e.fieldMask)};else{if(!(e instanceof eE))return be(16599,{dt:e.type});n={verify:Qh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $h)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:JI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),n}function t4(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Cn(o.updateTime):Cn(c);return h.isEqual(Ee.min())&&(h=Cn(c)),new LI(h,o.transformResults||[])})(n,e)))):[]}function n4(r,e){return{documents:[oE(r,e.path)]}}function i4(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=oE(r,o);const c=(function(y){if(y.length!==0)return hE(hi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:uo(S.field),direction:a4(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Ep(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function r4(r){let e=WI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=uE(E);return S instanceof hi&&P1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function($){return new pc(ho($.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,Rc(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,M=E.values||[];return new Hh(M,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,M=E.values||[];return new Hh(M,S)})(n.endAt)),TI(e,o,h,c,p,"F",g,y)}function s4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((s=>uE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function a4(r){return KI[r]}function o4(r){return QI[r]}function l4(r){return YI[r]}function uo(r){return{fieldPath:r.canonicalString()}}function ho(r){return Yt.fromServerFormat(r.fieldPath)}function hE(r){return r instanceof jt?(function(n){if(n.op==="=="){if(nb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(tb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(tb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:o4(n.op),value:n.value}}})(r):r instanceof hi?(function(n){const s=n.getFilters().map((o=>hE(o)));return s.length===1?s[0]:{compositeFilter:{op:l4(n.op),filters:s}}})(r):be(54877,{filter:r})}function c4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function dE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function fE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class rs{constructor(e,n,s,o,c=Ee.min(),h=Ee.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u4{constructor(e){this.yt=e}}function h4(r){const e=r4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}class d4{constructor(){this.Sn=new f4}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class f4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(nt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(mE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const yb="LruGarbageCollector",m4=1048576;function vb([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class p4{constructor(e){this.Pr=e,this.buffer=new Vt(vb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(yb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?le(yb,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class y4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(_d.ce);const s=new p4(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(gb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),lo()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function v4(r,e){return new y4(r,e)}class _4{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class x4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&sc(s.mutation,o,Rn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Wl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let c=yr();const h=rc(),p=(function(){return rc()})();return n.forEach(((g,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Es)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),sc(x.mutation,y,x.mutation.getFieldMask(),at.now())):h.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new b4(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=rc();let o=new dt(((h,p)=>h-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=s.get(g)||Rn.empty();x=p.applyToLocalView(y,x),s.set(g,x);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=$1();x.forEach((S=>{if(!c.has(S)){const M=W1(n.get(S),s.get(S));M!==null&&E.set(S,M),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return wI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):te.resolve(ia());let p=hc,g=c;return h.next((y=>te.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((x=>({batchId:p,changes:G1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,S){return new Oo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,Bt.newInvalidDocument(x)))}));let p=Wl();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&sc(x.mutation,y,Rn.empty(),at.now()),Td(n,y)&&(p=p.insert(g,y))})),p}))}}class E4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Cn(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:h4(o.bundledQuery),readTime:Cn(o.readTime)}})(n)),te.resolve()}}class T4{constructor(){this.overlays=new dt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),c=n.length+1,h=new ve(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new dt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=c.get(y.largestBatchId);x===null&&(x=ia(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ia(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return te.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new qI(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ue(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class w4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class cg{constructor(){this.kr=new Vt(zt.Kr),this.qr=new Vt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new nt([])),s=new zt(n,e),o=new zt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let c=Ue();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class A4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(zt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new BI(c,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?eg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Le);return n.forEach((o=>{const c=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{s=s.add(p.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new zt(new ve(c),0);let p=new Vt(Le);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),te.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class S4{constructor(e){this.ti=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Bt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=yr();const h=n.path,p=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||eI(ZC(x),s)<=0||(o.has(x.key)||Td(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new N4(this)}getSize(e){return te.resolve(this.size)}}class N4 extends _4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class R4{constructor(e){this.persistence=e,this.ri=new pa((n=>ig(n)),rg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new cg,this.targetCount=0,this.oi=No._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new No(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class pE{constructor(e,n){this._i={},this.overlays={},this.ai=new _d(0),this.ui=!1,this.ui=!0,this.ci=new w4,this.referenceDelegate=e(this),this.li=new R4(this),this.indexManager=new d4,this.remoteDocumentCache=(function(o){return new S4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new u4(n),this.Pi=new E4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new A4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new C4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class C4 extends nI{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new cg,this.Ai=null}static Vi(e){return new ug(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.fi=new pa((s=>sI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=v4(this,n)}static Vi(e,n){return new Yh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(s++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(e,n.fromCache,s,o)}}class I4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class j4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ER()?8:iI(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new I4;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(lo()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(lo()<=Pe.DEBUG&&le("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(lo()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):te.resolve())}gs(e,n){if(ab(n))return te.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ue(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,xp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return ab(n)||o.isEqual(Ee.min())?te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?te.resolve(null):(lo()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.Ds(e,h,n,WC(o,hc)).next((p=>p)))}))}bs(e,n){let s=new Vt(F1(e));return n.forEach(((o,c)=>{Td(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return lo()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",co(n)),this.fs.getDocumentsMatchingQuery(e,n,fs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const dg="LocalStore",k4=3e8;class D4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new dt(Le),this.Fs=new pa((c=>ig(c)),rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function O4(r,e,n,s){return new D4(r,e,n,s)}async function gE(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function M4(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let M=te.resolve();return S.forEach(($=>{M=M.next((()=>x.getEntry(g,$))).next((G=>{const q=y.docVersions.get($);Fe(q!==null,48541),G.version.compareTo(q)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),x.addEntry(G)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function yE(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function V4(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const S=o.get(E);if(!S)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let M=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,s)),o=o.insert(E,M),(function(G,q,ne){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=k4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,M,x)&&p.push(n.li.updateTargetData(c,M))}));let g=yr(),y=Ue();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(P4(c,h,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!s.isEqual(Ee.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(x)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function P4(r,e,n){let s=Ue(),o=Ue();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=yr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):le(dg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function L4(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function U4(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ap(r,e,n){const s=Ae(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Do(h))throw h;le(dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function _b(r,e,n){const s=Ae(r);let o=Ee.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Ae(g),S=E.Fs.get(x);return S!==void 0?te.resolve(E.vs.get(S)):E.li.getTargetData(y,x)})(s,h,Ui(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?c:Ue()))).next((p=>(z4(s,NI(e),p),{documents:p,ks:c})))))}function z4(r,e,n){let s=r.Ms.get(e)||Ee.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class bb{constructor(){this.activeTargetIds=DI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.vo=new bb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class q4{Mo(e){}shutdown(){}}const xb="ConnectivityMonitor";class Eb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(xb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(xb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function Sp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const Zm="RestConnection",F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=Sp(),p=this.Qo(e,n.toUriEncodedString());le(Zm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=bs(y);return this.zo(e,p,g,s,x).then((E=>(le(Zm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw To(Zm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",s),E}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=F4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class G4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",$l=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends H4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=_1();$l(e,v1.STAT_EVENT,(n=>{n.stat===mp.PROXY?le(en,"STAT_EVENT: detected buffering proxy"):n.stat===mp.NOPROXY&&le(en,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,n,s,o,c){const h=Sp();return new Promise(((p,g)=>{const y=new g1;y.setWithCredentials(!0),y.listenOnce(y1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nh.NO_ERROR:const E=y.getResponseJson();le(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Nh.TIMEOUT:le(en,`RPC '${e}' ${h} timed out`),g(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const S=y.getStatus();if(le(en,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const $=M?.error;if($&&$.status&&$.message){const G=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ee)>=0?ee:X.UNKNOWN})($.status);g(new ae(G,$.message))}else g(new ae(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(en,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);le(en,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=Sp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=c.join("");le(en,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=h.createWebChannel(y,p);this.I_(x);let E=!1,S=!1;const M=new G4({Ho:$=>{S?le(en,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(E||(le(en,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),le(en,`RPC '${e}' stream ${o} sending:`,$),x.send($))},Jo:()=>x.close()});return $l(x,Jl.EventType.OPEN,(()=>{S||(le(en,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),$l(x,Jl.EventType.CLOSE,(()=>{S||(S=!0,le(en,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(x))})),$l(x,Jl.EventType.ERROR,($=>{S||(S=!0,To(en,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),M.o_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),$l(x,Jl.EventType.MESSAGE,($=>{if(!S){const G=$.data[0];Fe(!!G,16349);const q=G,ne=q?.error||q[0]?.error;if(ne){le(en,`RPC '${e}' stream ${o} received error:`,ne);const ee=ne.status;let re=(function(ge){const T=It[ge];if(T!==void 0)return nE(T)})(ee),pe=ne.message;re===void 0&&(re=X.INTERNAL,pe="Unknown error status: "+ee+" with message "+ne.message),S=!0,M.o_(new ae(re,pe)),x.close()}else le(en,`RPC '${e}' stream ${o} received:`,G),M.__(G)}})),yo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return b1()}}function $4(r){return new yo(r)}function ep(){return typeof document<"u"?document:null}function Rd(r){return new XI(r,!0)}yo.c_=!1;class fg{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Tb="PersistentStream";class vE{constructor(e,n,s,o,c,h,p,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ae(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K4 extends vE{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=e4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Cn(h.readTime):Ee.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=wp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=_p(g)?{documents:n4(c,g)}:{query:i4(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=sE(c,h.resumeToken);const y=Ep(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=Kh(c,h.snapshotVersion.toTimestamp());const y=Ep(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=s4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.K_(n)}}class Q4 extends vE{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t4(e.writeResults,e.commitTime),s=Cn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>cE(this.serializer,s)))};this.K_(n)}}class Y4{}class X4 extends Y4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Tp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,Tp(n,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function J4(r,e,n,s){return new X4(r,e,n,s)}class W4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class Z4{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ga(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await jc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Cd(y)})(this))}))})),this.Va=new W4(s,o)}}async function Cd(r){if(ga(r))for(const e of r.Ra)await e(!0)}async function jc(r){for(const e of r.Ra)await e(!1)}function _E(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yg(n)?gg(n):Mo(n).O_()&&pg(n,e))}function mg(r,e){const n=Ae(r),s=Mo(n);n.Ia.delete(e),s.O_()&&bE(n,e),n.Ia.size===0&&(s.O_()?s.L_():ga(n)&&n.Va.set("Unknown"))}function pg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Z_(e)}function bE(r,e){r.da.$e(e),Mo(r).X_(e)}function gg(r){r.da=new $I({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Va.ua()}function yg(r){return ga(r)&&!Mo(r).x_()&&r.Ia.size>0}function ga(r){return Ae(r).Ea.size===0}function xE(r){r.da=void 0}async function ej(r){r.Va.set("Online")}async function tj(r){r.Ia.forEach(((e,n)=>{pg(r,e)}))}async function nj(r,e){xE(r),yg(r)?(r.Va.ha(e),gg(r)):r.Va.set("Unknown")}async function ij(r,e,n){if(r.Va.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(r,s)}else if(e instanceof jh?r.da.Xe(e):e instanceof iE?r.da.st(e):r.da.tt(e),!n.isEqual(Ee.min()))try{const s=await yE(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),bE(c,g);const E=new rs(x.target,g,y,x.sequenceNumber);pg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){le(ca,"Failed to raise snapshot:",s),await Xh(r,s)}}async function Xh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await jc(r),r.Va.set("Offline"),n||(n=()=>yE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Cd(r)}))}function EE(r,e){return e().catch((n=>Xh(r,n,e)))}async function Id(r){const e=Ae(r),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;rj(e);)try{const o=await L4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,sj(e,o)}catch(o){await Xh(e,o)}TE(e)&&wE(e)}function rj(r){return ga(r)&&r.Ta.length<10}function sj(r,e){r.Ta.push(e);const n=ys(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function TE(r){return ga(r)&&!ys(r).x_()&&r.Ta.length>0}function wE(r){ys(r).start()}async function aj(r){ys(r).ra()}async function oj(r){const e=ys(r);for(const n of r.Ta)e.ea(n.mutations)}async function lj(r,e,n){const s=r.Ta.shift(),o=ag.from(s,e,n);await EE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Id(r)}async function cj(r,e){e&&ys(r).Y_&&await(async function(s,o){if((function(h){return tE(h)&&h!==X.ABORTED})(o.code)){const c=s.Ta.shift();ys(s).B_(),await EE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Id(s)}})(r,e),TE(r)&&wE(r)}async function wb(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const s=ga(n);n.Ea.add(3),await jc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function uj(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await jc(n),n.Va.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const c=Ae(n);return c.sa(),new K4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ej.bind(null,r),Yo:tj.bind(null,r),t_:nj.bind(null,r),J_:ij.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),yg(r)?gg(r):r.Va.set("Unknown")):(await r.ma.stop(),xE(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(n,s,o){const c=Ae(n);return c.sa(),new Q4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aj.bind(null,r),t_:cj.bind(null,r),ta:oj.bind(null,r),na:lj.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Id(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,p=new vg(e,n,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Do(r))return new ae(X.UNAVAILABLE,`${e}: ${r}`);throw r}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Wl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Ab{constructor(){this.ga=new dt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Ro(e,n,vo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class hj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dj{constructor(){this.queries=Sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),c=o.queries;o.queries=Sb(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function Sb(){return new pa((r=>q1(r)),Ed)}async function bg(r,e){const n=Ae(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new hj,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=_g(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Eg(n)}async function xg(r,e){const n=Ae(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fj(r,e){const n=Ae(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(s=!0);h.wa=o}}s&&Eg(n)}function mj(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Eg(r){r.Ca.forEach((e=>{e.next()}))}var Np,Nb;(Nb=Np||(Np={})).Ma="default",Nb.Cache="cache";class Tg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}class AE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class pj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=F1(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Ab,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const S=o.get(x),M=Td(this.query,E)?E:null,$=!!S&&this.mutatedKeys.has(S.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;S&&M?S.data.isEqual(M.data)?$!==G&&(s.track({type:3,doc:M}),q=!0):this.su(S,M)||(s.track({type:2,doc:M}),q=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!S&&M?(s.track({type:0,doc:M}),q=!0):S&&!M&&(s.track({type:1,doc:S}),q=!0,(g||y)&&(p=!0)),q&&(M?(h=h.add(M),c=G?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(M,$){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:q})}};return G(M)-G($)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Ro(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ab,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new SE(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new AE(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wg="SyncEngine";class gj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yj{constructor(e){this.key=e,this.hu=!1}}class vj{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new pa((p=>q1(p)),Ed),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(ve.comparator),this.Au=new Map,this.Vu=new cg,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _j(r,e,n=!0){const s=kE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await NE(s,e,n,!0),o}async function bj(r,e){const n=kE(r);await NE(n,e,!0,!1)}async function NE(r,e,n,s){const o=await U4(r.localStore,Ui(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await xj(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&_E(r.remoteStore,o),p}async function xj(r,e,n,s,o){r.pu=(E,S,M)=>(async function(G,q,ne,ee){let re=q.view.ru(ne);re.Ss&&(re=await _b(G.localStore,q.query,!1).then((({documents:T})=>q.view.ru(T,re))));const pe=ee&&ee.targetChanges.get(q.targetId),de=ee&&ee.targetMismatches.get(q.targetId)!=null,ge=q.view.applyChanges(re,G.isPrimaryClient,pe,de);return Cb(G,q.targetId,ge.au),ge.snapshot})(r,E,S,M);const c=await _b(r.localStore,e,!0),h=new pj(e,c.ks),p=h.ru(c.documents),g=Ic.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);Cb(r,n,y.au);const x=new gj(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function Ej(r,e,n){const s=Ae(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Ed(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mg(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(ko)):(Rp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function Tj(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mg(n.remoteStore,s.targetId))}async function wj(r,e,n){const s=jj(r);try{const o=await(function(h,p){const g=Ae(h),y=at.now(),x=p.reduce(((M,$)=>M.add($.key)),Ue());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let $=yr(),G=Ue();return g.xs.getEntries(M,x).next((q=>{$=q,$.forEach(((ne,ee)=>{ee.isValidDocument()||(G=G.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,$))).next((q=>{E=q;const ne=[];for(const ee of p){const re=zI(ee,E.get(ee.key).overlayedDocument);re!=null&&ne.push(new Es(ee.key,re,O1(re.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,ne,p)})).next((q=>{S=q;const ne=q.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(M,q.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:G1(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new dt(Le)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await kc(s,o.changes),await Id(s.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");n.reject(c)}}async function RE(r,e){const n=Ae(r);try{const s=await V4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await kc(n,s,e)}catch(s){await ko(s)}}function Rb(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ae(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.ba)S.va(p)&&(y=!0)})),y&&Eg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Aj(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new dt(ve.comparator);h=h.insert(c,Bt.newNoDocument(c,Ee.min()));const p=Ue().add(c),g=new Nd(Ee.min(),new Map,new dt(Le),h,p);await RE(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Ag(s)}else await Ap(s.localStore,e,!1).then((()=>Rp(s,e,n))).catch(ko)}async function Sj(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await M4(n.localStore,e);IE(n,s,null),CE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kc(n,o)}catch(o){await ko(o)}}async function Nj(r,e,n){const s=Ae(r);try{const o=await(function(h,p){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Fe(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);IE(s,e,n),CE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await kc(s,o)}catch(o){await ko(o)}}function CE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function IE(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Rp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||jE(r,s)}))}function jE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(mg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Ag(r))}function Cb(r,e,n){for(const s of n)s instanceof AE?(r.Vu.addReference(s.key,e),Rj(r,s)):s instanceof SE?(le(wg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||jE(r,s.key)):be(19791,{wu:s})}function Rj(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(wg,"New document in limbo: "+n),r.Eu.add(s),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new yj(n)),r.Ru=r.Ru.insert(n,s),_E(r.remoteStore,new rs(Ui(xd(n.path)),s,"TargetPurposeLimboResolution",_d.ce))}}async function kc(r,e,n){const s=Ae(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=hg.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,y){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(S=>te.forEach(S.Ts,(M=>x.persistence.referenceDelegate.addReference(E,S.targetId,M))).next((()=>te.forEach(S.Is,(M=>x.persistence.referenceDelegate.removeReference(E,S.targetId,M)))))))))}catch(E){if(!Do(E))throw E;le(dg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const M=x.vs.get(S),$=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion($);x.vs=x.vs.insert(S,G)}}})(s.localStore,c))}async function Cj(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(wg,"User change. New user:",e.toKey());const s=await gE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(X.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kc(n,s.Ns)}}function Ij(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function kE(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aj.bind(null,e),e.Pu.J_=fj.bind(null,e.eventManager),e.Pu.yu=mj.bind(null,e.eventManager),e}function jj(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nj.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O4(this.persistence,new j4,e.initialUser,this.serializer)}Cu(e){return new pE(ug.Vi,this.serializer)}Du(e){return new B4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class kj extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new g4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new pE((s=>Yh.Vi(s,n)),this.serializer)}}class Cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cj.bind(null,this.syncEngine),await uj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dj})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),s=$4(e.databaseInfo);return J4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,p){return new Z4(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rb(this.syncEngine,n,0)),(function(){return Eb.v()?new Eb:new q4})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,x){const E=new vj(o,c,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(ca,"RemoteStore shutting down."),s.Ea.add(5),await jc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cp.provider={build:()=>new Cp};class Sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let Dj=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const h=Ae(o),p={documents:c.map((E=>Qh(h.serializer,E)))},g=await h.jo("BatchGetDocuments",h.serializer.databaseId,nt.emptyPath(),p,c.length),y=new Map;g.forEach((E=>{const S=ZI(h.serializer,E);y.set(S.key.toString(),S)}));const x=[];return c.forEach((E=>{const S=y.get(E.toString());Fe(!!S,55234,{key:E}),x.push(S)})),x})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=ve.fromPath(s);this.mutations.push(new eE(o,this.precondition(o)))})),await(async function(s,o){const c=Ae(s),h={writes:o.map((p=>cE(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,nt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw be(50498,{Gu:e.constructor.name});n=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ae(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new ae(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class Oj{constructor(e,n,s,o,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=c,this.zu=s.maxAttempts,this.M_=new fg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Dj(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Zu(o)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Rc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!tE(n)}return!1}}const vs="FirestoreClient";class Mj{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{le(vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tp(r,e){r.asyncQueue.verifyOperationInProgress(),le(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await gE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ib(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Vj(r);le(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>wb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>wb(e.remoteStore,o))),r._onlineComponents=e}async function Vj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(vs,"Using user provided OfflineComponentProvider");try{await tp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await tp(r,new Jh)}}else le(vs,"Using default OfflineComponentProvider"),await tp(r,new kj(void 0));return r._offlineComponents}async function Ng(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(vs,"Using user provided OnlineComponentProvider"),await Ib(r,r._uninitializedComponentsProvider._online)):(le(vs,"Using default OnlineComponentProvider"),await Ib(r,new Cp))),r._onlineComponents}function Pj(r){return Ng(r).then((e=>e.syncEngine))}function Lj(r){return Ng(r).then((e=>e.datastore))}async function Wh(r){const e=await Ng(r),n=e.eventManager;return n.onListen=_j.bind(null,e.syncEngine),n.onUnlisten=Ej.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tj.bind(null,e.syncEngine),n}function Uj(r,e,n,s){const o=new Sg(s),c=new Tg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>bg(await Wh(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>xg(await Wh(r),c)))}}function zj(r,e,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Sg({next:S=>{x.Nu(),h.enqueueAndForget((()=>xg(c,E)));const M=S.docs.has(p);!M&&S.fromCache?y.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&g&&g.source==="server"?y.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Tg(xd(p.path),x,{includeMetadataChanges:!0,Ka:!0});return bg(c,E)})(await Wh(r),r.asyncQueue,e,n,s))),s.promise}function Bj(r,e,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Sg({next:S=>{x.Nu(),h.enqueueAndForget((()=>xg(c,E))),S.fromCache&&g.source==="server"?y.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Tg(p,x,{includeMetadataChanges:!0,Ka:!0});return bg(c,E)})(await Wh(r),r.asyncQueue,e,n,s))),s.promise}function qj(r,e){const n=new Li;return r.asyncQueue.enqueueAndForget((async()=>wj(await Pj(r),e,n))),n.promise}function Fj(r,e,n){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>{const o=await Lj(r);new Oj(r.asyncQueue,o,n,e,s).ju()})),s.promise}function DE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Hj="ComponentProvider",jb=new Map;function Gj(r,e,n,s,o){return new lI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,DE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const OE="firestore.googleapis.com",kb=!0;class Db{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=kb}else this.host=e.host,this.ssl=e.ssl??kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BC;switch(s.type){case"firstParty":return new GC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=jb.get(n);s&&(le(Hj,"Removing Datastore"),jb.delete(n),s.terminate())})(this),Promise.resolve()}}function $j(r,e,n,s={}){r=$n(r,jd);const o=bs(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Kp(`https://${p}`),Qp("Firestore",!0)),c.host!==OE&&c.host!==p&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!aa(g,h)&&(r._setSettings(g),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=tn.MOCK_USER;else{y=c1(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tn(E)}r._authCredentials=new qC(new E1(y,x))}}class Ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nc(n,pt._jsonSchema))return new pt(e,s||null,new ve(nt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:kt("string",pt._jsonSchemaVersion),referencePath:kt("string")};class ls extends Ts{constructor(e,n,s){super(e,n,xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ve(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function vc(r,e,...n){if(r=ht(r),T1("collection","path",e),r instanceof jd){const s=nt.fromString(e,...n);return $_(s),new ls(r,null,s)}{if(!(r instanceof pt||r instanceof ls))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return $_(s),new ls(r.firestore,null,s)}}function ci(r,e,...n){if(r=ht(r),arguments.length===1&&(e=Zp.newId()),T1("doc","path",e),r instanceof jd){const s=nt.fromString(e,...n);return G_(s),new pt(r,null,new ve(s))}{if(!(r instanceof pt||r instanceof ls))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return G_(s),new pt(r.firestore,r instanceof ls?r.converter:null,new ve(s))}}const Ob="AsyncQueue";class Mb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fg(this,"async_queue_retry"),this._c=()=>{const s=ep();s&&le(Ob,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;le(Ob,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",Vb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:Vb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Vb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _s extends jd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Mb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mb(e),this._firestoreClient=void 0,await e}}}function Kj(r,e){const n=typeof r=="object"?r:Jp(),s=typeof r=="string"?r:qh,o=yd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=a1("firestore");c&&$j(o,...c)}return o}function Dc(r){if(r._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Qj(r),r._firestoreClient}function Qj(r){const e=r._freezeSettings(),n=Gj(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Mj(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Xt.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:kt("string",Nn._jsonSchemaVersion),bytes:kt("string")};class kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:kt("string",zi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ui(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:kt("string",ui._jsonSchemaVersion),vectorValues:kt("object")};const Yj=/^__.*__$/;class Xj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class ME{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class Cg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&Yj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Jj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rd(e)}createContext(e,n,s,o=!1){return new Cg({dataSource:e,methodName:n,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(r){const e=r._freezeSettings(),n=Rd(r._databaseId);return new Jj(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Wj(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);jg("Data must be an object, but it was:",h,s);const p=UE(s,h);let g,y;if(c.merge)g=new Rn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=ua(e,E,n);if(!h.contains(S))throw new ae(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qE(x,S)||x.push(S)}g=new Rn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new Xj(new ln(p),g,y)}class Oc extends Rg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oc}}function PE(r,e,n,s){const o=r.createContext(1,e,n);jg("Data must be an object, but it was:",o,s);const c=[],h=ln.empty();xs(s,((g,y)=>{const x=BE(e,g,n);y=ht(y);const E=o.childContextForFieldPath(x);if(y instanceof Oc)c.push(x);else{const S=Mc(y,E);S!=null&&(c.push(x),h.set(x,S))}}));const p=new Rn(c);return new ME(h,p,o.fieldTransforms)}function LE(r,e,n,s,o,c){const h=r.createContext(1,e,n),p=[ua(e,s,n)],g=[o];if(c.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(ua(e,c[S])),g.push(c[S+1]);const y=[],x=ln.empty();for(let S=p.length-1;S>=0;--S)if(!qE(y,p[S])){const M=p[S];let $=g[S];$=ht($);const G=h.childContextForFieldPath(M);if($ instanceof Oc)y.push(M);else{const q=Mc($,G);q!=null&&(y.push(M),x.set(M,q))}}const E=new Rn(y);return new ME(x,E,h.fieldTransforms)}function Zj(r,e,n,s=!1){return Mc(n,r.createContext(s?4:3,e))}function Mc(r,e){if(zE(r=ht(r)))return jg("Unsupported field value:",e,r),UE(r,e);if(r instanceof Rg)return(function(s,o){if(!VE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=Mc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=at.fromDate(s);return{timestampValue:Kh(o.serializer,c)}}if(s instanceof at){const c=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,c)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:sE(o.serializer,s._byteString)};if(s instanceof pt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ui)return(function(h,p){const g=h instanceof ui?h.toArray():h;return{mapValue:{fields:{[k1]:{stringValue:D1},[Fh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return sg(p.serializer,x)}))}}}}}})(s,o);if(fE(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${vd(s)}`)})(r,e)}function UE(r,e){const n={};return S1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(r,((s,o)=>{const c=Mc(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function zE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof zi||r instanceof Nn||r instanceof pt||r instanceof Rg||r instanceof ui||fE(r))}function jg(r,e,n){if(!zE(n)||!w1(n)){const s=vd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ua(r,e,n){if((e=ht(e))instanceof kd)return e._internalPath;if(typeof e=="string")return BE(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ek=new RegExp("[~\\*/\\[\\]]");function BE(r,e,n){if(e.search(ek)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new kd(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Zh(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ae(X.INVALID_ARGUMENT,p+r+g)}function qE(r,e){return r.some((n=>n.isEqual(e)))}class FE{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new ui(n)}convertGeoPoint(e){return new zi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=ms(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Fe(dE(s),9688,{name:e});const o=new fc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||gr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Dd extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function tk(){return new Oc("deleteField")}const Pb="@firebase/firestore",Lb="4.10.0";function Ub(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ed{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ua("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nk extends ed{data(){return super.data()}}function HE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class GE extends kg{}function Dg(r,e,...n){let s=[];e instanceof kg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof Og)).length,p=c.filter((g=>g instanceof Od)).length;if(h>1||h>0&&p>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Od extends GE{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Od(e,n,s)}_apply(e){const n=this._parse(e);return KE(e._query,n),new Ts(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=Ig(e.firestore);return(function(c,h,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Bb(E,x);const $=[];for(const G of E)$.push(zb(g,c,G));S={arrayValue:{values:$}}}else S=zb(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Bb(E,x),S=Zj(p,h,E,x==="in"||x==="not-in");return jt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ip(r,e,n){const s=e,o=ua("where",r);return Od._create(o,s,n)}class Og extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)KE(h,g),h=bp(h,g)})(e._query,n),new Ts(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends GE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,h)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,SI(e._query,n))}}function $E(r,e="asc"){const n=e,s=ua("orderBy",r);return Mg._create(s,n)}function zb(r,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ve.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eb(r,new ve(s))}if(n instanceof pt)return eb(r,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function Bb(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KE(r,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ik(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class rk extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends ed{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ua("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:kt("string",cs._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class kh extends cs{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new mo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:sk(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:kt("string",ra._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};const ak={maxAttempts:5};function ec(r,e){if((r=ht(r)).firestore!==e)throw new ae(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ok{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ig(e)}get(e){const n=ec(e,this._firestore),s=new rk(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return be(24041);const c=o[0];if(c.isFoundDocument())return new ed(this._firestore,s,c.key,c,n.converter);if(c.isNoDocument())return new ed(this._firestore,s,n._key,null,n.converter);throw be(18433,{doc:c})}))}set(e,n,s){const o=ec(e,this._firestore),c=ik(o.converter,n,s),h=Wj(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(e,n,s,...o){const c=ec(e,this._firestore);let h;return h=typeof(n=ht(n))=="string"||n instanceof kd?LE(this._dataReader,"Transaction.update",c._key,n,s,o):PE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,h),this}delete(e){const n=ec(e,this._firestore);return this._transaction.delete(n._key),this}}class lk extends ok{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ec(e,this._firestore),s=new Dd(this._firestore);return super.get(e).then((o=>new cs(this._firestore,s,n._key,o._document,new mo(!1,!1),n.converter)))}}function QE(r,e,n){r=$n(r,_s);const s={...ak,...n};(function(h){if(h.maxAttempts<1)throw new ae(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const o=Dc(r);return Fj(o,(c=>e(new lk(r,c))),s)}function ck(r){r=$n(r,pt);const e=$n(r.firestore,_s),n=Dc(e);return zj(n,r._key).then((s=>WE(e,r,s)))}function YE(r){r=$n(r,Ts);const e=$n(r.firestore,_s),n=Dc(e),s=new Dd(e);return HE(r._query),Bj(n,r._query).then((o=>new ra(e,s,r,o)))}function td(r,e,n,...s){r=$n(r,pt);const o=$n(r.firestore,_s),c=Ig(o);let h;return h=typeof(e=ht(e))=="string"||e instanceof kd?LE(c,"updateDoc",r._key,e,n,s):PE(c,"updateDoc",r._key,e),JE(o,[h.toMutation(r._key,cn.exists(!0))])}function uk(r){return JE($n(r.firestore,_s),[new Sd(r._key,cn.none())])}function XE(r,...e){r=ht(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ub(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ub(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,h,p;if(r instanceof pt)h=$n(r.firestore,_s),p=xd(r._key.path),c={next:y=>{e[s]&&e[s](WE(h,r,y))},error:e[s+1],complete:e[s+2]};else{const y=$n(r,Ts);h=$n(y.firestore,_s),p=y._query;const x=new Dd(h);c={next:E=>{e[s]&&e[s](new ra(h,x,y,E))},error:e[s+1],complete:e[s+2]},HE(r._query)}const g=Dc(h);return Uj(g,p,o,c)}function JE(r,e){const n=Dc(r);return qj(n,e)}function WE(r,e,n){const s=n.docs.get(e._key),o=new Dd(r);return new cs(r,o,e._key,s,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){zC(ma),oa(new ds("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new _s(new FC(s.getProvider("auth-internal")),new $C(h,s.getProvider("app-check-internal")),cI(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Pi(Pb,Lb,e),Pi(Pb,Lb,"esm2020")})();var hk="firebase",dk="12.8.0";Pi(hk,dk,"app");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=ZE,eT=new Ac("auth","Firebase",ZE());const nd=new Yp("@firebase/auth");function mk(r,...e){nd.logLevel<=Pe.WARN&&nd.warn(`Auth (${ma}): ${r}`,...e)}function Dh(r,...e){nd.logLevel<=Pe.ERROR&&nd.error(`Auth (${ma}): ${r}`,...e)}function di(r,...e){throw Vg(r,...e)}function Bi(r,...e){return Vg(r,...e)}function tT(r,e,n){const s={...fk(),[e]:n};return new Ac("auth","Firebase",s).create(e,{appName:r.name})}function us(r){return tT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return eT.create(r,...e)}function Te(r,e,...n){if(!r)throw Vg(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dh(e),new Error(e)}function vr(r,e){r||ur(e)}function jp(){return typeof self<"u"&&self.location?.href||""}function pk(){return qb()==="http:"||qb()==="https:"}function qb(){return typeof self<"u"&&self.location?.protocol||null}function gk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pk()||_R()||"connection"in navigator)?navigator.onLine:!0}function yk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=gR()||bR()}get(){return gk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pg(r,e){vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _k=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bk=new Vc(3e4,6e4);function ya(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ws(r,e,n,s,o={}){return iT(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Sc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return vR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&bs(r.emulatorConfig.host)&&(y.credentials="include"),nT.fetch()(await rT(r,r.config.apiHost,n,p),y)})}async function iT(r,e,n){r._canInitEmulator=!1;const s={...vk,...e};try{const o=new Ek(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw bh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw bh(r,"user-disabled",h);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tT(r,x,y);di(r,x)}}catch(o){if(o instanceof Hi)throw o;di(r,"network-request-failed",{message:String(o)})}}async function Md(r,e,n,s,o={}){const c=await ws(r,e,n,s,o);return"mfaPendingCredential"in c&&di(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function rT(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?Pg(r.config,o):`${r.config.apiScheme}://${o}`;return _k.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function xk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bi(this.auth,"network-request-failed")),bk.get())})}}function bh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bi(r,e,s);return o.customData._tokenResponse=n,o}function Fb(r){return r!==void 0&&r.enterprise!==void 0}class Tk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wk(r,e){return ws(r,"GET","/v2/recaptchaConfig",ya(r,e))}async function Ak(r,e){return ws(r,"POST","/v1/accounts:delete",e)}async function id(r,e){return ws(r,"POST","/v1/accounts:lookup",e)}function oc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sk(r,e=!1){const n=ht(r),s=await n.getIdToken(e),o=Lg(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:oc(np(o.auth_time)),issuedAtTime:oc(np(o.iat)),expirationTime:oc(np(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function Lg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r1(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hb(r){const e=Lg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _c(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&Nk(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Nk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Rk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rd(r){const e=r.auth,n=await r.getIdToken(),s=await _c(r,id(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?sT(o.providerUserInfo):[],h=Ik(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,x)}async function Ck(r){const e=ht(r);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ik(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jk(r,e){const n=await iT(r,{},async()=>{const s=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await rT(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&bs(r.emulatorConfig.host)&&(g.credentials="include"),nT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kk(r,e){return ws(r,"POST","/v2/accounts:revokeToken",ya(r,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await jk(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new _o;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return ur("not implemented")}}function Zr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Rk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sk(this,e)}reload(){return Ck(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await _c(this,Ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:M,providerData:$,stsTokenManager:G}=n;Te(E&&G,e,"internal-error");const q=_o.fromJSON(this.name,G);Te(typeof E=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof M=="boolean",e,"internal-error"),Zr(c,e.name),Zr(h,e.name),Zr(p,e.name),Zr(g,e.name),Zr(y,e.name),Zr(x,e.name);const ne=new li({uid:E,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:q,createdAt:y,lastLoginAt:x});return $&&Array.isArray($)&&(ne.providerData=$.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const c=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await rd(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new _o;p.updateFromIdToken(s);const g=new li({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Gb=new Map;function hr(r){vr(r instanceof Function,"Expected a class definition");let e=Gb.get(r);return e?(vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Gb.set(r,e),e)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const $b=aT;function Oh(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Oh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await id(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(hr($b),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hr($b);const h=Oh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const S=await id(e,{idToken:x}).catch(()=>{});if(!S)break;E=await li._fromGetAccountInfoResponse(e,S,x)}else E=li._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new bo(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new bo(c,e,s))}}function Kb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(fT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function oT(r=rn()){return/firefox\//i.test(r)}function lT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(r=rn()){return/crios\//i.test(r)}function uT(r=rn()){return/iemobile/i.test(r)}function hT(r=rn()){return/android/i.test(r)}function dT(r=rn()){return/blackberry/i.test(r)}function fT(r=rn()){return/webos/i.test(r)}function Ug(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Dk(r=rn()){return Ug(r)&&!!window.navigator?.standalone}function Ok(){return xR()&&document.documentMode===10}function mT(r=rn()){return Ug(r)||hT(r)||fT(r)||dT(r)||/windows phone/i.test(r)||uT(r)}function pT(r,e=[]){let n;switch(r){case"Browser":n=Kb(rn());break;case"Worker":n=`${Kb(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${s}`}class Mk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Vk(r,e={}){return ws(r,"GET","/v2/passwordPolicy",ya(r,e))}const Pk=6;class Lk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Pk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Uk{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qb(this),this.idTokenSubscription=new Qb(this),this.beforeStateQueue=new Mk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await id(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(us(this));const n=e?ht(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vk(this),n=new Lk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(r){return ht(r)}class Qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zk(r){Vd=r}function gT(r){return Vd.loadJS(r)}function Bk(){return Vd.recaptchaEnterpriseScript}function qk(){return Vd.gapiScript}function Fk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Hk{constructor(){this.enterprise=new Gk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Gk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $k="recaptcha-enterprise",yT="NO_RECAPTCHA";class Kk{constructor(e){this.type=$k,this.auth=Vo(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{wk(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Tk(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;Fb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(yT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hk().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!n&&Fb(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Bk();g.length!==0&&(g+=p),gT(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Yb(r,e,n,s=!1,o=!1){const c=new Kk(r);let h;if(o)h=yT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xb(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Yb(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Yb(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function Qk(r,e){const n=yd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(aa(c,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function Yk(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Xk(r,e,n){const s=Vo(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=vT(e),{host:h,port:p}=Jk(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(aa(y,s.config.emulator)&&aa(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,bs(h)?(Kp(`${c}//${h}${g}`),Qp("Auth",!0)):Wk()}function vT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Jk(r){const e=vT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Jb(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Jb(h)}}}function Jb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Wk(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function Zk(r,e){return ws(r,"POST","/v1/accounts:signUp",e)}async function eD(r,e){return Md(r,"POST","/v1/accounts:signInWithPassword",ya(r,e))}async function tD(r,e){return Md(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}async function nD(r,e){return Md(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}class bc extends zg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xb(e,n,"signInWithPassword",eD);case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xb(e,s,"signUpPassword",Zk);case"emailLink":return nD(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(r,e){return Md(r,"POST","/v1/accounts:signInWithIdp",ya(r,e))}const iD="http://localhost";class ha extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new ha(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:iD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}function rD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sD(r){const e=Yl(Xl(r)).link,n=e?Yl(Xl(e)).deep_link_id:null,s=Yl(Xl(r)).deep_link_id;return(s?Yl(Xl(s)).link:null)||s||n||e||r}class Bg{constructor(e){const n=Yl(Xl(e)),s=n.apiKey??null,o=n.oobCode??null,c=rD(n.mode??null);Te(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sD(e);try{return new Bg(n)}catch{return null}}}class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Bg.parseLink(n);return Te(s,"argument-error"),bc._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pc extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends Pc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class ts extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class ns extends Pc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends Pc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await li._fromIdTokenResponse(e,s,o),h=Wb(s);return new Co({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Wb(s);return new Co({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Wb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class sd extends Hi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new sd(e,n,s,o)}}function bT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(r,c,e,s):c})}async function aD(r,e,n=!1){const s=await _c(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Co._forOperation(r,"link",s)}async function oD(r,e,n=!1){const{auth:s}=r;if(Fn(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const c=await _c(r,bT(s,o,e,r),n);Te(c.idToken,s,"internal-error");const h=Lg(c.idToken);Te(h,s,"internal-error");const{sub:p}=h;return Te(r.uid===p,s,"user-mismatch"),Co._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(s,"user-mismatch"),c}}async function xT(r,e,n=!1){if(Fn(r.app))return Promise.reject(us(r));const s="signIn",o=await bT(r,s,e),c=await Co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function lD(r,e){return xT(Vo(r),e)}async function cD(r){const e=Vo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uD(r,e,n){return Fn(r.app)?Promise.reject(us(r)):lD(ht(r),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cD(r),s})}function hD(r,e,n,s){return ht(r).onIdTokenChanged(e,n,s)}function dD(r,e,n){return ht(r).beforeAuthStateChanged(e,n)}function fD(r){return ht(r).signOut()}const ad="__sak";class ET{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mD=1e3,pD=10;class TT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);Ok()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const gD=TT;class wT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const AT=wT;function yD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await yD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function qg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=qg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qi(){return window}function _D(r){qi().location.href=r}function ST(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function bD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xD(){return navigator?.serviceWorker?.controller||null}function ED(){return ST()?self:null}const NT="firebaseLocalStorageDb",TD=1,od="firebaseLocalStorage",RT="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ld(r,e){return r.transaction([od],e?"readwrite":"readonly").objectStore(od)}function wD(){const r=indexedDB.deleteDatabase(NT);return new Lc(r).toPromise()}function Dp(){const r=indexedDB.open(NT,TD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(od,{keyPath:RT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(od)?e(s):(s.close(),await wD(),e(await Dp()))})})}async function Zb(r,e,n){const s=Ld(r,!0).put({[RT]:e,value:n});return new Lc(s).toPromise()}async function AD(r,e){const n=Ld(r,!1).get(e),s=await new Lc(n).toPromise();return s===void 0?null:s.value}function ex(r,e){const n=Ld(r,!0).delete(e);return new Lc(n).toPromise()}const SD=800,ND=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ND)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(ED()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await Zb(e,ad,"1"),await ex(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ex(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ld(o,!1).getAll();return new Lc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const RD=CT;new Vc(3e4,6e4);function CD(r,e){return e?hr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ID(r){return xT(r.auth,new Fg(r),r.bypassAuthState)}function jD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),oD(n,new Fg(r),r.bypassAuthState)}async function kD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),aD(n,new Fg(r),r.bypassAuthState)}class IT{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return kD;case"reauthViaPopup":case"reauthViaRedirect":return jD;default:di(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DD=new Vc(2e3,1e4);class po extends IT{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}po.currentPopupAction=null;const OD="pendingRedirect",Mh=new Map;class MD extends IT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(r,e){const n=UD(e),s=LD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function PD(r,e){Mh.set(r._key(),e)}function LD(r){return hr(r._redirectPersistence)}function UD(r){return Oh(OD,r.config.apiKey,r.name)}async function zD(r,e,n=!1){if(Fn(r.app))return Promise.reject(us(r));const s=Vo(r),o=CD(s,e),h=await new MD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const BD=600*1e3;class qD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(tx(e))}saveEventToCache(e){this.cachedEventUids.add(tx(e)),this.lastProcessedEventTime=Date.now()}}function tx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function FD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(r);default:return!1}}async function HD(r,e={}){return ws(r,"GET","/v1/projects",e)}const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function KD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await HD(r);for(const n of e)try{if(QD(n))return}catch{}di(r,"unauthorized-domain")}function QD(r){const e=jp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$D.test(n))return!1;if(GD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const YD=new Vc(3e4,6e4);function nx(){const r=qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function XD(r){return new Promise((e,n)=>{function s(){nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nx(),n(Bi(r,"network-request-failed"))},timeout:YD.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=Fk("iframefcb");return qi()[o]=()=>{gapi.load?s():n(Bi(r,"network-request-failed"))},gT(`${qk()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function JD(r){return Vh=Vh||XD(r),Vh}const WD=new Vc(5e3,15e3),ZD="__/auth/iframe",eO="emulator/auth/iframe",tO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iO(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pg(e,eO):`https://${r.config.authDomain}/${ZD}`,s={apiKey:e.apiKey,appName:r.name,v:ma},o=nO.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Sc(s).slice(1)}`}async function rO(r){const e=await JD(r),n=qi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:iO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tO,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Bi(r,"network-request-failed"),p=qi().setTimeout(()=>{c(h)},WD.get());function g(){qi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const sO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aO=500,oO=600,lO="_blank",cO="http://localhost";class ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uO(r,e,n,s=aO,o=oO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...sO,width:s.toString(),height:o.toString(),top:c,left:h},y=rn().toLowerCase();n&&(p=cT(y)?lO:n),oT(y)&&(e=e||cO,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[M,$])=>`${S}${M}=${$},`,"");if(Dk(y)&&p!=="_self")return hO(e||"",p),new ix(null);const E=window.open(e||"",p,x);Te(E,r,"popup-blocked");try{E.focus()}catch{}return new ix(E)}function hO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const dO="__/auth/handler",fO="emulator/auth/handler",mO=encodeURIComponent("fac");async function rx(r,e,n,s,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ma,eventId:o};if(e instanceof _T){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",RR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Pc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await r._getAppCheckToken(),y=g?`#${mO}=${encodeURIComponent(g)}`:"";return`${pO(r)}?${Sc(p).slice(1)}${y}`}function pO({config:r}){return r.emulator?Pg(r,fO):`https://${r.authDomain}/${dO}`}const ip="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=zD,this._overrideRedirectResult=PD}async _openPopup(e,n,s,o){vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rx(e,n,s,jp(),o);return uO(e,c,qg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await rx(e,n,s,jp(),o);return _D(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(vr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rO(e),s=new qD(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},o=>{const c=o?.[0]?.[ip];c!==void 0&&n(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||Ug()}}const yO=gO;var sx="@firebase/auth",ax="1.12.0";class vO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _O(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bO(r){oa(new ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(r)},y=new Uk(s,o,c,g);return Yk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oa(new ds("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(s=>new vO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(sx,ax,_O(r)),Pi(sx,ax,"esm2020")}const xO=300,EO=l1("authIdTokenMaxAge")||xO;let ox=null;const TO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EO)return;const o=n?.token;ox!==o&&(ox=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wO(r=Jp()){const e=yd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Qk(r,{popupRedirectResolver:yO,persistence:[RD,gD,AT]}),s=l1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=TO(c.toString());dD(n,h,()=>h(n.currentUser)),hD(n,p=>h(p))}}const o=s1("auth");return o&&Xk(n,`http://${o}`),n}function AO(){return document.getElementsByTagName("head")?.[0]??document}zk({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Bi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",AO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bO("Browser");const SO={apiKey:"AIzaSyBoJz2b7j4Q_0j8BEKAUsb2MpyopPSH9mk",authDomain:"mudanzas-cadena.firebaseapp.com",projectId:"mudanzas-cadena",storageBucket:"mudanzas-cadena.firebasestorage.app",messagingSenderId:"1000922434241",appId:"1:1000922434241:web:bc41a61fbb4ae32e2b2240"},kT=d1(SO),nn=Kj(kT),DT=wO(kT),NO=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,c]=L.useState(!1),[h,p]=L.useState(null),[g,y]=L.useState(""),x=async $=>{if($.preventDefault(),!(!r.trim()||!n.trim())){c(!0),y(""),p(null);try{const G=Dg(vc(nn,"moves"),Ip("folio","==",r.trim().toUpperCase()),Ip("phone","==",n.trim())),q=await YE(G);q.empty?y("Los datos no coinciden. Revisa tu folio y el telfono registrado."):p(q.docs[0].data())}catch(G){console.error(G),y("Hubo un error de conexin al servidor.")}finally{c(!1)}}},E=($,G)=>{if(G&&G>0)return G;switch($){case"Pendiente":return 5;case"Programada":return 10;case"Contrato Firmado":return 15;case"En Carga":return 35;case"En Trnsito":return 70;case"Finalizada":return 100;default:return 0}},S=$=>{switch($){case"Finalizada":return"bg-green-500";case"En Trnsito":return"bg-cadena-blue";case"En Carga":return"bg-cadena-pink";default:return"bg-gray-300"}},M=h?E(h.status,h.porcentaje):0;return d.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-cadena-blue/10 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2 pointer-events-none z-0"}),d.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-cadena-pink/10 rounded-full blur-3xl translate-y-1/3 translate-x-1/4 pointer-events-none z-0"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-full shadow-xl flex items-center justify-center p-2 border border-white/50",children:d.jsx("img",{src:pd,alt:"Mascota Cadena",className:"w-full h-full object-contain"})})}),d.jsxs("h1",{className:"text-4xl font-extrabold text-cadena-dark mb-4",children:["Rastrea tu ",d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cadena-blue to-cadena-pink",children:"Mudanza"})]}),d.jsx("p",{className:"text-gray-600 mb-8 font-medium",children:"Ingresa tu nmero de folio y telfono para validar tu identidad."}),d.jsxs("form",{onSubmit:x,className:"space-y-4 max-w-md mx-auto",children:[d.jsx("div",{className:"relative",children:d.jsx("input",{type:"text",placeholder:"Folio (MUD-XXXX)",value:r,onChange:$=>e($.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg uppercase"})}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"tel",placeholder:"Telfono registrado",value:n,onChange:$=>s($.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg"})}),d.jsx("button",{type:"submit",disabled:o,className:"w-full bg-cadena-pink hover:bg-pink-600 text-white py-4 rounded-2xl font-black transition flex items-center justify-center gap-2 shadow-xl shadow-pink-200 disabled:opacity-70",children:o?"Buscando...":d.jsxs(d.Fragment,{children:[d.jsx(EN,{size:20})," Rastrear Mudanza"]})})]}),g&&d.jsxs("div",{className:"mt-6 p-4 max-w-md mx-auto bg-red-50/80 backdrop-blur-sm text-red-600 rounded-xl border border-red-100 flex items-center justify-center gap-2 animate-pulse",children:[d.jsx(Fp,{size:20}),g]})]}),h&&d.jsxs("div",{className:"max-w-4xl mx-auto bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60 animate-fade-in-up",children:[d.jsxs("div",{className:"bg-gradient-to-r from-cadena-dark to-slate-800 text-white p-8 flex justify-between items-center flex-wrap gap-4 border-b border-white/20",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Cliente"}),d.jsx("h3",{className:"text-2xl font-bold",children:h.client})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-pink-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Folio de Seguimiento"}),d.jsx("span",{className:"font-mono font-bold text-2xl text-white bg-white/10 px-4 py-1 rounded-lg border border-white/20",children:h.folio})]})]}),d.jsxs("div",{className:"p-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-12 bg-white/30 p-6 rounded-3xl border border-white/40",children:[d.jsxs("div",{className:"text-center w-1/3",children:[d.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-blue",children:d.jsx(mr,{size:24})}),d.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.origin}),d.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Origen"})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center px-4 relative",children:[d.jsx("div",{className:"w-full h-[2px] bg-gradient-to-r from-cadena-blue to-cadena-pink relative top-3",children:d.jsx("div",{className:"absolute -right-1 -top-[9px] text-cadena-pink",children:d.jsx(Ux,{size:20,strokeWidth:3})})}),d.jsx("p",{className:"text-xs font-bold text-cadena-blue mt-6 bg-blue-50/50 backdrop-blur-sm px-3 py-1 rounded-full border border-blue-100 uppercase",children:h.date})]}),d.jsxs("div",{className:"text-center w-1/3",children:[d.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-pink",children:d.jsx(mr,{size:24})}),d.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.destination}),d.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Destino"})]})]}),d.jsxs("div",{className:"mb-12",children:[d.jsxs("div",{className:"flex justify-between items-end mb-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Estado Actual"}),d.jsx("p",{className:"text-2xl font-black text-cadena-dark",children:h.status})]}),d.jsxs("span",{className:"text-3xl font-black text-cadena-blue",children:[M,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200/50 rounded-full h-5 p-1 border border-white shadow-inner",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-lg ${S(h.status)}`,style:{width:`${M}%`}})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative",children:[d.jsx(rp,{icon:d.jsx(Eo,{size:28}),label:"Recoleccin",active:M>=30,color:"text-cadena-pink",bgColor:"bg-white"}),d.jsx(rp,{icon:d.jsx(hs,{size:28}),label:"En Ruta",active:M>=60,color:"text-cadena-blue",bgColor:"bg-white"}),d.jsx(rp,{icon:d.jsx(Gp,{size:28}),label:"Entregado",active:M===100,color:"text-green-600",bgColor:"bg-white"})]})]})]})]})]})},rp=({icon:r,label:e,active:n,color:s,bgColor:o})=>d.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-700 ${n?"opacity-100 scale-105":"opacity-30 grayscale"}`,children:[d.jsx("div",{className:`w-20 h-20 rounded-3xl shadow-xl flex items-center justify-center border-2 transition-all duration-700 ${n?`${o} border-white shadow-blue-200/50`:"bg-gray-100/50 border-transparent"}`,children:d.jsx("div",{className:n?s:"text-gray-400",children:r})}),d.jsx("span",{className:`font-black text-xs uppercase tracking-tighter ${n?"text-cadena-dark":"text-gray-400"}`,children:e})]}),lx=[{id:"caja_ch",label:"Caja Chica",icon:d.jsx(cc,{size:20})},{id:"caja_gd",label:"Caja Grande",icon:d.jsx(cc,{size:28})},{id:"sala",label:"Silln / Sala",icon:d.jsx(Jx,{size:22})},{id:"comedor",label:"Mesa Comedor",icon:d.jsx(Wx,{size:22})},{id:"cama_ind",label:"Cama Indiv.",icon:d.jsx(go,{size:18})},{id:"cama_mat",label:"Cama Matrim.",icon:d.jsx(go,{size:22})},{id:"cama_ks",label:"Cama King Size",icon:d.jsx(go,{size:26})},{id:"refri",label:"Refrigerador",icon:d.jsx(Xx,{size:22})},{id:"lavadora",label:"Lavadora/Sec",icon:d.jsx(e1,{size:22})},{id:"tv",label:"TV / Pantalla",icon:d.jsx(Zx,{size:22})},{id:"escritorio",label:"Escritorio/Office",icon:d.jsx($x,{size:22})},{id:"bici",label:"Bicicleta",icon:d.jsx(Lh,{size:22})},{id:"moto",label:"Motocicleta",icon:d.jsx(Lh,{size:26,className:"text-slate-800"})},{id:"auto",label:"Automvil",icon:d.jsx(zx,{size:24})},{id:"arte",label:"Obra de Arte",icon:d.jsx(Fx,{size:22})},{id:"piano",label:"Piano",icon:d.jsx(Kx,{size:22})},{id:"fuerte",label:"Caja Fuerte",icon:d.jsx(Lx,{size:22})},{id:"pallet",label:"Pallet / Carga",icon:d.jsx(qx,{size:22})}],RO=()=>{const[r,e]=L.useState(1),[n,s]=L.useState(!1),[o,c]=L.useState(null),[h,p]=L.useState({client:"",phone:"",date:"",origin:"",destination:"",notes:""}),[g,y]=L.useState({}),x=(S,M)=>{y($=>{const G=$[S]||0,q=Math.max(0,G+M);return{...$,[S]:q}})},E=async S=>{S.preventDefault(),s(!0);try{const M=Object.entries(g).filter(([G,q])=>q>0).map(([G,q])=>({name:lx.find(ee=>ee.id===G).label,quantity:q}));let $="";await QE(nn,async G=>{const q=ci(nn,"counters","moves_counter"),ne=await G.get(q);let ee=1;ne.exists()&&(ee=ne.data().current+1),$=`MUD-${String(ee).padStart(4,"0")}`;const re=ci(vc(nn,"moves"));G.set(re,{...h,items:M,folio:$,status:"Pendiente",porcentaje:0,price:0,createdAt:new Date}),G.set(q,{current:ee})}),c($)}catch(M){console.error(M),alert("Error al enviar. Intenta de nuevo.")}finally{s(!1)}};return o?d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"relative z-10 bg-white/40 backdrop-blur-xl p-10 rounded-[2.5rem] shadow-2xl text-center max-w-md border border-white/60 animate-fade-in-up",children:[d.jsx("div",{className:"w-24 h-24 bg-green-500 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-200 rotate-12",children:d.jsx(ud,{size:48})}),d.jsx("h2",{className:"text-3xl font-black text-cadena-dark",children:"Recibido!"}),d.jsxs("p",{className:"text-gray-600 mt-4 font-medium",children:["Tu folio de cotizacin es:",d.jsx("span",{className:"font-black text-cadena-blue text-3xl block mt-2 bg-white/50 py-2 rounded-2xl border border-white tracking-tighter",children:o})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-6 leading-relaxed",children:"Un asesor analizar tu inventario y te contactar por WhatsApp para darte el mejor precio."}),d.jsx("a",{href:"/",className:"block mt-8 bg-cadena-dark text-white py-4 rounded-2xl font-bold hover:bg-black transition shadow-xl",children:"Volver al Inicio"})]})]}):d.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),d.jsx("div",{className:"max-w-3xl mx-auto relative z-10",children:d.jsxs("div",{className:"bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60",children:[d.jsxs("div",{className:"bg-gradient-to-r from-cadena-blue to-blue-700 p-8 text-white relative",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] bg-white/20 px-3 py-1 rounded-full border border-white/30",children:"Cotizacin en lnea"}),d.jsx("h2",{className:"text-3xl font-black mt-3",children:"Calcula tu Mudanza"}),d.jsxs("p",{className:"text-blue-100 text-sm mt-1 font-medium",children:["Paso ",r," de 2: ",r===1?"Tus Datos":"Inventario"]})]}),d.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-md",children:d.jsx(hs,{size:32})})]}),d.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-cadena-pink transition-all duration-500",style:{width:`${r/2*100}%`}})]}),d.jsxs("form",{onSubmit:E,className:"p-6 md:p-10 space-y-8",children:[r===1&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-1.5 h-6 bg-cadena-pink rounded-full"}),d.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Informacin de Contacto"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsx("div",{className:"group",children:d.jsx("input",{required:!0,placeholder:"Nombre Completo",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.client,onChange:S=>p({...h,client:S.target.value})})}),d.jsx("input",{required:!0,type:"tel",placeholder:"Telfono (WhatsApp)",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.phone,onChange:S=>p({...h,phone:S.target.value})}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Fecha deseada del servicio"}),d.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.date,onChange:S=>p({...h,date:S.target.value})})]})]}),d.jsxs("button",{type:"button",onClick:()=>e(2),className:"w-full bg-cadena-dark text-white py-5 rounded-2xl font-black text-lg mt-4 hover:bg-black transition shadow-xl shadow-gray-200 flex items-center justify-center gap-3",children:["Siguiente: Inventario ",d.jsx(hs,{size:20})]})]}),r===2&&d.jsxs("div",{className:"space-y-8 animate-fade-in",children:[d.jsxs("div",{className:"bg-blue-50/50 p-4 sm:p-6 rounded-3xl border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),d.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Ruta del Servicio"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{htmlFor:"origin",className:"text-[10px] font-black text-cadena-blue uppercase ml-4",children:"Direccin de Origen (Completa)"}),d.jsx("input",{id:"origin",name:"origin",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-blue-100 focus:border-cadena-blue focus:ring-2 focus:ring-blue-100 outline-none shadow-sm text-sm",value:h.origin,onChange:S=>p({...h,origin:S.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{htmlFor:"destination",className:"text-[10px] font-black text-cadena-pink uppercase ml-4",children:"Direccin de Destino (Completa)"}),d.jsx("input",{id:"destination",name:"destination",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-pink-100 focus:border-cadena-pink focus:ring-2 focus:ring-pink-100 outline-none shadow-sm text-sm",value:h.destination,onChange:S=>p({...h,destination:S.target.value})})]})]}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-3 text-center italic",children:"* Ingresa direcciones exactas para calcular la distancia correctamente."})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),d.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Lista de Inventario"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:lx.map(S=>d.jsxs("div",{className:`p-3 rounded-[2rem] border-2 flex flex-col items-center justify-between transition-all duration-300 ${g[S.id]>0?"border-cadena-blue bg-white shadow-lg shadow-blue-100 scale-105":"border-white bg-white/30 opacity-70"}`,children:[d.jsx("div",{className:`mb-2 ${g[S.id]>0?"text-cadena-blue":"text-gray-400"}`,children:S.icon}),d.jsx("span",{className:"text-[10px] font-black text-center mb-3 leading-tight uppercase tracking-tighter text-gray-700 min-h-[2em] flex items-center justify-center",children:S.label}),d.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-100 rounded-2xl px-2 py-1 sm:px-3 sm:py-2",children:[d.jsx("button",{type:"button",onClick:()=>x(S.id,-1),className:"text-gray-400 hover:text-red-500 transition p-1",children:d.jsx(aN,{size:12,strokeWidth:3})}),d.jsx("span",{className:"font-black w-4 text-center text-xs text-cadena-dark",children:g[S.id]||0}),d.jsx("button",{type:"button",onClick:()=>x(S.id,1),className:"text-cadena-blue hover:text-blue-700 transition p-1",children:d.jsx(Yx,{size:12,strokeWidth:3})})]})]},S.id))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Observaciones especiales"}),d.jsx("textarea",{placeholder:"Ej: Piano, tercer piso sin elevador, requiere volado de muebles...",className:"w-full p-4 bg-white/50 rounded-2xl border-2 border-white focus:border-cadena-blue outline-none h-24 text-sm shadow-sm",value:h.notes,onChange:S=>p({...h,notes:S.target.value})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{type:"button",onClick:()=>e(1),className:"flex items-center justify-center gap-2 px-8 py-4 text-gray-400 font-black text-xs uppercase tracking-widest hover:text-cadena-dark transition",children:[d.jsx(Bp,{size:16})," Atrs"]}),d.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-cadena-pink text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-pink-200 hover:scale-[1.02] transition-all disabled:opacity-50",children:n?"Procesando...":"Finalizar Cotizacin"})]})]})]})]})})]})},Kl="print:break-after-page print:min-h-screen print:flex print:flex-col print:justify-between relative bg-white shadow-lg p-12 mb-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-gray-800 print:shadow-none print:m-0 print:w-full",CO=()=>{const{id:r}=Cx(),e=L.useRef(null),[n,s]=L.useState(null),[o,c]=L.useState(!0),[h,p]=L.useState(!1),[g,y]=L.useState(!1),[x,E]=L.useState(!1),[S,M]=L.useState(null),[$,G]=L.useState(null);L.useEffect(()=>{if(!r)return;const ye=ci(nn,"moves",r),F=XE(ye,ie=>{if(ie.exists()){const he=ie.data();s({id:ie.id,...he})}else alert("Enlace no vlido.");c(!1)});return()=>F()},[r]);const q=ye=>new Promise(F=>{const ie=new FileReader;ie.readAsDataURL(ye),ie.onload=he=>{const Se=new Image;Se.src=he.target.result,Se.onload=()=>{const Oe=document.createElement("canvas"),O=800,W=O/Se.width;Oe.width=O,Oe.height=Se.height*W,Oe.getContext("2d").drawImage(Se,0,0,Oe.width,Oe.height),F(Oe.toDataURL("image/jpeg",.6))}}}),ne=ye=>{const F=ye.target.files[0];F&&(M(F),G(URL.createObjectURL(F)))},ee=()=>{M(null),G(null)},re=async ye=>{if(S){p(!0);try{const F=await q(S),ie=ye==="ine"?{idUrl:F}:{addressUrl:F};await td(ci(nn,"moves",r),ie),M(null),G(null)}catch(F){console.error(F),alert("Error al subir imagen.")}p(!1)}},pe=(ye,F)=>{const ie=F.getBoundingClientRect(),he=F.width/ie.width,Se=F.height/ie.height;return{x:((ye.clientX||ye.touches[0].clientX)-ie.left)*he,y:((ye.clientY||ye.touches[0].clientY)-ie.top)*Se}},de=ye=>{const F=e.current,ie=F.getContext("2d"),{x:he,y:Se}=pe(ye,F);ie.lineWidth=3,ie.lineCap="round",ie.strokeStyle="#000",ie.beginPath(),ie.moveTo(he,Se),y(!0)},ge=ye=>{if(!g)return;const F=e.current,ie=F.getContext("2d"),{x:he,y:Se}=pe(ye,F);ie.lineTo(he,Se),ie.stroke(),ye.type!=="mousemove"&&ye.preventDefault()},T=()=>{const ye=e.current;ye.getContext("2d").clearRect(0,0,ye.width,ye.height)},N=async()=>{if(!e.current)return;const ye=document.createElement("canvas");if(ye.width=e.current.width,ye.height=e.current.height,e.current.toDataURL()===ye.toDataURL()){alert("Por favor firme antes de aceptar.");return}const F=e.current.toDataURL();try{await td(ci(nn,"moves",r),{signature:F,status:"Contrato Firmado",signedAt:new Date}),alert("Contrato firmado correctamente!")}catch{alert("Error al guardar firma")}};if(o)return d.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-gray-500",children:"Cargando..."});if(!n)return d.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Enlace no vlido."});const R=!n.idUrl,j=!n.addressUrl,k=!R&&!j&&n.status==="Pendiente",P=["Programada","Contrato Firmado","En Carga","En Trnsito","Finalizada"].includes(n.status);let C="loading";R?C="upload_ine":j?C="upload_address":k?C="waiting":P&&(!x&&n.status!=="Contrato Firmado"?C="review_data":C="contract");const He=()=>d.jsxs("div",{className:"mt-auto pt-8 border-t border-gray-300 flex justify-between items-end text-xs",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"MUDANZAS CADENA"}),d.jsxs("p",{children:["Folio: ",n.folio]})]}),d.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?d.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):d.jsx("div",{className:"h-12"}),d.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold",children:"FIRMA C."})]})]});return d.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 print:bg-white print:p-0",children:[d.jsxs("div",{className:"max-w-xl mx-auto print:hidden",children:[C==="upload_ine"&&d.jsx(cx,{title:"INE / Pasaporte",desc:"Sube tu identificacin oficial",icon:d.jsx(hd,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:ne,preview:$,onConfirm:()=>re("ine"),onCancel:ee,uploading:h}),C==="upload_address"&&d.jsx(cx,{title:"Comprobante de Domicilio",desc:"Recibo de luz, agua o internet",icon:d.jsx(Gp,{size:40}),color:"text-cadena-pink",bg:"bg-pink-100",onSelect:ne,preview:$,onConfirm:()=>re("address"),onCancel:ee,uploading:h}),C==="waiting"&&d.jsxs("div",{className:"p-12 text-center bg-white rounded-3xl shadow-xl border-t-8 border-yellow-400",children:[d.jsx(Hp,{size:80,className:"mx-auto text-yellow-500 mb-6 animate-pulse"}),d.jsx("h2",{className:"text-2xl font-bold",children:"Validando Documentacin"}),d.jsx("p",{className:"text-gray-500 mt-4",children:"Un asesor est revisando tu informacin. Te notificaremos por WhatsApp cuando el contrato est listo."})]}),C==="review_data"&&d.jsxs("div",{className:"p-8 bg-white rounded-3xl shadow-xl",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Revisa los Datos Finales"}),d.jsxs("div",{className:"space-y-4 mb-6 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Cliente:"})," ",n.client]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Origen:"})," ",n.origin]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Destino:"})," ",n.destination]}),d.jsxs("p",{className:"text-xl font-black text-cadena-blue text-right",children:["Total: $",n.price?.toLocaleString()]})]}),d.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold flex justify-center gap-2",children:["Datos Correctos, Ver Contrato ",d.jsx(Ux,{})]})]})]}),C==="contract"&&d.jsxs("div",{className:"max-w-[21.5cm] mx-auto",children:[d.jsxs("div",{className:Kl,children:[d.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("img",{src:lp,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),d.jsx("p",{className:"text-xs tracking-[0.2em] text-gray-400 font-bold uppercase mt-1 ml-1",children:"Logstica y Transporte"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-black text-gray-700 text-lg",children:"CONTRATO DE SERVICIO"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["FOLIO: ",d.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),d.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),d.jsxs("div",{className:"space-y-6 text-sm uppercase",children:[d.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),d.jsx("p",{children:n.origin})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),d.jsx("p",{children:n.destination})]})]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),d.jsxs("p",{className:"mt-2",children:[d.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",d.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),d.jsx("div",{className:"mt-auto text-center font-bold text-xl text-gray-400 italic",children:"COTIZA HOY, MDATE HOY"}),d.jsx(He,{})]}),d.jsxs("div",{className:Kl,children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),d.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b pb-4",children:"Revisado y Autorizado por el Cliente"}),d.jsx("div",{className:"flex-1",children:n.items&&n.items.length>0?d.jsx("div",{className:"columns-2 md:columns-3 gap-8",children:n.items.map((ye,F)=>d.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-3 text-sm",children:[d.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center",children:ye.quantity}),d.jsx("span",{className:"leading-tight",children:ye.name})]},F))}):d.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:d.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})}),d.jsx("div",{className:"mt-auto"}),d.jsx(He,{})]}),d.jsxs("div",{className:Kl,children:[d.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),d.jsxs("div",{className:"text-[10px] leading-relaxed text-justify space-y-2 flex-1",children:[d.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),d.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),d.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),d.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),d.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),d.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),d.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),d.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),d.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),d.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),d.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio... En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),d.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),d.jsx("p",{children:'13. El cliente que es quien remite el servicio, encomienda a "MUDANZAS CADENA", y este se obliga a transportar en sujecin de las leyes...'}),d.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),d.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."}),d.jsx("p",{className:"font-bold text-center mt-4",children:"AL FIRMAR ESTE CONTRATO, EST ACEPTANDO LAS CONDICIONES DE SERVICIO ANTES MENCIONADAS."})]}),d.jsx(He,{})]}),d.jsxs("div",{className:Kl,children:[d.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),d.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[d.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),d.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),d.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),d.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),d.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((ye,F)=>d.jsxs("tr",{className:"border-b border-black",children:[d.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:ye.description}),d.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(ye.cost).toLocaleString()]}),d.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:ye.quantity}),d.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(ye.cost*ye.quantity).toLocaleString()]})]},F)):d.jsxs("tr",{children:[d.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),d.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),d.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),d.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),d.jsxs("div",{className:"w-1/2 ml-auto",children:[d.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[d.jsx("span",{children:"SUBTOTAL"})," ",d.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[d.jsx("span",{children:"IVA (16%)"})," ",d.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[d.jsx("span",{children:"RETENCIN (-4%)"})," ",d.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[d.jsx("span",{children:"TOTAL"})," ",d.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]}),d.jsx("div",{className:"flex-1"}),d.jsx(He,{})]}),d.jsxs("div",{className:Kl,children:[d.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),d.jsxs("div",{className:"space-y-6 text-sm flex-1 text-center",children:[d.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),d.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[d.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),d.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),d.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),d.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[d.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),d.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),d.jsx("p",{children:"CUENTA: 047 181 9445"}),d.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",d.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]}),d.jsx(He,{})]}),d.jsx("div",{className:"mt-8 mb-16 p-8 bg-gray-100 border-2 border-dashed border-gray-300 rounded-3xl text-center print:hidden",children:n.status!=="Contrato Firmado"&&!n.signature?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-2xl font-bold text-cadena-dark mb-4",children:"Aceptacin del Contrato"}),d.jsx("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:"Al firmar a continuacin, confirmas que has ledo todas las clusulas, verificado el inventario y aceptas las condiciones del servicio."}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 max-w-md mx-auto mb-6 touch-none",children:[d.jsx("p",{className:"text-xs text-gray-400 mb-2 uppercase font-bold text-left",children:"Dibuja tu firma:"}),d.jsx("canvas",{ref:e,width:300,height:150,className:"w-full h-full cursor-crosshair border-b border-gray-300",onMouseDown:de,onMouseMove:ge,onMouseUp:()=>y(!1),onTouchStart:de,onTouchMove:ge,onTouchEnd:()=>y(!1)}),d.jsx("button",{onClick:T,className:"text-xs text-red-500 underline w-full text-right mt-1",children:"Borrar firma"})]}),d.jsxs("button",{onClick:N,className:"bg-cadena-blue text-white px-12 py-4 rounded-full font-bold shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-3 mx-auto",children:[d.jsx(Qx,{size:20})," FIRMAR Y FINALIZAR"]})]}):d.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-green-200 inline-block",children:[d.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mx-auto mb-4",children:d.jsx(ud,{size:40})}),d.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Contrato Firmado!"}),d.jsx("p",{className:"text-green-700 mb-6",children:"Tu mudanza est 100% confirmada."}),d.jsxs("button",{onClick:()=>window.print(),className:"bg-cadena-dark text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 mx-auto hover:bg-black transition",children:[d.jsx(fd,{size:20})," Descargar PDF Firmado"]})]})})]})]})},cx=({title:r,desc:e,icon:n,color:s,bg:o,onSelect:c,preview:h,onConfirm:p,onCancel:g,uploading:y})=>d.jsxs("div",{className:"p-8 text-center bg-white rounded-3xl shadow-xl max-w-md mx-auto",children:[d.jsx("div",{className:`w-20 h-20 ${o} ${s} rounded-full flex items-center justify-center mx-auto mb-6`,children:n}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r}),d.jsx("p",{className:"text-gray-500 mb-6",children:e}),h?d.jsxs("div",{className:"animate-fade-in-up",children:[d.jsx("div",{className:"mb-6 relative rounded-xl overflow-hidden border-2 border-gray-200 shadow-sm max-h-64 mx-auto",children:d.jsx("img",{src:h,alt:"Vista previa",className:"w-full h-full object-contain bg-gray-50"})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:p,disabled:y,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition ${y?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 hover:scale-[1.02]"}`,children:y?d.jsx(d.Fragment,{children:"Subiendo..."}):d.jsxs(d.Fragment,{children:[d.jsx(ud,{size:20})," Confirmar y Enviar"]})}),d.jsxs("button",{onClick:g,disabled:y,className:"w-full py-3 rounded-xl font-bold text-red-500 bg-red-50 hover:bg-red-100 flex items-center justify-center gap-2 transition",children:[d.jsx(fo,{size:18})," Cancelar / Cambiar Foto"]})]})]}):d.jsxs("label",{className:"block w-full border-2 border-dashed border-gray-300 rounded-2xl p-10 cursor-pointer hover:bg-gray-50 hover:border-cadena-blue transition group",children:[d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c}),d.jsx(Bx,{className:`mx-auto ${s} mb-4 group-hover:scale-110 transition`,size:48}),d.jsx("span",{className:"font-bold text-gray-600 group-hover:text-cadena-blue",children:"Toca para seleccionar foto"})]})]}),IO=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,c]=L.useState(""),h=Tc(),p=async g=>{g.preventDefault();try{await uD(DT,r,n),h("/admin/dashboard")}catch{c("Credenciales incorrectas. Intenta de nuevo.")}};return d.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl w-full max-w-md border border-white relative z-10",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-lg overflow-hidden",children:d.jsx("img",{src:pd,alt:"Admin",className:"w-full h-full object-cover object-top pt-2 scale-110"})}),d.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Acceso Administrativo"}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa tus credenciales para gestionar."})]}),o&&d.jsxs("div",{className:"bg-red-50 text-red-500 p-3 rounded-xl text-sm font-bold flex items-center gap-2 mb-6 border border-red-100",children:[d.jsx(Fp,{size:18})," ",o]}),d.jsxs("form",{onSubmit:p,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Correo Electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(Gx,{className:"absolute left-4 top-3.5 text-cadena-blue",size:20}),d.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-blue focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"e-mail",value:r,onChange:g=>e(g.target.value),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(XS,{className:"absolute left-4 top-3.5 text-cadena-pink",size:20}),d.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-pink focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"",value:n,onChange:g=>s(g.target.value),required:!0})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold shadow-lg hover:bg-black transition transform active:scale-95",children:"Entrar al Sistema"})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsxs(Hn,{to:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-cadena-blue font-bold text-sm transition",children:[d.jsx(Bp,{size:16})," Volver al sitio web"]})})]})]})},xh=({move:r,onEdit:e,onDelete:n,onCopyLink:s,onViewId:o,onPrintOrder:c,isPending:h})=>{const p=Array.isArray(r.items)&&r.items.length>0;return d.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border flex flex-col md:flex-row justify-between gap-6 hover:shadow-lg transition-all duration-300 ${h?"border-l-[6px] border-l-cadena-pink border-t border-r border-b border-gray-100":"border border-gray-100"}`,children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("span",{className:"bg-gray-100 text-gray-500 px-2 py-1 rounded-md text-xs font-bold font-mono tracking-wider",children:r.folio}),d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r.client}),r.phone&&d.jsx("a",{href:`https://wa.me/${r.phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-500 bg-green-50 p-1.5 rounded-full hover:bg-green-100 transition",children:d.jsx($p,{size:18})})]}),d.jsxs("div",{className:"text-sm text-gray-500 space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2.5",children:[d.jsx(mr,{size:16,className:"text-cadena-pink"})," ",d.jsx("span",{className:"font-medium truncate max-w-xs",children:r.origin})]}),d.jsxs("div",{className:"flex items-center gap-2.5",children:[d.jsx(hs,{size:16,className:"text-gray-400"})," ",p?`${r.items.length} Artculos registrados`:"Sin lista de inventario"]})]}),d.jsxs("div",{className:"flex gap-2",children:[r.idUrl&&d.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold",children:"INE OK"}),r.addressUrl&&d.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:"DOM OK"})]})]}),d.jsxs("div",{className:"flex flex-col items-end justify-between min-w-[140px] border-l border-gray-50 pl-6 md:border-l-0 md:pl-0",children:[d.jsxs("div",{className:"text-right",children:[r.price>0?d.jsxs("p",{className:"text-2xl font-black text-cadena-dark",children:["$",r.price.toLocaleString()]}):d.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full font-bold uppercase tracking-wide",children:"Por Cotizar"}),d.jsx("div",{className:`mt-2 inline-block px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide text-white ${r.status==="Contrato Firmado"?"bg-purple-500":"bg-cadena-blue"}`,children:r.status})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[c&&d.jsx("button",{onClick:c,className:"p-2.5 text-orange-600 bg-orange-50 rounded-xl hover:bg-orange-100 transition",children:d.jsx(fd,{size:20})}),d.jsx("button",{onClick:o,className:"p-2.5 text-green-600 bg-green-50 rounded-xl hover:bg-green-100 transition",children:d.jsx(OS,{size:20})}),d.jsx("button",{onClick:e,className:"p-2.5 text-white bg-cadena-blue rounded-xl shadow-md hover:bg-blue-700 transition hover:-translate-y-0.5",children:d.jsx(hN,{size:20})}),s&&d.jsx("button",{onClick:s,className:"p-2.5 text-purple-600 bg-purple-50 rounded-xl hover:bg-purple-100 transition",children:d.jsx(CS,{size:20})}),d.jsx("button",{onClick:n,className:"p-2.5 text-red-400 bg-red-50 rounded-xl hover:bg-red-100 transition",children:d.jsx(fo,{size:20})})]})]})]})};const OT="firebasestorage.googleapis.com",MT="storageBucket",jO=120*1e3,kO=600*1e3;class Wt extends Hi{constructor(e,n,s=0){super(sp(e),`Firebase Storage: ${n} (${sp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function sp(r){return"storage/"+r}function DO(){const r="An unknown error occurred, please check the error payload for server response.";return new Wt(Jt.UNKNOWN,r)}function OO(r){return new Wt(Jt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function MO(r){return new Wt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Jt.UNAUTHENTICATED,r)}function PO(){return new Wt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LO(r){return new Wt(Jt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function UO(){return new Wt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zO(){return new Wt(Jt.CANCELED,"User canceled the upload/download.")}function BO(r){return new Wt(Jt.INVALID_URL,"Invalid URL '"+r+"'.")}function qO(r){return new Wt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function FO(){return new Wt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MT+"' property when initializing the app?")}function Op(r){return new Wt(Jt.INVALID_ARGUMENT,r)}function VT(){return new Wt(Jt.APP_DELETED,"The Firebase app was deleted.")}function HO(r){return new Wt(Jt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ql(r){throw new Wt(Jt.INTERNAL_ERROR,"Internal error: "+r)}class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(s.path==="")return s;throw qO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(pe){pe.path_=decodeURIComponent(pe.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${E}/${x}/b/${o}/o${S}`,"i"),$={bucket:1,path:3},G=n===OT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",ne=new RegExp(`^https?://${G}/${o}/${q}`,"i"),re=[{regex:p,indices:g,postModify:c},{regex:M,indices:$,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let pe=0;pe<re.length;pe++){const de=re[pe],ge=de.regex.exec(e);if(ge){const T=ge[de.indices.bucket];let N=ge[de.indices.path];N||(N=""),s=new Gn(T,N),de.postModify(s);break}}if(s==null)throw BO(e);return s}}class GO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $O(r,e,n){let s=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function x(...q){y||(y=!0,e.apply(null,q))}function E(q){o=setTimeout(()=>{o=null,r(M,g())},q)}function S(){c&&clearTimeout(c)}function M(q,...ne){if(y){S();return}if(q){S(),x.call(null,q,...ne);return}if(g()||h){S(),x.call(null,q,...ne);return}s<64&&(s*=2);let re;p===1?(p=2,re=0):re=(s+Math.random())*1e3,E(re)}let $=!1;function G(q){$||($=!0,S(),!y&&(o!==null?(q||(p=2),clearTimeout(o),E(0)):q||(p=1)))}return E(0),c=setTimeout(()=>{h=!0,G(!0)},n),G}function KO(r){r(!1)}function QO(r){return r!==void 0}function ux(r,e,n,s){if(s<e)throw Op(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Op(`Invalid value for '${r}'. Expected ${n} or less.`)}function YO(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function XO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var sa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(sa||(sa={}));function JO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}class WO{constructor(e,n,s,o,c,h,p,g,y,x,E,S=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,G)=>{this.resolve_=$,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===sa.NO_ERROR,g=c.getStatus();if(!p||JO(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===sa.ABORT;s(!1,new Eh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Eh(y,c))})},n=(s,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());QO(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=DO();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?VT():zO();h(g)}else{const g=UO();h(g)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=$O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function e3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function n3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function i3(r,e,n,s,o,c,h=!0,p=!1){const g=XO(r.urlParams),y=r.url+g,x=Object.assign({},r.headers);return t3(x,e),ZO(x,n),e3(x,c),n3(x,s),new WO(y,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function r3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function s3(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function a3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class o3{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function l3(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=PO():o=VO():n.getStatus()===402?o=MO(r.bucket):n.getStatus()===403?o=LO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function c3(r){const e=l3(r);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=OO(r.path)),c.serverResponse=o.serverResponse,c}return n}function u3(r,e){const n=e.fullServerUrl(),s=YO(n,r.host,r._protocol),o="DELETE",c=r.maxOperationRetryTime;function h(g,y){}const p=new o3(s,o,h,c);return p.successCodes=[200,204],p.errorHandler=c3(e),p}class h3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw Ql("cannot .send() more than once");if(bs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d3 extends h3{initXhr(){this.xhr_.responseType="text"}}function f3(){return new d3}class da{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a3(this._location.path)}get storage(){return this._service}get parent(){const e=r3(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HO(e)}}function m3(r){r._throwIfRoot("deleteObject");const e=u3(r.storage,r._location);return r.storage.makeRequestWithTokens(e,f3)}function p3(r,e){const n=s3(r._location.path,e),s=new Gn(r._location.bucket,n);return new da(r.storage,s)}function g3(r){return/^[A-Za-z]+:\/\//.test(r)}function y3(r,e){return new da(r,e)}function PT(r,e){if(r instanceof Hg){const n=r;if(n._bucket==null)throw FO();const s=new da(n,n._bucket);return e!=null?PT(s,e):s}else return e!==void 0?p3(r,e):r}function v3(r,e){if(e&&g3(e)){if(r instanceof Hg)return y3(r,e);throw Op("To use ref(service, url), the first argument must be a Storage instance.")}else return PT(r,e)}function hx(r,e){const n=e?.[MT];return n==null?null:Gn.makeFromBucketSpec(n,r)}function _3(r,e,n,s={}){r.host=`${e}:${n}`;const o=bs(e);o&&(Kp(`https://${r.host}/b`),Qp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:c1(c,r.app.options.projectId))}class Hg{constructor(e,n,s,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=OT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jO,this._maxUploadRetryTime=kO,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=hx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=hx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ux("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ux("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new GO(VT());{const h=i3(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const dx="@firebase/storage",fx="0.14.0";const LT="storage";function b3(r){return r=ht(r),m3(r)}function x3(r,e){return r=ht(r),v3(r,e)}function E3(r=Jp(),e){r=ht(r);const s=yd(r,LT).getImmediate({identifier:e}),o=a1("storage");return o&&T3(s,...o),s}function T3(r,e,n,s={}){_3(r,e,n,s)}function w3(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Hg(n,s,o,e,ma)}function A3(){oa(new ds(LT,w3,"PUBLIC").setMultipleInstances(!0)),Pi(dx,fx,""),Pi(dx,fx,"esm2020")}A3();const S3=[{id:"caja_ch",label:"Caja Chica",icon:d.jsx(cc,{size:18})},{id:"caja_gd",label:"Caja Grande",icon:d.jsx(cc,{size:22})},{id:"sala",label:"Silln / Sala",icon:d.jsx(Jx,{size:20})},{id:"comedor",label:"Mesa Comedor",icon:d.jsx(Wx,{size:20})},{id:"cama_ind",label:"Cama Indiv.",icon:d.jsx(go,{size:18})},{id:"cama_mat",label:"Cama Matrim.",icon:d.jsx(go,{size:20})},{id:"cama_ks",label:"Cama King Size",icon:d.jsx(go,{size:22})},{id:"refri",label:"Refrigerador",icon:d.jsx(Xx,{size:20})},{id:"lavadora",label:"Lavadora/Sec",icon:d.jsx(e1,{size:20})},{id:"tv",label:"TV / Pantalla",icon:d.jsx(Zx,{size:20})},{id:"escritorio",label:"Escritorio/Office",icon:d.jsx($x,{size:20})},{id:"bici",label:"Bicicleta",icon:d.jsx(Lh,{size:20})},{id:"moto",label:"Motocicleta",icon:d.jsx(Lh,{size:22,className:"text-slate-800"})},{id:"auto",label:"Automvil",icon:d.jsx(zx,{size:22})},{id:"arte",label:"Obra de Arte",icon:d.jsx(Fx,{size:20})},{id:"piano",label:"Piano",icon:d.jsx(Kx,{size:20})},{id:"fuerte",label:"Caja Fuerte",icon:d.jsx(Lx,{size:20})},{id:"pallet",label:"Pallet / Carga",icon:d.jsx(qx,{size:20})}],N3=({title:r,onClose:e,children:n})=>d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:d.jsx(md,{size:20})})]}),d.jsx("div",{className:"p-8",children:n})]})}),R3=({url:r,onClose:e})=>d.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex flex-col items-center justify-center p-4 animate-fade-in",onClick:e,children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white bg-white/20 p-2 rounded-full hover:bg-white/40 transition",children:d.jsx(md,{size:32})}),d.jsx("img",{src:r,alt:"Documento",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),d.jsx("p",{className:"text-white/70 mt-4 text-sm",children:"Toca cualquier parte para cerrar"})]}),C3=({moveData:r,onClose:e,onSuccess:n})=>{const[s,o]=L.useState({...r,taxType:r.taxType||"retention"}),[c,h]=L.useState({name:"",quantity:1}),[p,g]=L.useState(null),[y,x]=L.useState(null);L.useEffect(()=>{o({...r,taxType:r.taxType||"retention"})},[r]);const E=T=>{const N=[...s.items||[]],R=N.findIndex(j=>j.name===T);R>=0?N[R].quantity=Number(N[R].quantity)+1:N.push({name:T,quantity:1}),o({...s,items:N})},S=()=>{if(!c.name)return;const T=[...s.items||[]],N=T.findIndex(R=>R.name.toLowerCase()===c.name.toLowerCase());N>=0?T[N].quantity=Number(T[N].quantity)+Number(c.quantity):T.push({...c}),o({...s,items:T}),h({name:"",quantity:1})},M=T=>{const N=[...s.items];N.splice(T,1),o({...s,items:N})},$=(T,N)=>{const R=[...s.items];R[T].quantity=Number(N),o({...s,items:R})},G=()=>{const T=s.financialItems||[];o({...s,financialItems:[...T,{description:"",cost:0,quantity:1}]})},q=T=>{const N=[...s.financialItems||[]];N.splice(T,1),o({...s,financialItems:N})},ne=(T,N,R)=>{const j=[...s.financialItems||[]];j[T][N]=R,o({...s,financialItems:j})},ee=()=>{const N=(s.financialItems||[]).reduce((P,C)=>P+Number(C.cost)*Number(C.quantity),0);let R=0,j=0;switch(s.taxType){case"iva":R=N*.16,j=0;break;case"retention":R=N*.16,j=N*.04;break;default:R=0,j=0;break}const k=N+R-j;o({...s,subtotal:N.toFixed(2),iva:R.toFixed(2),retention:j.toFixed(2),price:k.toFixed(2)})},re=async(T,N)=>{if(!window.confirm("Seguro que quieres eliminar este archivo?"))return;g(T),(async()=>{try{const j=E3(),k=x3(j,N);await b3(k),console.log("Archivo fsico eliminado en segundo plano.")}catch(j){console.warn("El archivo fsico no se pudo borrar (probablemente ya no exista), pero no importa.",j)}})();try{const j=ci(nn,"moves",s.id);await td(j,{[T]:tk()}),o(k=>({...k,[T]:null}))}catch(j){console.error(j),alert("Error al actualizar la base de datos.")}finally{g(null)}},pe=async T=>{T.preventDefault();try{await td(ci(nn,"moves",s.id),{...s,taxType:s.taxType||"retention",notes:s.notes||"",items:s.items||[]}),alert("Servicio actualizado correctamente."),n&&n(),e()}catch(N){console.error(N),alert("Error: "+N.message)}},de="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",ge="block text-xs font-bold text-gray-500 uppercase mb-1.5";return d.jsxs(d.Fragment,{children:[y&&d.jsx(R3,{url:y,onClose:()=>x(null)}),d.jsx(N3,{title:`Editor de Servicio: ${s.folio}`,onClose:e,children:d.jsxs("form",{onSubmit:pe,className:"space-y-8",children:[d.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[d.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Datos Generales"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Nombre Cliente"}),d.jsx("input",{className:de,value:s.client,onChange:T=>o({...s,client:T.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"WhatsApp"}),d.jsx("input",{className:de,value:s.phone,onChange:T=>o({...s,phone:T.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Fecha Tentativa"}),d.jsx("input",{type:"date",className:de,value:s.date,onChange:T=>o({...s,date:T.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Estado Actual"}),d.jsxs("select",{className:`${de} cursor-pointer font-bold text-cadena-blue`,value:s.status,onChange:T=>o({...s,status:T.target.value}),children:[d.jsx("option",{value:"Pendiente",children:"Pendiente (Docs)"}),d.jsx("option",{value:"Programada",children:"Programada (Autorizado)"}),d.jsx("option",{value:"Contrato Firmado",children:"Contrato Firmado"}),d.jsx("option",{value:"En Carga",children:"En Carga"}),d.jsx("option",{value:"En Trnsito",children:"En Trnsito"}),d.jsx("option",{value:"Finalizada",children:"Finalizada"})]})]})]})]}),d.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[d.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Ruta Logstica"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Direccin Origen"}),d.jsx("textarea",{className:`${de} h-24`,value:s.origin,onChange:T=>o({...s,origin:T.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Direccin Destino"}),d.jsx("textarea",{className:`${de} h-24`,value:s.destination,onChange:T=>o({...s,destination:T.target.value})})]})]})]}),d.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[d.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[d.jsx(Eo,{size:18})," Inventario"]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:"AGREGAR RPIDO:"}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:S3.map(T=>d.jsxs("button",{type:"button",onClick:()=>E(T.label),className:"flex flex-col items-center justify-center p-2 rounded-lg border border-gray-200 hover:border-cadena-blue hover:bg-blue-50 transition text-gray-500 hover:text-cadena-blue group bg-white",children:[d.jsx("div",{className:"mb-1 group-hover:scale-110 transition-transform",children:T.icon}),d.jsx("span",{className:"text-[9px] font-bold text-center leading-tight",children:T.label})]},T.id))})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-xl space-y-2 border border-gray-100 max-h-60 overflow-y-auto mb-4",children:s.items&&s.items.length>0?s.items.map((T,N)=>d.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-lg shadow-sm border border-gray-100 text-sm",children:[d.jsx("input",{type:"number",className:"w-16 p-1 border border-gray-200 rounded text-center font-bold outline-none focus:border-cadena-blue",value:T.quantity,onChange:R=>$(N,R.target.value)}),d.jsx("span",{className:"flex-1 font-medium text-gray-700",children:T.name}),d.jsx("button",{type:"button",onClick:()=>M(N),className:"text-red-300 hover:text-red-500 transition p-1",children:d.jsx(fo,{size:16})})]},N)):d.jsx("p",{className:"text-center text-gray-400 text-xs py-4",children:"Inventario vaco"})}),d.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-gray-200 items-center",children:[d.jsx("span",{className:"text-xs font-bold text-gray-400 whitespace-nowrap",children:"OTRO:"}),d.jsx("input",{type:"number",className:"w-20 p-2 border border-gray-200 rounded-lg text-sm outline-none focus:border-cadena-pink",placeholder:"Cant.",value:c.quantity,onChange:T=>h({...c,quantity:Number(T.target.value)})}),d.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-200 rounded-lg text-sm outline-none focus:border-cadena-pink",placeholder:"Nombre...",value:c.name,onChange:T=>h({...c,name:T.target.value})}),d.jsxs("button",{type:"button",onClick:S,className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-black transition flex items-center gap-1 text-xs font-bold",children:[d.jsx(Yx,{size:16})," AGREGAR"]})]})]}),d.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-2xl border border-blue-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 text-cadena-blue",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(R_,{size:20}),d.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Desglose Financiero"})]}),d.jsx("button",{type:"button",onClick:G,className:"text-xs bg-white border border-cadena-blue px-3 py-1 rounded-full hover:bg-blue-100 transition",children:"+ Agregar Fila"})]}),d.jsx("div",{className:"space-y-2 mb-6",children:s.financialItems&&s.financialItems.map((T,N)=>d.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[d.jsx("div",{className:"col-span-6",children:d.jsx("textarea",{className:`${de} h-16 text-xs py-2`,placeholder:"Descripcin...",value:T.description,onChange:R=>ne(N,"description",R.target.value)})}),d.jsx("div",{className:"col-span-2",children:d.jsx("input",{type:"number",className:`${de} text-center`,placeholder:"$0",value:T.cost,onChange:R=>ne(N,"cost",R.target.value)})}),d.jsx("div",{className:"col-span-2",children:d.jsx("input",{type:"number",className:`${de} text-center`,placeholder:"1",value:T.quantity,onChange:R=>ne(N,"quantity",R.target.value)})}),d.jsx("div",{className:"col-span-2 flex items-center justify-center h-full",children:d.jsx("button",{type:"button",onClick:()=>q(N),className:"text-red-400 hover:text-red-600 bg-white p-2 rounded shadow-sm",children:d.jsx(fo,{size:16})})})]},N))}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 border-t border-blue-100 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(yN,{size:18,className:"text-gray-400"}),d.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:border-cadena-blue",value:s.taxType||"retention",onChange:T=>o({...s,taxType:T.target.value}),children:[d.jsx("option",{value:"none",children:"Sin Impuestos (Neto)"}),d.jsx("option",{value:"iva",children:"Solo IVA (16%)"}),d.jsx("option",{value:"retention",children:"IVA (16%) + Retencin (-4%)"})]})]}),d.jsxs("button",{type:"button",onClick:ee,className:"bg-cadena-dark text-white px-6 py-2 rounded-lg text-xs font-bold hover:bg-black transition shadow-md flex gap-2 items-center w-full sm:w-auto justify-center",children:[d.jsx(R_,{size:14})," Calcular Totales"]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex justify-between w-48",children:[d.jsx("span",{children:"Subtotal:"})," ",d.jsxs("span",{className:"font-bold",children:["$",Number(s.subtotal||0).toLocaleString()]})]}),(s.taxType==="iva"||s.taxType==="retention")&&d.jsxs("div",{className:"flex justify-between w-48",children:[d.jsx("span",{children:"IVA (16%):"})," ",d.jsxs("span",{className:"font-bold",children:["$",Number(s.iva||0).toLocaleString()]})]}),s.taxType==="retention"&&d.jsxs("div",{className:"flex justify-between w-48 text-red-500",children:[d.jsx("span",{children:"Retencin (4%):"})," ",d.jsxs("span",{className:"font-bold",children:["-$",Number(s.retention||0).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between w-64 mt-2 pt-2 border-t border-cadena-blue items-center",children:[d.jsx("span",{className:"font-black text-cadena-blue",children:"TOTAL FINAL:"}),d.jsx("input",{type:"number",className:"w-32 p-2 text-xl font-black text-cadena-blue bg-white border-2 border-cadena-blue rounded-lg text-right outline-none",value:s.price||"",onChange:T=>o({...s,price:T.target.value})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:ge,children:"Notas / Observaciones"}),d.jsx("textarea",{className:`${de} h-32 resize-none`,value:s.notes||"",onChange:T=>o({...s,notes:T.target.value}),placeholder:"Detalles importantes..."})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[d.jsx(Bx,{size:16})," Documentos del Cliente"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-xs font-bold text-gray-600",children:"IDENTIFICACIN (INE)"}),s.idUrl?d.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-bold",children:"CARGADO"}):d.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),s.idUrl?d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>x(s.idUrl),children:d.jsx("img",{src:s.idUrl,alt:"INE Preview",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>x(s.idUrl),className:"flex-1 bg-blue-50 text-blue-600 text-xs font-bold py-2 rounded hover:bg-blue-100 transition text-center flex items-center justify-center gap-2",children:[d.jsx(I_,{size:14})," AMPLIAR"]}),d.jsx("button",{type:"button",onClick:()=>re("idUrl",s.idUrl),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p==="idUrl"?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p==="idUrl"?d.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):d.jsx(fo,{size:14})})]})]}):d.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]}),d.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-xs font-bold text-gray-600",children:"COMPROBANTE DOMICILIO"}),s.addressUrl?d.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-bold",children:"CARGADO"}):d.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),s.addressUrl?d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>x(s.addressUrl),children:d.jsx("img",{src:s.addressUrl,alt:"Domicilio Preview",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>x(s.addressUrl),className:"flex-1 bg-purple-50 text-purple-600 text-xs font-bold py-2 rounded hover:bg-purple-100 transition text-center flex items-center justify-center gap-2",children:[d.jsx(I_,{size:14})," AMPLIAR"]}),d.jsx("button",{type:"button",onClick:()=>re("addressUrl",s.addressUrl),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p==="addressUrl"?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p==="addressUrl"?d.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):d.jsx(fo,{size:14})})]})]}):d.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]})]})]})]}),d.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition flex justify-center gap-2 items-center text-lg mt-4",children:[d.jsx(bN,{size:20})," Guardar Cambios y Actualizar"]})]})})]})},Th=({label:r,icon:e,active:n,onClick:s,count:o,colorClass:c})=>d.jsxs("button",{onClick:s,className:`flex items-center gap-2 py-4 border-b-4 font-bold transition whitespace-nowrap px-4 ${n?`border-${c} text-${c}`:"border-transparent text-gray-400 hover:text-gray-600"}`,children:[e," ",r,o>0&&d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${n?`bg-${c}/10 text-${c}`:"bg-gray-100 text-gray-500"}`,children:o})]}),wh=({msg:r})=>d.jsx("div",{className:"text-center py-16 bg-white rounded-2xl border-2 border-dashed border-gray-100",children:d.jsx("p",{className:"text-gray-400 font-medium",children:r})}),mx=({title:r,onClose:e,children:n})=>d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:d.jsx(md,{size:20})})]}),d.jsx("div",{className:"p-8",children:n})]})}),I3=()=>{const r=Tc(),[e,n]=L.useState("cotizaciones"),[s,o]=L.useState([]),[c,h]=L.useState(!1),[p,g]=L.useState(null),[y,x]=L.useState(null),[E,S]=L.useState({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""});L.useEffect(()=>{const T=Dg(vc(nn,"moves"),$E("createdAt","desc")),N=XE(T,R=>{o(R.docs.map(j=>({id:j.id,...j.data()})))});return()=>N()},[]);const M=async()=>{await fD(DT),r("/admin")},$=async T=>{confirm("Eliminar registro?")&&await uk(ci(nn,"moves",T))},G=T=>{const R=`${window.location.href.split("#")[0]}#/contrato/${T}`;navigator.clipboard.writeText(R),alert("Enlace copiado.")},q=async T=>{T.preventDefault();try{await QE(nn,async N=>{const R=ci(nn,"counters","moves_counter"),j=await N.get(R);let k=1;j.exists()&&(k=j.data().current+1);const P=`MUD-${String(k).padStart(4,"0")}`,C=Number(E.price)||0,He=[{description:"FLETE Y MANIOBRAS",cost:C,quantity:1}],ye=C>0&&E.date?"Programada":"Pendiente",F=ci(vc(nn,"moves"));N.set(F,{...E,folio:P,status:ye,items:[],price:C,subtotal:C,iva:0,retention:0,financialItems:He,createdAt:new Date}),N.set(R,{current:k})}),h(!1),S({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""}),alert("Registro creado con xito.")}catch(N){console.error("Error creando folio:",N),alert("Error al generar registro.")}},ne=T=>T.folio&&parseInt(T.folio.split("-")[1])||0,ee=T=>T.sort((N,R)=>ne(R)-ne(N)),re=ee(s.filter(T=>T.status==="Pendiente"&&(!T.idUrl||!T.addressUrl))),pe=ee(s.filter(T=>T.status==="Pendiente"&&T.idUrl&&T.addressUrl||T.status==="Programada")),de=ee(s.filter(T=>["Contrato Firmado","En Carga","En Trnsito"].includes(T.status))),ge=ee(s.filter(T=>T.status==="Finalizada"));return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[d.jsxs("nav",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-20 border-b border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-cadena-pink font-black text-xl tracking-tight",children:[d.jsx(QS,{className:"text-cadena-blue"})," Panel Cadena"]}),d.jsxs("button",{onClick:M,className:"text-gray-400 hover:text-red-500 font-medium text-sm flex gap-2 transition",children:[d.jsx(WS,{size:18})," Salir"]})]}),d.jsx("div",{className:"bg-white px-4 sm:px-8 shadow-sm relative z-10",children:d.jsxs("div",{className:"flex space-x-2 sm:space-x-8 overflow-x-auto pb-1 sm:pb-0",children:[d.jsx(Th,{label:"Nuevas",icon:d.jsx(hd,{size:18}),active:e==="cotizaciones",onClick:()=>n("cotizaciones"),count:re.length,colorClass:"gray-600"}),d.jsx(Th,{label:"Por Firmar",icon:d.jsx(Qx,{size:18}),active:e==="por_firmar",onClick:()=>n("por_firmar"),count:pe.length,colorClass:"cadena-pink"}),d.jsx(Th,{label:"Activas",icon:d.jsx(hs,{size:18}),active:e==="operaciones",onClick:()=>n("operaciones"),count:de.length,colorClass:"cadena-blue"}),d.jsx(Th,{label:"Historial",icon:d.jsx(ud,{size:18}),active:e==="historial",onClick:()=>n("historial"),count:ge.length,colorClass:"green-600"})]})}),d.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e==="cotizaciones"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Solicitudes Recientes"}),d.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl flex gap-2 font-bold shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5",children:[d.jsx(C_,{size:20})," Crear Manual"]})]}),re.length===0?d.jsx(wh,{msg:"No hay solicitudes nuevas."}):d.jsx("div",{className:"grid gap-4",children:re.map(T=>d.jsx(xh,{move:T,onEdit:()=>g(T),onDelete:()=>$(T.id),onCopyLink:()=>G(T.id),onViewId:()=>x(T),isPending:T.price===0},T.id))})]}),e==="por_firmar"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"bg-pink-50 border border-pink-100 p-4 rounded-xl flex items-start gap-3",children:[d.jsx(Fp,{className:"text-cadena-pink shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-cadena-pink",children:"En Proceso de Firma"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Mudanzas cotizadas esperando firma del cliente o revisin de documentos."})]})]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Listos para Revisin y Firma"}),pe.length===0?d.jsx(wh,{msg:"Nadie est esperando revisin."}):d.jsx("div",{className:"grid gap-4",children:pe.map(T=>d.jsx(xh,{move:T,onEdit:()=>g(T),onDelete:()=>$(T.id),onCopyLink:()=>G(T.id),onViewId:()=>x(T),isPending:T.price===0},T.id))})]}),e==="operaciones"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Operaciones en Curso"}),de.length===0?d.jsx(wh,{msg:"Sin operaciones firmadas en curso."}):d.jsx("div",{className:"grid gap-4",children:de.map(T=>d.jsx(xh,{move:T,onEdit:()=>g(T),onCopyLink:()=>G(T.id),onDelete:()=>$(T.id),onViewId:()=>x(T),onPrintOrder:()=>r(`/orden-carga/${T.id}`)},T.id))})]}),e==="historial"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Historial Finalizado"}),ge.length===0?d.jsx(wh,{msg:"An no hay mudanzas finalizadas."}):d.jsx("div",{className:"grid gap-4 opacity-80 hover:opacity-100 transition duration-300",children:ge.map(T=>d.jsx(xh,{move:T,onEdit:()=>g(T),onCopyLink:()=>G(T.id),onDelete:()=>$(T.id),onViewId:()=>x(T),onPrintOrder:()=>r(`/orden-carga/${T.id}`)},T.id))})]})]}),p&&d.jsx(C3,{moveData:p,onClose:()=>g(null),onSuccess:()=>g(null)}),y&&d.jsx(mx,{title:`Documentacin: ${y.client}`,onClose:()=>x(null),children:d.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Identificacin (INE):"}),y.idUrl?d.jsx("img",{src:y.idUrl,className:"w-full rounded-xl border shadow-sm"}):d.jsx("p",{className:"text-gray-400 italic text-sm py-4 text-center bg-gray-50 rounded",children:"No adjuntado"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Comprobante de Domicilio:"}),y.addressUrl?d.jsx("img",{src:y.addressUrl,className:"w-full rounded-xl border shadow-sm"}):d.jsx("p",{className:"text-gray-400 italic text-sm py-4 text-center bg-gray-50 rounded",children:"No adjuntado"})]})]})}),c&&d.jsx(mx,{title:"Nueva Mudanza Completa",onClose:()=>h(!1),children:d.jsxs("form",{onSubmit:q,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(j3,{size:14})," Nombre del Cliente"]}),d.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Ej. Juan Prez",value:E.client,onChange:T=>S({...E,client:T.target.value}),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(dd,{size:14})," Telfono"]}),d.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"55 1234 5678",value:E.phone,onChange:T=>S({...E,phone:T.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(mr,{size:14,className:"text-green-500"})," Origen"]}),d.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.origin,onChange:T=>S({...E,origin:T.target.value})})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(mr,{size:14,className:"text-red-500"})," Destino"]}),d.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.destination,onChange:T=>S({...E,destination:T.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(qp,{size:14})," Fecha Tentativa"]}),d.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",value:E.date,onChange:T=>S({...E,date:T.target.value})})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[d.jsx(VS,{size:14})," Precio Estimado ($)"]}),d.jsx("input",{type:"number",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm font-bold text-green-600",placeholder:"0.00",value:E.price,onChange:T=>S({...E,price:T.target.value})}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'Si pones precio, la mudanza pasar a "Programada".'})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Notas / Observaciones"}),d.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm h-20",placeholder:"Ej. Casa de 3 pisos, volado, piano...",value:E.notes,onChange:T=>S({...E,notes:T.target.value})})]}),d.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-md transition flex justify-center items-center gap-2 text-lg",children:[d.jsx(C_,{size:24})," Crear Registro Completo"]})]})})]})},j3=r=>d.jsxs("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),k3=()=>{const[r,e]=L.useState([]),[n,s]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const c=Dg(vc(nn,"moves"),Ip("status","in",["Contrato Firmado","En Carga","En Trnsito"]),$E("date","asc")),p=(await YE(c)).docs.map(g=>({id:g.id,...g.data()}));e(p)}catch(c){console.error("Error cargando trabajos:",c)}finally{s(!1)}})()},[]),n?d.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Cargando..."}):d.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-20 p-4 print:bg-white print:text-black print:p-0 print:m-0",children:[d.jsx("button",{onClick:()=>window.print(),className:"fixed bottom-4 right-4 bg-cadena-blue text-white p-4 rounded-full shadow-xl z-50 print:hidden hover:bg-blue-700 transition",children:d.jsx(fd,{size:24})}),d.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-cadena-blue border-b border-gray-800 pb-4 print:hidden",children:"rdenes de Carga Activas"}),d.jsxs("div",{className:"space-y-6 print:space-y-4 print:block",children:[r.length===0&&d.jsxs("div",{className:"text-center py-10 opacity-50",children:[d.jsx(Eo,{size:48,className:"mx-auto mb-4"}),d.jsx("p",{children:"No hay trabajos activos."})]}),r.map(o=>d.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-lg relative overflow-hidden break-inside-avoid print:bg-white print:border-b-2 print:border-black print:shadow-none print:rounded-none print:p-0 print:mb-6 print:page-break-inside-avoid",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2 print:mb-2 print:border-b print:border-gray-300 print:pb-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider print:text-black print:text-[10px]",children:"FOLIO"}),d.jsx("span",{className:"text-xl font-black text-white print:text-black",children:o.folio})]}),d.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase print:hidden ${o.status==="En Trnsito"?"bg-green-500/20 text-green-400":"bg-pink-500/20 text-pink-400"}`,children:o.status})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"bg-gray-900/50 px-3 py-1 rounded-lg border border-gray-600 inline-flex items-center gap-2 print:bg-transparent print:border-0 print:p-0",children:[d.jsx(qp,{size:14,className:"text-cadena-blue print:text-black"}),d.jsx("span",{className:"text-sm font-bold print:text-black",children:o.date})]})})]}),d.jsxs("div",{className:"space-y-4 pl-2 print:space-y-1",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 print:grid-cols-3 gap-4 print:gap-2 print:text-[10px]",children:[d.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[d.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Origen"}),d.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.origin})]}),d.jsxs("div",{className:"border-l-2 border-red-500 pl-3",children:[d.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Destino"}),d.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.destination})]}),d.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-700 flex gap-3 items-center print:bg-transparent print:border-0 print:p-0 print:block",children:[d.jsx("div",{className:"print:hidden bg-blue-500/20 p-1.5 rounded-full text-blue-400",children:d.jsx(dd,{size:16})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Contacto"}),d.jsx("p",{className:"font-bold text-white print:text-black",children:o.phone}),d.jsx("p",{className:"text-xs text-gray-400 print:text-black",children:o.client})]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 print:border-black print:mt-2 print:pt-2",children:[d.jsxs("p",{className:"text-xs text-gray-500 uppercase font-bold flex items-center gap-2 mb-2 print:text-black print:mb-1 print:text-[10px]",children:[d.jsx(Eo,{size:12,className:"text-cadena-pink print:hidden"})," Inventario"]}),d.jsx("div",{className:"bg-gray-900/80 p-3 rounded-xl border border-gray-700/50 min-h-[50px] print:bg-transparent print:border-none print:p-0",children:Array.isArray(o.items)&&o.items.length>0?d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 print:grid-cols-4 gap-2 text-xs",children:o.items.map((c,h)=>d.jsxs("div",{className:"flex items-start gap-1 border-b border-gray-800 pb-1 mb-1 print:border-gray-200 print:mb-0",children:[d.jsx("span",{className:"font-bold bg-gray-700 text-cadena-blue px-1.5 rounded text-[10px] min-w-[1.2rem] text-center shrink-0 border border-gray-600 print:bg-gray-200 print:text-black print:border-gray-400",children:c.quantity}),d.jsx("span",{className:"text-gray-300 leading-tight print:text-black text-[10px] break-words",children:c.name})]},h))}):d.jsx("div",{className:"text-center py-2 opacity-50 print:text-black",children:typeof o.items=="string"&&o.items.length>1?d.jsx("p",{className:"text-xs italic text-gray-400 print:text-black",children:o.items}):d.jsx("p",{className:"text-[10px] text-gray-500 italic print:text-black",children:"Sin detalles"})})}),o.notes&&d.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg print:border print:border-black print:bg-transparent",children:[d.jsx("p",{className:"text-[10px] text-yellow-500 font-bold uppercase print:text-black inline mr-2",children:"Nota:"}),d.jsx("span",{className:"text-xs text-yellow-100/80 italic print:text-black",children:o.notes})]})]})]})]},o.id))]})]})},D3=()=>{const{id:r}=Cx(),e=Tc(),[n,s]=L.useState(null),[o,c]=L.useState(!0);return L.useEffect(()=>{(async()=>{if(r)try{const p=ci(nn,"moves",r),g=await ck(p);g.exists()?s({id:g.id,...g.data()}):(alert("Orden no encontrada"),e("/app/dashboard"))}catch(p){console.error("Error cargando orden:",p)}finally{c(!1)}})()},[r,e]),o?d.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando formato..."}):n?d.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans print:text-black",children:[d.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex justify-between items-center print:hidden",children:[d.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[d.jsx(Bp,{size:20})," Volver"]}),d.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[d.jsx(fd,{size:20})," Imprimir"]})]}),d.jsxs("div",{className:"max-w-[21.5cm] mx-auto bg-white shadow-2xl p-8 md:p-10 rounded-xl print:shadow-none print:w-full print:max-w-none print:p-0 print:rounded-none print:m-0 flex flex-col min-h-[27.9cm]",children:[d.jsxs("div",{className:"flex justify-between items-end border-b-4 border-black pb-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-black leading-none",children:"Orden de Carga"}),d.jsx("p",{className:"text-gray-500 font-bold text-xs tracking-[0.3em] mt-1",children:"MUDANZAS CADENA  LOGSTICA"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Folio de Servicio"}),d.jsx("p",{className:"text-3xl font-black text-red-600 leading-none",children:n.folio||"S/N"}),d.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1 text-gray-600",children:[d.jsx(qp,{size:12}),d.jsx("p",{className:"text-xs font-bold",children:n.date})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 text-sm border-b border-gray-200 pb-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 font-black text-black mb-2 uppercase text-xs tracking-wider",children:[d.jsx(DN,{size:14})," Cliente / Contacto"]}),d.jsxs("div",{className:"pl-2 border-l-2 border-cadena-blue",children:[d.jsx("p",{className:"text-lg font-bold uppercase leading-tight",children:n.client}),d.jsx("p",{className:"mt-0.5 text-gray-600 font-mono",children:n.phone})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[d.jsx(mr,{size:12})," Origen"]}),d.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-green-500 pl-2",children:n.origin})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[d.jsx(hs,{size:12})," Destino"]}),d.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-red-500 pl-2",children:n.destination})]})]})]}),d.jsxs("div",{className:"mb-8 flex-grow",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-black pb-1",children:[d.jsxs("h3",{className:"font-black text-sm uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Eo,{size:16})," Lista de Carga (Checklist)"]}),d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400",children:"Marcar al cargar"})]}),Array.isArray(n.items)&&n.items.length>0?d.jsx("div",{className:"columns-1 md:columns-2 print:columns-2 gap-x-12 gap-y-2",children:n.items.map((h,p)=>d.jsxs("div",{className:"break-inside-avoid flex items-center gap-3 border-b border-gray-300 pb-2 mb-2 print:border-gray-400",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-black rounded-sm shrink-0 bg-white"}),d.jsx("span",{className:"font-black text-xl text-black min-w-[1.5rem] text-center",children:h.quantity}),d.jsx("span",{className:"leading-tight uppercase text-sm font-bold text-gray-800 pt-0.5",children:h.name})]},p))}):d.jsx("div",{className:"p-6 text-center text-gray-400 italic border-2 border-dashed border-gray-200 rounded-lg",children:typeof n.items=="string"?n.items:"No hay inventario desglosado en el sistema."})]}),d.jsxs("div",{className:"mt-auto break-inside-avoid",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[d.jsxs("div",{className:"border border-gray-300 p-2 rounded bg-gray-50 print:bg-white print:border-black",children:[d.jsx("p",{className:"font-bold text-[10px] uppercase text-gray-500 mb-1",children:"Instrucciones de Oficina:"}),d.jsx("p",{className:"uppercase text-xs font-bold text-black",children:n.notes||"Sin instrucciones especiales."})]}),d.jsx("div",{className:"border-2 border-gray-300 p-2 rounded bg-white print:border-black h-24",children:d.jsx("p",{className:"font-bold text-[10px] uppercase text-gray-400 mb-1",children:"Observaciones / Incidencias (Operador):"})})]}),d.jsxs("div",{className:"flex justify-between items-end text-center text-xs font-bold uppercase gap-8",children:[d.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[d.jsx("p",{children:"Firma Operador"}),d.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Responsable de carga"})]}),d.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[d.jsx("p",{children:"Firma Cliente"}),d.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Conformidad de servicio"})]})]})]})]})]}):null},O3=()=>{const[r,e]=L.useState(!1);return L.useEffect(()=>{const n=setTimeout(()=>e(!0),1e3);return()=>clearTimeout(n)},[]),d.jsxs(Hn,{to:"/cotizar",className:`fixed bottom-6 right-6 z-[60] flex flex-col items-end cursor-pointer group transition-transform duration-500 ${r?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:[d.jsxs("div",{className:"relative mr-4 mb-2 animate-bounce-slow",children:[d.jsx("div",{className:"bg-white text-cadena-dark font-bold text-sm px-4 py-2 rounded-2xl shadow-xl border border-gray-100 transform transition-transform origin-bottom-right group-hover:scale-110",children:"Psst! Cotizamos? "}),d.jsx("div",{className:"absolute -bottom-1 right-4 w-3 h-3 bg-white border-r border-b border-gray-100 transform rotate-45"})]}),d.jsxs("div",{className:"relative w-20 h-20 md:w-32 md:h-32 transition-all duration-300",children:[d.jsx("div",{className:"absolute inset-0 bg-cadena-blue/30 blur-2xl rounded-full scale-0 group-hover:scale-100 transition-transform duration-300"}),d.jsx("img",{src:pd,alt:"Cotiza con nosotros",className:"w-full h-full object-contain drop-shadow-2xl transform transition-all duration-300 group-hover:-translate-y-2 group-hover:rotate-6"}),d.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white"})]})]})]})},M3=()=>{const{pathname:r}=_r();return L.useEffect(()=>{window.scrollTo(0,0)},[r]),null};function V3(){return d.jsxs(d.Fragment,{children:[d.jsx(M3,{}),d.jsxs(SA,{children:[d.jsxs(oi,{path:"/",element:d.jsxs(d.Fragment,{children:[d.jsx(qN,{}),d.jsx(O3,{})]}),children:[d.jsx(oi,{index:!0,element:d.jsx(rR,{})}),d.jsx(oi,{path:"servicios",element:d.jsx(t1,{})}),d.jsx(oi,{path:"rastreo",element:d.jsx(NO,{})}),d.jsx(oi,{path:"cotizar",element:d.jsx(RO,{})})]}),d.jsx(oi,{path:"/admin",element:d.jsx(IO,{})}),d.jsx(oi,{path:"/admin/dashboard",element:d.jsx(I3,{})}),d.jsx(oi,{path:"/contrato/:id",element:d.jsx(CO,{})}),d.jsx(oi,{path:"/trabajadores",element:d.jsx(k3,{})}),d.jsx(oi,{path:"/orden-carga/:id",element:d.jsx(D3,{})})]})]})}S2.createRoot(document.getElementById("root")).render(d.jsx(v2.StrictMode,{children:d.jsx(XA,{children:d.jsx(V3,{})})}));
