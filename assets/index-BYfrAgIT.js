(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function dx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var km={exports:{}},Bl={};var cv;function h2(){if(cv)return Bl;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var uv;function d2(){return uv||(uv=1,km.exports=h2()),km.exports}var f=d2(),Om={exports:{}},Ne={};var hv;function f2(){if(hv)return Ne;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function ne(O,W,le){this.props=O,this.context=W,this.refs=q,this.updater=le||$}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function re(O,W,le){this.props=O,this.context=W,this.refs=q,this.updater=le||$}var se=re.prototype=new ee;se.constructor=re,G(se,ne.prototype),se.isPureReactComponent=!0;var he=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,W,le){var ue=le.ref;return{$$typeof:s,type:O,key:W,ref:ue!==void 0?ue:null,props:le}}function j(O,W){return R(O.type,W,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function P(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return W[le]})}var C=/\/+/g;function Qe(O,W){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):W.toString(36)}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(me,me):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,W,le,ue,we){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case s:case e:Be=!0;break;case x:return Be=O._init,F(Be(O._payload),W,le,ue,we)}}if(Be)return we=we(O),Be=ue===""?"."+Qe(O,0):ue,he(we)?(le="",Be!=null&&(le=Be.replace(C,"$&/")+"/"),F(we,W,le,"",function(Ar){return Ar})):we!=null&&(D(we)&&(we=j(we,le+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+Be)),W.push(we)),1;Be=0;var kt=ue===""?".":ue+":";if(he(O))for(var ot=0;ot<O.length;ot++)ue=O[ot],Ie=kt+Qe(ue,ot),Be+=F(ue,W,le,Ie,we);else if(ot=M(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(ue=O.next()).done;)ue=ue.value,Ie=kt+Qe(ue,ot++),Be+=F(ue,W,le,Ie,we);else if(Ie==="object"){if(typeof O.then=="function")return F(_e(O),W,le,ue,we);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(O,W,le){if(O==null)return O;var ue=[],we=0;return F(O,ue,"","",function(Ie){return W.call(le,Ie,we++)}),ue}function fe(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Oe={map:ie,forEach:function(O,W,le){ie(O,function(){W.apply(this,arguments)},le)},count:function(O){var W=0;return ie(O,function(){W++}),W},toArray:function(O){return ie(O,function(W){return W})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=E,Ne.Children=Oe,Ne.Component=ne,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=re,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,W,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=G({},O.props),we=O.key;if(W!=null)for(Ie in W.key!==void 0&&(we=""+W.key),W)!S.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(ue[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=le;else if(1<Ie){for(var Be=Array(Ie),kt=0;kt<Ie;kt++)Be[kt]=arguments[kt+2];ue.children=Be}return R(O.type,we,ue)},Ne.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,W,le){var ue,we={},Ie=null;if(W!=null)for(ue in W.key!==void 0&&(Ie=""+W.key),W)S.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=W[ue]);var Be=arguments.length-2;if(Be===1)we.children=le;else if(1<Be){for(var kt=Array(Be),ot=0;ot<Be;ot++)kt[ot]=arguments[ot+2];we.children=kt}if(O&&O.defaultProps)for(ue in Be=O.defaultProps,Be)we[ue]===void 0&&(we[ue]=Be[ue]);return R(O,Ie,we)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:p,render:O}},Ne.isValidElement=D,Ne.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:fe}},Ne.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},Ne.startTransition=function(O){var W=N.T,le={};N.T=le;try{var ue=O(),we=N.S;we!==null&&we(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,Se)}catch(Ie){Se(Ie)}finally{W!==null&&le.types!==null&&(W.types=le.types),N.T=W}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(O){return N.H.use(O)},Ne.useActionState=function(O,W,le){return N.H.useActionState(O,W,le)},Ne.useCallback=function(O,W){return N.H.useCallback(O,W)},Ne.useContext=function(O){return N.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,W){return N.H.useDeferredValue(O,W)},Ne.useEffect=function(O,W){return N.H.useEffect(O,W)},Ne.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(O,W,le){return N.H.useImperativeHandle(O,W,le)},Ne.useInsertionEffect=function(O,W){return N.H.useInsertionEffect(O,W)},Ne.useLayoutEffect=function(O,W){return N.H.useLayoutEffect(O,W)},Ne.useMemo=function(O,W){return N.H.useMemo(O,W)},Ne.useOptimistic=function(O,W){return N.H.useOptimistic(O,W)},Ne.useReducer=function(O,W,le){return N.H.useReducer(O,W,le)},Ne.useRef=function(O){return N.H.useRef(O)},Ne.useState=function(O){return N.H.useState(O)},Ne.useSyncExternalStore=function(O,W,le){return N.H.useSyncExternalStore(O,W,le)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.3",Ne}var dv;function kp(){return dv||(dv=1,Om.exports=f2()),Om.exports}var L=kp();const m2=dx(L);var Mm={exports:{}},ql={},Vm={exports:{}},Pm={};var fv;function p2(){return fv||(fv=1,(function(s){function e(F,ie){var fe=F.length;F.push(ie);e:for(;0<fe;){var Se=fe-1>>>1,Oe=F[Se];if(0<o(Oe,ie))F[Se]=ie,F[fe]=Oe,fe=Se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ie=F[0],fe=F.pop();if(fe!==ie){F[0]=fe;e:for(var Se=0,Oe=F.length,O=Oe>>>1;Se<O;){var W=2*(Se+1)-1,le=F[W],ue=W+1,we=F[ue];if(0>o(le,fe))ue<Oe&&0>o(we,le)?(F[Se]=we,F[ue]=fe,Se=ue):(F[Se]=le,F[W]=fe,Se=W);else if(ue<Oe&&0>o(we,fe))F[Se]=we,F[ue]=fe,Se=ue;else break e}}return ie}function o(F,ie){var fe=F.sortIndex-ie.sortIndex;return fe!==0?fe:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,A=3,M=!1,$=!1,G=!1,q=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function se(F){for(var ie=n(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=F)r(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(y)}}function he(F){if(G=!1,se(F),!$)if(n(g)!==null)$=!0,me||(me=!0,P());else{var ie=n(y);ie!==null&&_e(he,ie.startTime-F)}}var me=!1,N=-1,S=5,R=-1;function j(){return q?!0:!(s.unstable_now()-R<S)}function D(){if(q=!1,me){var F=s.unstable_now();R=F;var ie=!0;try{e:{$=!1,G&&(G=!1,ee(N),N=-1),M=!0;var fe=A;try{t:{for(se(F),E=n(g);E!==null&&!(E.expirationTime>F&&j());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,A=E.priorityLevel;var Oe=Se(E.expirationTime<=F);if(F=s.unstable_now(),typeof Oe=="function"){E.callback=Oe,se(F),ie=!0;break t}E===n(g)&&r(g),se(F)}else r(g);E=n(g)}if(E!==null)ie=!0;else{var O=n(y);O!==null&&_e(he,O.startTime-F),ie=!1}}break e}finally{E=null,A=fe,M=!1}ie=void 0}}finally{ie?P():me=!1}}}var P;if(typeof re=="function")P=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Qe=C.port2;C.port1.onmessage=D,P=function(){Qe.postMessage(null)}}else P=function(){ne(D,0)};function _e(F,ie){N=ne(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(F){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var fe=A;A=ie;try{return F()}finally{A=fe}},s.unstable_requestPaint=function(){q=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=A;A=F;try{return ie()}finally{A=fe}},s.unstable_scheduleCallback=function(F,ie,fe){var Se=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,F){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=fe+Oe,F={id:x++,callback:ie,priorityLevel:F,startTime:fe,expirationTime:Oe,sortIndex:-1},fe>Se?(F.sortIndex=fe,e(y,F),n(g)===null&&F===n(y)&&(G?(ee(N),N=-1):G=!0,_e(he,fe-Se))):(F.sortIndex=Oe,e(g,F),$||M||($=!0,me||(me=!0,P()))),F},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(F){var ie=A;return function(){var fe=A;A=ie;try{return F.apply(this,arguments)}finally{A=fe}}}})(Pm)),Pm}var mv;function g2(){return mv||(mv=1,Vm.exports=p2()),Vm.exports}var Lm={exports:{}},Zt={};var pv;function y2(){if(pv)return Zt;pv=1;var s=kp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},Zt.flushSync=function(g){var y=h.T,x=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=x,r.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:M}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var gv;function _2(){if(gv)return Lm.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lm.exports=y2(),Lm.exports}var yv;function v2(){if(yv)return ql;yv=1;var s=g2(),e=kp(),n=_2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),t;if(m===l)return g(d),i;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var v=!1,T=d.child;T;){if(T===a){v=!0,a=d,l=m;break}if(T===l){v=!0,l=d,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,l=d;break}if(T===l){v=!0,l=m,a=d;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case q:return"StrictMode";case he:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var _e=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],Oe=-1;function O(t){return{current:t}}function W(t){0>Oe||(t.current=Se[Oe],Se[Oe]=null,Oe--)}function le(t,i){Oe++,Se[Oe]=t.current,t.current=i}var ue=O(null),we=O(null),Ie=O(null),Be=O(null);function kt(t,i){switch(le(Ie,i),le(we,t),le(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=k_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),le(ue,t)}function ot(){W(ue),W(we),W(Ie)}function Ar(t){t.memoizedState!==null&&le(Be,t);var i=ue.current,a=k_(i,t.type);i!==a&&(le(we,t),le(ue,a))}function _a(t){we.current===t&&(W(ue),W(we)),Be.current===t&&(W(Be),Pl._currentValue=fe)}var va,ba;function mi(t){if(va===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);va=i&&i[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+t+ba}var Po=!1;function Sr(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===B.length)for(l=I.length-1,d=B.length-1;1<=l&&0<=d&&I[l]!==B[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==B[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==B[d]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Lo(t,i){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==i&&i!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Sr(t.type,!1);case 11:return Sr(t.type.render,!1);case 1:return Sr(t.type,!0);case 31:return mi("Activity");default:return""}}function Uo(t){try{var i="",a=null;do i+=Lo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,bs=s.unstable_cancelCallback,Od=s.unstable_shouldYield,Lc=s.unstable_requestPaint,rn=s.unstable_now,Nr=s.unstable_getCurrentPriorityLevel,zo=s.unstable_ImmediatePriority,Bo=s.unstable_UserBlockingPriority,xs=s.unstable_NormalPriority,Md=s.unstable_LowPriority,Uc=s.unstable_IdlePriority,zc=s.log,Bc=s.unstable_setDisableYieldValue,Yn=null,qt=null;function In(t){if(typeof zc=="function"&&Bc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Yn,t)}catch{}}var gt=Math.clz32?Math.clz32:Fc,qc=Math.log,xa=Math.LN2;function Fc(t){return t>>>=0,t===0?32:31-(qc(t)/xa|0)|0}var pi=256,Rr=262144,Et=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?d=gi(l):(v&=T,v!==0?d=gi(v):a||(a=T&~t,a!==0&&(d=gi(a))))):(T=l&~m,T!==0?d=gi(T):v!==0?d=gi(v):a||(a=l&~t,a!==0&&(d=gi(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Vd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Cr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pd(t,i,a,l,d,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-gt(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var H=B[Y];if(H!==null)for(B[Y]=null,Y=0;Y<H.length;Y++){var Q=H[Y];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Ir(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~i))}function Ir(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Fo(t,i){var a=i&-i;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|i))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function Jn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Wn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,vi="__reactContainer$"+Wn,Ea="__reactEvents$"+Wn,Ld="__reactListeners$"+Wn,$c="__reactHandles$"+Wn,Kc="__reactResources$"+Wn,bi="__reactMarker$"+Wn;function Ta(t){delete t[Tt],delete t[Pt],delete t[Ea],delete t[Ld],delete t[$c]}function xi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[Tt])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Tt]||t[vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ei(t){var i=t[Kc];return i||(i=t[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[bi]=!0}var Ho=new Set,Go={};function Ti(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(Go[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function Qc(t){return xt.call(Qo,t)?!0:xt.call(Ko,t)?!1:$o.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function wa(t,i,a){if(Qc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Es(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Dr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Es(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kr=/[\n"\\]/g;function un(t){return t.replace(kr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,d,m,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Xo(t,v,Lt(i)):a!=null?Xo(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Yc(t,i,a,l,d,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Xo(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ts(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Xc(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(_e(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Jc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Jo(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&Jo(t,m,i[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Zo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Si=null;function Or(t){var i=jn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Pt]||null;if(!d)throw Error(r(90));Aa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Dr(l)}break e;case"textarea":Xc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ts(t,!!a.multiple,i,!1)}}}var Ra=!1;function Ns(t,i,a){if(Ra)return t(i,a);Ra=!0;try{var l=t(i);return l}finally{if(Ra=!1,(Ss!==null||Si!==null)&&(Gu(),Ss&&(i=Ss,t=Si,Si=Ss=null,Or(i),t)))for(i=0;i<t.length;i++)Or(t[i])}}function ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(kn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Mr=!1}var Ni=null,el=null,Vr=null;function tl(){if(Vr)return Vr;var t,i=el,a=i.length,l,d="value"in Ni?Ni.value:Ni.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[m-l];l++);return Vr=d.slice(t,1<l?1-l:void 0)}function Pr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ti(){return!1}function Ft(t){function i(a,l,d,m,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:ti,this.isPropagationStopped=ti,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ft(Ki),Rs=E({},Ki,{view:0,detail:0}),nl=Ft(Rs),Cs,Ca,Ci,Ia=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Cs=t.screenX-Ci.screenX,Ca=t.screenY-Ci.screenY):Ca=Cs=0,Ci=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),il=Ft(Ia),Lr=E({},Ia,{dataTransfer:0}),Zc=Ft(Lr),eu=E({},Rs,{relatedTarget:0}),Ur=Ft(eu),sl=E({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Ft(sl),ja=E({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nu=Ft(ja),iu=E({},Ki,{data:0}),Ii=Ft(iu),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=au[t])?!!i[t]:!1}function Is(){return ou}var an=E({},Rs,{key:function(t){if(t.key){var i=su[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lu=Ft(an),cu=E({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ft(cu),u=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),_=Ft(u),b=E({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(b),U=E({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(U),ae=E({},Ki,{newState:0,oldState:0}),Re=Ft(ae),yt=[9,13,27,32],$e=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var On=kn&&"TextEvent"in window&&!lt,ji=kn&&(!$e||lt&&8<lt&&11>=lt),ni=" ",ii=!1;function zr(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function MT(t,i){switch(t){case"compositionend":return Da(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return t=i.data,t===ni&&ii?null:t;default:return null}}function VT(t,i){if(ka)return t==="compositionend"||!$e&&zr(t,i)?(t=tl(),Vr=el=Ni=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PT[t.type]:i==="textarea"}function Hg(t,i,a,l){Ss?Si?Si.push(l):Si=[l]:Ss=l,i=Wu(i,"onChange"),0<i.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,al=null;function LT(t){S_(t,0)}function uu(t){var i=_n(t);if(Dr(i))return t}function Gg(t,i){if(t==="change")return i}var $g=!1;if(kn){var Ud;if(kn){var zd="oninput"in document;if(!zd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),zd=typeof Kg.oninput=="function"}Ud=zd}else Ud=!1;$g=Ud&&(!document.documentMode||9<document.documentMode)}function Qg(){rl&&(rl.detachEvent("onpropertychange",Yg),al=rl=null)}function Yg(t){if(t.propertyName==="value"&&uu(al)){var i=[];Hg(i,al,t,Dn(t)),Ns(LT,i)}}function UT(t,i,a){t==="focusin"?(Qg(),rl=i,al=a,rl.attachEvent("onpropertychange",Yg)):t==="focusout"&&Qg()}function zT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(al)}function BT(t,i){if(t==="click")return uu(i)}function qT(t,i){if(t==="input"||t==="change")return uu(i)}function FT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:FT;function ol(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!xt.call(i,d)||!bn(t[d],i[d]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,i){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function Bd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var HT=kn&&"documentMode"in document&&11>=document.documentMode,Oa=null,qd=null,ll=null,Fd=!1;function ey(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||Oa==null||Oa!==Ai(l)||(l=Oa,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Wu(qd,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function Br(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ma={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Hd={},ty={};kn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function qr(t){if(Hd[t])return Hd[t];if(!Ma[t])return t;var i=Ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ty)return Hd[t]=i[a];return t}var ny=qr("animationend"),iy=qr("animationiteration"),sy=qr("animationstart"),GT=qr("transitionrun"),$T=qr("transitionstart"),KT=qr("transitioncancel"),ry=qr("transitionend"),ay=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function si(t,i){ay.set(t,i),Ti(i,[t])}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Va=0,$d=0;function du(){for(var t=Va,i=$d=Va=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var d=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}m!==0&&oy(a,d,m)}}function fu(t,i,a,l){Mn[Va++]=t,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,$d|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kd(t,i,a,l){return fu(t,i,a,l),mu(t)}function Fr(t,i){return fu(t,null,null,i),mu(t)}function oy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-gt(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function mu(t){if(50<Il)throw Il=0,im=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function QT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new QT(t,i,a,l)}function Qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ly(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function pu(t,i,a,l,d,m){var v=0;if(l=t,typeof t=="function")Qd(t)&&(v=1);else if(typeof t=="string")v=Zw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=xn(31,a,i,d),t.elementType=R,t.lanes=m,t;case G:return Hr(a.children,d,m,i);case q:v=8,d|=24;break;case ne:return t=xn(12,a,i,d|2),t.elementType=ne,t.lanes=m,t;case he:return t=xn(13,a,i,d),t.elementType=he,t.lanes=m,t;case me:return t=xn(19,a,i,d),t.elementType=me,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ee:v=9;break e;case se:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=xn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function Hr(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Yd(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function cy(t){var i=xn(18,null,null,0);return i.stateNode=t,i}function Xd(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var uy=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=uy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Uo(i)},uy.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var La=[],Ua=0,gu=null,cl=0,Pn=[],Ln=0,js=null,Di=1,ki="";function Xi(t,i){La[Ua++]=cl,La[Ua++]=gu,gu=t,cl=i}function hy(t,i,a){Pn[Ln++]=Di,Pn[Ln++]=ki,Pn[Ln++]=js,js=t;var l=Di;t=ki;var d=32-gt(l)-1;l&=~(1<<d),a+=1;var m=32-gt(i)+d;if(30<m){var v=d-d%5;m=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Di=1<<32-gt(i)+d|a<<d|l,ki=m+t}else Di=1<<m|a<<d|l,ki=t}function Jd(t){t.return!==null&&(Xi(t,1),hy(t,1,0))}function Wd(t){for(;t===gu;)gu=La[--Ua],La[Ua]=null,cl=La[--Ua],La[Ua]=null;for(;t===js;)js=Pn[--Ln],Pn[Ln]=null,ki=Pn[--Ln],Pn[Ln]=null,Di=Pn[--Ln],Pn[Ln]=null}function dy(t,i){Pn[Ln++]=Di,Pn[Ln++]=ki,Pn[Ln++]=js,Di=i.id,ki=i.overflow,js=t}var Ht=null,st=null,ze=!1,Ds=null,Un=!1,Zd=Error(r(519));function ks(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Vn(i,t)),Zd}function fy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Pt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)ke(Dl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Yc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ws(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||I_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||ks(t,!0)}function my(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function za(t){if(t!==Ht)return!1;if(!ze)return my(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_m(t.type,t.memoizedProps)),a=!a),a&&st&&ks(t),my(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=U_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=U_(t)}else i===27?(i=st,Ks(t.type)?(t=Tm,Tm=null,st=t):st=i):st=Ht?Bn(t.stateNode.nextSibling):null;return!0}function Gr(){st=Ht=null,ze=!1}function ef(){var t=Ds;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ds=null),t}function ul(t){Ds===null?Ds=[t]:Ds.push(t)}var tf=O(null),$r=null,Ji=null;function Os(t,i,a){le(tf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=tf.current,W(tf)}function nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function sf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var I=0;I<i.length;I++)if(T.context===i[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),nf(m.return,a,t),l||(v=null);break e}m=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),nf(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ba(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=d.type;bn(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===Be.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}d=d.return}t!==null&&sf(i,t,a,l),i.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){$r=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return py($r,t)}function _u(t,i){return $r===null&&Kr(t),py(t,i)}function py(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(r(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var YT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},XT=s.unstable_scheduleCallback,JT=s.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new YT,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&XT(JT,function(){t.controller.abort()})}var dl=null,af=0,qa=0,Fa=null;function WT(t,i){if(dl===null){var a=dl=[];af=0,qa=cm(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return af++,i.then(gy,gy),i}function gy(){if(--af===0&&dl!==null){Fa!==null&&(Fa.status="fulfilled");var t=dl;dl=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ZT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var yy=F.S;F.S=function(t,i){e_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&WT(t,i),yy!==null&&yy(t,i)};var Qr=O(null);function of(){var t=Qr.current;return t!==null?t:it.pooledCache}function vu(t,i){i===null?le(Qr,Qr.current):le(Qr,i.pool)}function _y(){var t=of();return t===null?null:{parent:St._currentValue,pool:t}}var Ha=Error(r(460)),lf=Error(r(474)),bu=Error(r(542)),xu={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function by(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ey(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ey(t),t}throw Xr=i,Ha}}function Yr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ha):a}}var Xr=null;function xy(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function Ey(t){if(t===Ha||t===bu)throw Error(r(483))}var Ga=null,fl=0;function Eu(t){var i=fl;return fl+=1,Ga===null&&(Ga=[]),by(Ga,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Tu(t,i){throw i.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ty(t){function i(V,k){if(t){var z=V.deletions;z===null?(V.deletions=[k],V.flags|=16):z.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function d(V,k){return V=Yi(V,k),V.index=0,V.sibling=null,V}function m(V,k,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<k?(V.flags|=67108866,k):z):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,k,z,J){return k===null||k.tag!==6?(k=Yd(z,V.mode,J),k.return=V,k):(k=d(k,z),k.return=V,k)}function I(V,k,z,J){var ve=z.type;return ve===G?Y(V,k,z.props.children,J,z.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Yr(ve)===k.type)?(k=d(k,z.props),ml(k,z),k.return=V,k):(k=pu(z.type,z.key,z.props,null,V.mode,J),ml(k,z),k.return=V,k)}function B(V,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Xd(z,V.mode,J),k.return=V,k):(k=d(k,z.children||[]),k.return=V,k)}function Y(V,k,z,J,ve){return k===null||k.tag!==7?(k=Hr(z,V.mode,J,ve),k.return=V,k):(k=d(k,z),k.return=V,k)}function Z(V,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Yd(""+k,V.mode,z),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return z=pu(k.type,k.key,k.props,null,V.mode,z),ml(z,k),z.return=V,z;case $:return k=Xd(k,V.mode,z),k.return=V,k;case S:return k=Yr(k),Z(V,k,z)}if(_e(k)||P(k))return k=Hr(k,V.mode,z,null),k.return=V,k;if(typeof k.then=="function")return Z(V,Eu(k),z);if(k.$$typeof===re)return Z(V,_u(V,k),z);Tu(V,k)}return null}function H(V,k,z,J){var ve=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ve!==null?null:T(V,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===ve?I(V,k,z,J):null;case $:return z.key===ve?B(V,k,z,J):null;case S:return z=Yr(z),H(V,k,z,J)}if(_e(z)||P(z))return ve!==null?null:Y(V,k,z,J,null);if(typeof z.then=="function")return H(V,k,Eu(z),J);if(z.$$typeof===re)return H(V,k,_u(V,z),J);Tu(V,z)}return null}function Q(V,k,z,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(z)||null,T(k,V,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return V=V.get(J.key===null?z:J.key)||null,I(k,V,J,ve);case $:return V=V.get(J.key===null?z:J.key)||null,B(k,V,J,ve);case S:return J=Yr(J),Q(V,k,z,J,ve)}if(_e(J)||P(J))return V=V.get(z)||null,Y(k,V,J,ve,null);if(typeof J.then=="function")return Q(V,k,z,Eu(J),ve);if(J.$$typeof===re)return Q(V,k,z,_u(k,J),ve);Tu(k,J)}return null}function de(V,k,z,J){for(var ve=null,He=null,pe=k,je=k=0,Ve=null;pe!==null&&je<z.length;je++){pe.index>je?(Ve=pe,pe=null):Ve=pe.sibling;var Ge=H(V,pe,z[je],J);if(Ge===null){pe===null&&(pe=Ve);break}t&&pe&&Ge.alternate===null&&i(V,pe),k=m(Ge,k,je),He===null?ve=Ge:He.sibling=Ge,He=Ge,pe=Ve}if(je===z.length)return a(V,pe),ze&&Xi(V,je),ve;if(pe===null){for(;je<z.length;je++)pe=Z(V,z[je],J),pe!==null&&(k=m(pe,k,je),He===null?ve=pe:He.sibling=pe,He=pe);return ze&&Xi(V,je),ve}for(pe=l(pe);je<z.length;je++)Ve=Q(pe,V,je,z[je],J),Ve!==null&&(t&&Ve.alternate!==null&&pe.delete(Ve.key===null?je:Ve.key),k=m(Ve,k,je),He===null?ve=Ve:He.sibling=Ve,He=Ve);return t&&pe.forEach(function(Ws){return i(V,Ws)}),ze&&Xi(V,je),ve}function xe(V,k,z,J){if(z==null)throw Error(r(151));for(var ve=null,He=null,pe=k,je=k=0,Ve=null,Ge=z.next();pe!==null&&!Ge.done;je++,Ge=z.next()){pe.index>je?(Ve=pe,pe=null):Ve=pe.sibling;var Ws=H(V,pe,Ge.value,J);if(Ws===null){pe===null&&(pe=Ve);break}t&&pe&&Ws.alternate===null&&i(V,pe),k=m(Ws,k,je),He===null?ve=Ws:He.sibling=Ws,He=Ws,pe=Ve}if(Ge.done)return a(V,pe),ze&&Xi(V,je),ve;if(pe===null){for(;!Ge.done;je++,Ge=z.next())Ge=Z(V,Ge.value,J),Ge!==null&&(k=m(Ge,k,je),He===null?ve=Ge:He.sibling=Ge,He=Ge);return ze&&Xi(V,je),ve}for(pe=l(pe);!Ge.done;je++,Ge=z.next())Ge=Q(pe,V,je,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?je:Ge.key),k=m(Ge,k,je),He===null?ve=Ge:He.sibling=Ge,He=Ge);return t&&pe.forEach(function(u2){return i(V,u2)}),ze&&Xi(V,je),ve}function tt(V,k,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var ve=z.key;k!==null;){if(k.key===ve){if(ve=z.type,ve===G){if(k.tag===7){a(V,k.sibling),J=d(k,z.props.children),J.return=V,V=J;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Yr(ve)===k.type){a(V,k.sibling),J=d(k,z.props),ml(J,z),J.return=V,V=J;break e}a(V,k);break}else i(V,k);k=k.sibling}z.type===G?(J=Hr(z.props.children,V.mode,J,z.key),J.return=V,V=J):(J=pu(z.type,z.key,z.props,null,V.mode,J),ml(J,z),J.return=V,V=J)}return v(V);case $:e:{for(ve=z.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(V,k.sibling),J=d(k,z.children||[]),J.return=V,V=J;break e}else{a(V,k);break}else i(V,k);k=k.sibling}J=Xd(z,V.mode,J),J.return=V,V=J}return v(V);case S:return z=Yr(z),tt(V,k,z,J)}if(_e(z))return de(V,k,z,J);if(P(z)){if(ve=P(z),typeof ve!="function")throw Error(r(150));return z=ve.call(z),xe(V,k,z,J)}if(typeof z.then=="function")return tt(V,k,Eu(z),J);if(z.$$typeof===re)return tt(V,k,_u(V,z),J);Tu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(V,k.sibling),J=d(k,z),J.return=V,V=J):(a(V,k),J=Yd(z,V.mode,J),J.return=V,V=J),v(V)):a(V,k)}return function(V,k,z,J){try{fl=0;var ve=tt(V,k,z,J);return Ga=null,ve}catch(pe){if(pe===Ha||pe===bu)throw pe;var He=xn(29,pe,null,V.mode);return He.lanes=J,He.return=V,He}}}var Jr=Ty(!0),wy=Ty(!1),Ms=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=mu(t),oy(t,null,a),i}return fu(t,l,i,a),mu(t)}function pl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}function hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var df=!1;function gl(){if(df){var t=Fa;if(t!==null)throw t}}function yl(t,i,a,l){df=!1;var d=t.updateQueue;Ms=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?m=B:v.next=B,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(m!==null){var Z=d.baseState;v=0,Y=B=I=null,T=m;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(Me&H)===H:(l&H)===H){H!==0&&H===qa&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,xe=T;H=i;var tt=a;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){Z=de.call(tt,Z,H);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,H=typeof de=="function"?de.call(tt,Z,H):de,H==null)break e;Z=E({},Z,H);break e;case 2:Ms=!0}}H=T.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=Q,I=Z):Y=Y.next=Q,v|=H;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Y===null&&(I=Z),d.baseState=I,d.firstBaseUpdate=B,d.lastBaseUpdate=Y,m===null&&(d.shared.lanes=0),qs|=v,t.lanes=v,t.memoizedState=Z}}function Ay(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ay(a[t],i)}var $a=O(null),wu=O(0);function Ny(t,i){t=os,le(wu,t),le($a,i),os=t|i.baseLanes}function ff(){le(wu,os),le($a,$a.current)}function mf(){os=wu.current,W($a),W(wu)}var En=O(null),zn=null;function Ls(t){var i=t.alternate;le(_t,_t.current&1),le(En,t),zn===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(zn=t)}function pf(t){le(_t,_t.current),le(En,t),zn===null&&(zn=t)}function Ry(t){t.tag===22?(le(_t,_t.current),le(En,t),zn===null&&(zn=t)):Us()}function Us(){le(_t,_t.current),le(En,En.current)}function Tn(t){W(En),zn===t&&(zn=null),W(_t)}var _t=O(0);function Au(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||Em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ce=null,Ze=null,Nt=null,Su=!1,Ka=!1,Wr=!1,Nu=0,_l=0,Qa=null,ew=0;function ft(){throw Error(r(321))}function gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function yf(t,i,a,l,d,m){return Zi=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?h0:Df,Wr=!1,m=a(l,d),Wr=!1,Ka&&(m=Iy(i,a,l,d)),Cy(t),m}function Cy(t){F.H=xl;var i=Ze!==null&&Ze.next!==null;if(Zi=0,Nt=Ze=Ce=null,Su=!1,_l=0,Qa=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&yu(t)&&(Rt=!0))}function Iy(t,i,a,l){Ce=t;var d=0;do{if(Ka&&(Qa=null),_l=0,Ka=!1,25<=d)throw Error(r(301));if(d+=1,Nt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=d0,m=i(a,l)}while(Ka);return m}function tw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?vl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function _f(){var t=Nu!==0;return Nu=0,t}function vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function bf(t){if(Su){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Su=!1}Zi=0,Nt=Ze=Ce=null,Ka=!1,_l=Nu=0,Qa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function vt(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Nt===null?Ce.memoizedState:Nt.next;if(i!==null)Nt=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var i=_l;return _l+=1,Qa===null&&(Qa=[]),t=by(Qa,t,i),i=Ce,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?h0:Df),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===re)return Gt(t)}throw Error(r(438,String(t)))}function xf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ru(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function es(t,i){return typeof i=="function"?i(t):i}function Iu(t){var i=vt();return Ef(i,Ze,t)}function Ef(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var T=v=null,I=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Me&Z)===Z:(Zi&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===qa&&(Y=!0);else if((Zi&H)===H){B=B.next,H===qa&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=m):I=I.next=Z,Ce.lanes|=H,qs|=H;Z=B.action,Wr&&a(m,Z),m=B.hasEagerState?B.eagerState:a(m,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=m):I=I.next=H,Ce.lanes|=Z,qs|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?v=m:I.next=T,!bn(m,t.memoizedState)&&(Rt=!0,Y&&(a=Fa,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var i=vt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);bn(m,i.memoizedState)||(Rt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function jy(t,i,a){var l=Ce,d=vt(),m=ze;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!bn((Ze||d).memoizedState,a);if(v&&(d.memoizedState=a,Rt=!0),d=d.queue,Sf(Oy.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},ky.bind(null,l,d,a,i),null),it===null)throw Error(r(349));m||(Zi&127)!==0||Dy(l,i,a)}return a}function Dy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Ru(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ky(t,i,a,l){i.value=a,i.getSnapshot=l,My(i)&&Vy(t)}function Oy(t,i,a){return a(function(){My(i)&&Vy(t)})}function My(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function Vy(t){var i=Fr(t,2);i!==null&&gn(i,t,2)}function wf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Wr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},i}function Py(t,i,a,l){return t.baseState=a,Ef(t,Ze,typeof l=="function"?l:es)}function nw(t,i,a,l,d){if(ku(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Ly(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Ly(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=F.T,v={};F.T=v;try{var T=a(d,l),I=F.S;I!==null&&I(v,T),Uy(t,i,T)}catch(B){Af(t,i,B)}finally{m!==null&&v.types!==null&&(m.types=v.types),F.T=m}}else try{m=a(d,l),Uy(t,i,m)}catch(B){Af(t,i,B)}}function Uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(t,i,l)},function(l){return Af(t,i,l)}):zy(t,i,a)}function zy(t,i,a){i.status="fulfilled",i.value=a,By(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ly(t,a)))}function Af(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,By(i),i=i.next;while(i!==l)}t.action=null}function By(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qy(t,i){return i}function Fy(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ce;if(ze){if(st){t:{for(var d=st,m=Un;d.nodeType!==8;){if(!m){d=null;break t}if(d=Bn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){st=Bn(d.nextSibling),l=d.data==="F!";break e}}ks(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},a.queue=l,a=l0.bind(null,Ce,l),l.dispatch=a,l=wf(!1),m=jf.bind(null,Ce,!1,l.queue),l=on(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=nw.bind(null,Ce,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function Hy(t){var i=vt();return Gy(i,Ze,t)}function Gy(t,i,a){if(i=Ef(t,i,qy)[0],t=Iu(es)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(v){throw v===Ha?bu:v}else l=i;i=vt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ya(9,{destroy:void 0},iw.bind(null,d,a),null)),[l,m,t]}function iw(t,i){t.action=i}function $y(t){var i=vt(),a=Ze;if(a!==null)return Gy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Ru(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ky(){return vt().memoizedState}function ju(t,i,a,l){var d=on();Ce.flags|=t,d.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function Du(t,i,a,l){var d=vt();l=l===void 0?null:l;var m=d.memoizedState.inst;Ze!==null&&l!==null&&gf(l,Ze.memoizedState.deps)?d.memoizedState=Ya(i,m,a,l):(Ce.flags|=t,d.memoizedState=Ya(1|i,m,a,l))}function Qy(t,i){ju(8390656,8,t,i)}function Sf(t,i){Du(2048,8,t,i)}function sw(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Ru(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Yy(t){var i=vt().memoizedState;return sw({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Xy(t,i){return Du(4,2,t,i)}function Jy(t,i){return Du(4,4,t,i)}function Wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zy(t,i,a){a=a!=null?a.concat([t]):null,Du(4,4,Wy.bind(null,i,t),a)}function Nf(){}function e0(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function t0(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gf(i,l[1]))return l[0];if(l=t(),Wr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Rf(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Ce.lanes|=t,qs|=t,a)}function n0(t,i,a,l){return bn(a,i)?a:$a.current!==null?(t=Rf(t,a,l),bn(t,i)||(Rt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=n_(),Ce.lanes|=t,qs|=t,i)}function i0(t,i,a,l,d){var m=ie.p;ie.p=m!==0&&8>m?m:8;var v=F.T,T={};F.T=T,jf(t,!1,i,a);try{var I=d(),B=F.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=ZT(I,l);bl(t,i,Y,Sn(t))}else bl(t,i,l,Sn(t))}catch(Z){bl(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{ie.p=m,v!==null&&T.types!==null&&(v.types=T.types),F.T=v}}function rw(){}function Cf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=s0(t).queue;i0(t,d,i,fe,a===null?rw:function(){return r0(t),a(l)})}function s0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function r0(t){var i=s0(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},Sn())}function If(){return Gt(Pl)}function a0(){return vt().memoizedState}function o0(){return vt().memoizedState}function aw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Vs(a);var l=Ps(i,t,a);l!==null&&(gn(l,i,a),pl(l,i,a)),i={cache:rf()},t.payload=i;return}i=i.return}}function ow(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ku(t)?c0(i,a):(a=Kd(t,i,a,l),a!==null&&(gn(a,t,l),u0(a,i,l)))}function l0(t,i,a){var l=Sn();bl(t,i,a,l)}function bl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(t))c0(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,T=m(v,a);if(d.hasEagerState=!0,d.eagerState=T,bn(T,v))return fu(t,i,d,0),it===null&&du(),!1}catch{}if(a=Kd(t,i,d,l),a!==null)return gn(a,t,l),u0(a,i,l),!0}return!1}function jf(t,i,a,l){if(l={lane:2,revertLane:cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(i)throw Error(r(479))}else i=Kd(t,a,l,2),i!==null&&gn(i,t,2)}function ku(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function c0(t,i){Ka=Su=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function u0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}var xl={readContext:Gt,use:Cu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};xl.useEffectEvent=ft;var h0={readContext:Gt,use:Cu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Qy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ju(4194308,4,Wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ju(4194308,4,t,i)},useInsertionEffect:function(t,i){ju(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Wr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var d=a(i);if(Wr){In(!0);try{a(i)}finally{In(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=ow.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=wf(t);var i=t.queue,a=l0.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,i){var a=on();return Rf(a,t,i)},useTransition:function(){var t=wf(!1);return t=i0.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,d=on();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Me&127)!==0||Dy(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Qy(Oy.bind(null,l,m,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},ky.bind(null,l,m,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(ze){var a=ki,l=Di;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ew++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:If,useFormState:Fy,useActionState:Fy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:xf,useCacheRefresh:function(){return on().memoizedState=aw.bind(null,Ce)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Gt,use:Cu,useCallback:e0,useContext:Gt,useEffect:Sf,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:t0,useReducer:Iu,useRef:Ky,useState:function(){return Iu(es)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=vt();return n0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Iu(es)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:jy,useId:a0,useHostTransitionStatus:If,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,i){var a=vt();return Py(a,Ze,t,i)},useMemoCache:xf,useCacheRefresh:o0};Df.useEffectEvent=Yy;var d0={readContext:Gt,use:Cu,useCallback:e0,useContext:Gt,useEffect:Sf,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:t0,useReducer:Tf,useRef:Ky,useState:function(){return Tf(es)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=vt();return Ze===null?Rf(a,t,i):n0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Tf(es)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:jy,useId:a0,useHostTransitionStatus:If,useFormState:$y,useActionState:$y,useOptimistic:function(t,i){var a=vt();return Ze!==null?Py(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:o0};d0.useEffectEvent=Yy;function kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),d=Vs(l);d.payload=i,a!=null&&(d.callback=a),i=Ps(t,d,l),i!==null&&(gn(i,t,l),pl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),d=Vs(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ps(t,d,l),i!==null&&(gn(i,t,l),pl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Vs(a);l.tag=2,i!=null&&(l.callback=i),i=Ps(t,l,a),i!==null&&(gn(i,t,a),pl(i,t,a))}};function f0(t,i,a,l,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(d,m):!0}function m0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Of.enqueueReplaceState(i,i.state,null)}function Zr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function p0(t){hu(t)}function g0(t){console.error(t)}function y0(t){hu(t)}function Ou(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mf(t,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,i)},a}function v0(t){return t=Vs(t),t.tag=3,t}function b0(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){_0(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_0(i,a,l),typeof d!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ba(i,a,d,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?$u():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===xu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),am(t,l,d)),!1;case 22:return a.flags|=65536,l===xu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),am(t,l,d)),!1}throw Error(r(435,a.tag))}return am(t,l,d),$u(),!1}if(ze)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Zd&&(t=Error(r(422),{cause:l}),ul(Vn(t,a)))):(l!==Zd&&(i=Error(r(423),{cause:l}),ul(Vn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Vn(l,a),d=Mf(t.stateNode,l,d),hf(t,d),mt!==4&&(mt=2)),!1;var m=Error(r(520),{cause:l});if(m=Vn(m,a),Cl===null?Cl=[m]:Cl.push(m),mt!==4&&(mt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Mf(a.stateNode,l,t),hf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fs===null||!Fs.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=v0(d),b0(d,t,a,l),hf(a,d),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),Rt=!1;function $t(t,i,a,l){i.child=t===null?wy(i,null,a,l):Jr(i,t.child,a,l)}function x0(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Kr(i),l=yf(t,i,a,v,m,d),T=_f(),t!==null&&!Rt?(vf(t,i,d),ts(t,i,d)):(ze&&T&&Jd(i),i.flags|=1,$t(t,i,l,d),i.child)}function E0(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Qd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,T0(t,i,m,l,d)):(t=pu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Hf(t,d)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(v,l)&&t.ref===i.ref)return ts(t,i,d)}return i.flags|=1,t=Yi(m,l),t.ref=i.ref,t.return=i,i.child=t}function T0(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(ol(m,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=m,Hf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,ts(t,i,d)}return Pf(t,i,a,l,d)}function w0(t,i,a,l){var d=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,i.child=null;return A0(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(i,m!==null?m.cachePool:null),m!==null?Ny(i,m):ff(),Ry(i);else return l=i.lanes=536870912,A0(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(vu(i,m.cachePool),Ny(i,m),Us(),i.memoizedState=null):(t!==null&&vu(i,null),ff(),Us());return $t(t,i,d,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function A0(t,i,a,l,d){var m=of();return m=m===null?null:{parent:St._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&vu(i,null),ff(),Ry(i),t!==null&&Ba(t,i,l,!0),i.childLanes=d,null}function Mu(t,i){return i=Pu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function S0(t,i,a){return Jr(i,t.child,null,a),t=Mu(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function cw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Mu(i,l),i.lanes=536870912,El(null,t);if(pf(i),(t=st)?(t=L_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:Di,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=cy(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw ks(i);return i.lanes=536870912,null}return Mu(i,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(pf(i),d)if(i.flags&256)i.flags&=-257,i=S0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Ba(t,i,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(l=it,l!==null&&(v=Fo(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Fr(t,v),gn(l,t,v),Vf;$u(),i=S0(t,i,a)}else t=m.treeContext,st=Bn(v.nextSibling),Ht=i,ze=!0,Ds=null,Un=!1,t!==null&&dy(i,t),i=Mu(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Vu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Pf(t,i,a,l,d){return Kr(i),a=yf(t,i,a,l,void 0,d),l=_f(),t!==null&&!Rt?(vf(t,i,d),ts(t,i,d)):(ze&&l&&Jd(i),i.flags|=1,$t(t,i,a,d),i.child)}function N0(t,i,a,l,d,m){return Kr(i),i.updateQueue=null,a=Iy(i,l,a,d),Cy(t),l=_f(),t!==null&&!Rt?(vf(t,i,m),ts(t,i,m)):(ze&&l&&Jd(i),i.flags|=1,$t(t,i,a,m),i.child)}function R0(t,i,a,l,d){if(Kr(i),i.stateNode===null){var m=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(m=Gt(v)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Of,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},cf(i),v=a.contextType,m.context=typeof v=="object"&&v!==null?Gt(v):Pa,m.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(kf(i,a,v,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Of.enqueueReplaceState(m,m.state,null),yl(i,l,m,d),gl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,I=Zr(a,T);m.props=I;var B=m.context,Y=a.contextType;v=Pa,typeof Y=="object"&&Y!==null&&(v=Gt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==v)&&m0(i,m,l,v),Ms=!1;var H=i.memoizedState;m.state=H,yl(i,l,m,d),gl(),B=i.memoizedState,T||H!==B||Ms?(typeof Z=="function"&&(kf(i,a,Z,l),B=i.memoizedState),(I=Ms||f0(i,a,I,l,H,B,v))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),m.props=l,m.state=B,m.context=v,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,uf(t,i),v=i.memoizedProps,Y=Zr(a,v),m.props=Y,Z=i.pendingProps,H=m.context,B=a.contextType,I=Pa,typeof B=="object"&&B!==null&&(I=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Z||H!==I)&&m0(i,m,l,I),Ms=!1,H=i.memoizedState,m.state=H,yl(i,l,m,d),gl();var Q=i.memoizedState;v!==Z||H!==Q||Ms||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof T=="function"&&(kf(i,a,T,l),Q=i.memoizedState),(Y=Ms||f0(i,a,Y,l,H,Q,I)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=I,l=Y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Vu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Jr(i,t.child,null,d),i.child=Jr(i,null,a,d)):$t(t,i,a,d),i.memoizedState=m.state,t=i.child):t=ts(t,i,d),t}function C0(t,i,a,l){return Gr(),i.flags|=256,$t(t,i,a,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:_y()}}function zf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function I0(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(d?Ls(i):Us(),(t=st)?(t=L_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:Di,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=cy(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw ks(i);return Em(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Us(),d=i.mode,T=Pu({mode:"hidden",children:T},d),l=Hr(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Uf(a),l.childLanes=zf(t,v,a),i.memoizedState=Lf,El(null,l)):(Ls(i),Bf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(m)i.flags&256?(Ls(i),i.flags&=-257,i=qf(t,i,a)):i.memoizedState!==null?(Us(),i.child=t.child,i.flags|=128,i=null):(Us(),T=l.fallback,d=i.mode,l=Pu({mode:"visible",children:l.children},d),T=Hr(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Jr(i,t.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=zf(t,v,a),i.memoizedState=Lf,i=El(null,l));else if(Ls(i),Em(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(r(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),i=qf(t,i,a)}else if(Rt||Ba(t,i,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=it,v!==null&&(l=Fo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Fr(t,l),gn(v,t,l),Vf;xm(T)||$u(),i=qf(t,i,a)}else xm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,st=Bn(T.nextSibling),Ht=i,ze=!0,Ds=null,Un=!1,t!==null&&dy(i,t),i=Bf(i,l.children),i.flags|=4096);return i}return d?(Us(),T=l.fallback,d=i.mode,I=t.child,B=I.sibling,l=Yi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?T=Yi(B,T):(T=Hr(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,El(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Uf(a):(d=T.cachePool,d!==null?(I=St._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=_y(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=zf(t,v,a),i.memoizedState=Lf,El(t.child,l)):(Ls(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Bf(t,i){return i=Pu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pu(t,i){return t=xn(22,t,null,i),t.lanes=0,t}function qf(t,i,a){return Jr(i,t.child,null,a),t=Bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function j0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),nf(t.return,i,a)}function Ff(t,i,a,l,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=m)}function D0(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var v=_t.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,le(_t,v),$t(t,i,l,a),l=ze?cl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,a,i);else if(t.tag===19)j0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Ff(i,!1,d,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Au(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Ff(i,!0,a,null,m,l);break;case"together":Ff(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ts(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function uw(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Os(i,St,t.memoizedState.cache),Gr();break;case 27:case 5:Ar(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,pf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(i),i.flags|=128,null):(a&i.child.childLanes)!==0?I0(t,i,a):(Ls(i),t=ts(t,i,a),t!==null?t.sibling:null);Ls(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ba(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return D0(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(_t,_t.current),l)break;return null;case 22:return i.lanes=0,w0(t,i,a,i.pendingProps);case 24:Os(i,St,t.memoizedState.cache)}return ts(t,i,a)}function k0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Hf(t,a)&&(i.flags&128)===0)return Rt=!1,uw(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&hy(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Yr(i.elementType),i.type=t,typeof t=="function")Qd(t)?(l=Zr(t,l),i.tag=1,i=R0(null,i,t,l,a)):(i.tag=0,i=Pf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===se){i.tag=11,i=x0(null,i,t,l,a);break e}else if(d===N){i.tag=14,i=E0(null,i,t,l,a);break e}}throw i=Qe(t)||t,Error(r(306,i,""))}}return i;case 0:return Pf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Zr(l,i.pendingProps),R0(t,i,l,d,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,uf(t,i),yl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Os(i,St,l),l!==m.cache&&sf(i,[St],a,!0),gl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=C0(t,i,l,a);break e}else if(l!==d){d=Vn(Error(r(424)),i),ul(d),i=C0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Bn(t.firstChild),Ht=i,ze=!0,Ds=null,Un=!0,a=wy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gr(),l===d){i=ts(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return Vu(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Zu(Ie.current).createElement(a),l[Tt]=i,l[Pt]=t,Kt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ar(i),t===null&&ze&&(l=i.stateNode=B_(i.type,i.pendingProps,Ie.current),Ht=i,Un=!0,d=st,Ks(i.type)?(Tm=d,st=Bn(l.firstChild)):st=d),$t(t,i,i.pendingProps.children,a),Vu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((d=l=st)&&(l=zw(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ht=i,st=Bn(l.firstChild),Un=!1,d=!0):d=!1),d||ks(i)),Ar(i),d=i.type,m=i.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,_m(d,m)?l=null:v!==null&&_m(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=yf(t,i,tw,null,null,a),Pl._currentValue=d),Vu(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=Bw(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ht=i,st=null,t=!0):t=!1),t||ks(i)),null;case 13:return I0(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Jr(i,null,l,a):$t(t,i,l,a),i.child;case 11:return x0(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Os(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Kr(i),d=Gt(d),l=l(d),i.flags|=1,$t(t,i,l,a),i.child;case 14:return E0(t,i,i.type,i.pendingProps,a);case 15:return T0(t,i,i.type,i.pendingProps,a);case 19:return D0(t,i,a);case 31:return cw(t,i,a);case 22:return w0(t,i,a,i.pendingProps);case 24:return Kr(i),l=Gt(St),t===null?(d=of(),d===null&&(d=it,m=rf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},cf(i),Os(i,St,d)):((t.lanes&a)!==0&&(uf(t,i),yl(i,null,null,a),gl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Os(i,St,l)):(l=m.cache,Os(i,St,l),l!==d.cache&&sf(i,[St],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ns(t){t.flags|=4}function Gf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw Xr=xu,lf}else t.flags&=-16777217}function O0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(i))if(a_())t.flags|=8192;else throw Xr=xu,lf}function Lu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Hc():536870912,t.lanes|=i,Za|=i)}function Tl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function hw(t,i,a){var l=i.pendingProps;switch(Wd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?ns(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ef())),rt(i),null;case 26:var d=i.type,m=i.memoizedState;return t===null?(ns(i),m!==null?(rt(i),O0(i,m)):(rt(i),Gf(i,d,null,l,a))):m?m!==t.memoizedState?(ns(i),rt(i),O0(i,m)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(i),rt(i),Gf(i,d,t,l,a)),null;case 27:if(_a(i),a=Ie.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=ue.current,za(i)?fy(i):(t=B_(d,l,a),i.stateNode=t,ns(i))}return rt(i),null;case 5:if(_a(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(m=ue.current,za(i))fy(i);else{var v=Zu(Ie.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}m[Tt]=i,m[Pt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(Kt(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(i)}}return rt(i),Gf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ie.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Ht,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(t.nodeValue,a)),t||ks(i,!0)}else t=Zu(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Tt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),d=!1}else d=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&fm(i.stateNode.containerInfo),rt(i),null;case 10:return Wi(i.type),rt(i),null;case 19:if(W(_t),l=i.memoizedState,l===null)return rt(i),null;if(d=(i.flags&128)!==0,m=l.rendering,m===null)if(d)Tl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Au(t),m!==null){for(i.flags|=128,Tl(l,!1),t=m.updateQueue,i.updateQueue=t,Lu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ly(a,t),a=a.sibling;return le(_t,_t.current&1|2),ze&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Fu&&(i.flags|=128,d=!0,Tl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Au(m),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Lu(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ze)return rt(i),null}else 2*rn()-l.renderingStartTime>Fu&&a!==536870912&&(i.flags|=128,d=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=_t.current,le(_t,d?a&1|2:a&1),ze&&Xi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),mf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(St),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function dw(t,i){switch(Wd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(St),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _a(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));Gr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Gr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(_t),null;case 4:return ot(),null;case 10:return Wi(i.type),null;case 22:case 23:return Tn(i),mf(),t!==null&&W(Qr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(St),null;case 25:return null;default:return null}}function M0(t,i){switch(Wd(i),i.tag){case 3:Wi(St),ot();break;case 26:case 27:case 5:_a(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:W(_t);break;case 10:Wi(i.type);break;case 22:case 23:Tn(i),mf(),t!==null&&W(Qr);break;case 24:Wi(St)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==d)}}catch(T){Je(i,i.return,T)}}function zs(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=i;var I=a,B=T;try{B()}catch(Y){Je(d,I,Y)}}}l=l.next}while(l!==m)}}catch(Y){Je(i,i.return,Y)}}function V0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sy(i,a)}catch(l){Je(t,t.return,l)}}}function P0(t,i,a){a.props=Zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Je(t,i,d)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Je(t,i,d)}else a.current=null}function L0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Je(t,t.return,d)}}function $f(t,i,a){try{var l=t.stateNode;Ow(l,t.type,a,i),l[Pt]=i}catch(d){Je(t,t.return,d)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Qf(t,i,a),t=t.sibling;t!==null;)Qf(t,i,a),t=t.sibling}function Uu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,i,a),t=t.sibling;t!==null;)Uu(t,i,a),t=t.sibling}function z0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Kt(i,l,a),i[Tt]=t,i[Pt]=a}catch(m){Je(t,t.return,m)}}var is=!1,Ct=!1,Yf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function fw(t,i){if(t=t.containerInfo,gm=ah,t=Zg(t),Bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Y=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||d!==0&&Z.nodeType!==3||(T=v+d),Z!==m||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++B===d&&(T=v),H===m&&++Y===l&&(I=v),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:t,selectionRange:a},ah=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var de=Zr(a.type,d);t=l.getSnapshotBeforeUpdate(de,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Je(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function q0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(t,a),l&4&&wl(5,a);break;case 1:if(rs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var d=Zr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&V0(a),l&512&&Al(a,a.return);break;case 3:if(rs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sy(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&z0(a);case 26:case 5:rs(t,a),i===null&&l&4&&L0(a),l&512&&Al(a,a.return);break;case 12:rs(t,a);break;case 31:rs(t,a),l&4&&G0(t,a);break;case 13:rs(t,a),l&4&&$0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ew.bind(null,a),qw(t,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){i=i!==null&&i.memoizedState!==null||Ct,d=is;var m=Ct;is=l,(Ct=i)&&!m?as(t,a,(a.subtreeFlags&8772)!==0):rs(t,a),is=d,Ct=m}break;case 30:break;default:rs(t,a)}}function F0(t){var i=t.alternate;i!==null&&(t.alternate=null,F0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function ss(t,i,a){for(a=a.child;a!==null;)H0(t,i,a),a=a.sibling}function H0(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ct||Oi(a,i),ss(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Oi(a,i);var l=ct,d=dn;Ks(a.type)&&(ct=a.stateNode,dn=!1),ss(t,i,a),Ol(a.stateNode),ct=l,dn=d;break;case 5:Ct||Oi(a,i);case 6:if(l=ct,d=dn,ct=null,ss(t,i,a),ct=l,dn=d,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{ct.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:ct!==null&&(dn?(t=ct,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):V_(ct,a.stateNode));break;case 4:l=ct,d=dn,ct=a.stateNode.containerInfo,dn=!0,ss(t,i,a),ct=l,dn=d;break;case 0:case 11:case 14:case 15:zs(2,a,i),Ct||zs(4,a,i),ss(t,i,a);break;case 1:Ct||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P0(a,i,l)),ss(t,i,a);break;case 21:ss(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ss(t,i,a),Ct=l;break;default:ss(t,i,a)}}function G0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){Je(i,i.return,a)}}}function $0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){Je(i,i.return,a)}}function mw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new B0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new B0),i;default:throw Error(r(435,t.tag))}}function zu(t,i){var a=mw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=Tw.bind(null,t,l);l.then(d,d)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){ct=T.stateNode,dn=!1;break e}break;case 5:ct=T.stateNode,dn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ct===null)throw Error(r(160));H0(m,v,d),ct=null,dn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)K0(i,t),i=i.sibling}var ri=null;function K0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),mn(t),l&4&&(zs(3,t,t.return),wl(3,t),zs(5,t,t.return));break;case 1:fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ri;if(fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[bi]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Kt(m,l,a),m[Tt]=t,wt(m),l=m;break e;case"link":var v=K_("link","href",d).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=d.createElement(l),Kt(m,l,a),d.head.appendChild(m);break;case"meta":if(v=K_("meta","content",d).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=d.createElement(l),Kt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Tt]=t,wt(m),l=m}t.stateNode=l}else Q_(d,t.type,t.stateNode);else t.stateNode=$_(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Q_(d,t.type,t.stateNode):$_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),a!==null&&l&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),mn(t),l&512&&(Ct||a===null||Oi(a,a.return)),t.flags&32){d=t.stateNode;try{hn(d,"")}catch(de){Je(t,t.return,de)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,$f(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Yf=!0);break;case 6:if(fn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Je(t,t.return,de)}}break;case 3:if(nh=null,d=ri,ri=eh(i.containerInfo),fn(i,t),ri=d,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(i.containerInfo)}catch(de){Je(t,t.return,de)}Yf&&(Yf=!1,Q0(t));break;case 4:l=ri,ri=eh(t.stateNode.containerInfo),fn(i,t),mn(t),ri=l;break;case 12:fn(i,t),mn(t);break;case 31:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 13:fn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qu=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=is,Y=Ct;if(is=B||d,Ct=Y||I,fn(i,t),Ct=Y,is=B,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||is||Ct||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){Je(I,I.return,de)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(de){Je(I,I.return,de)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;d?P_(Q,!0):P_(I.stateNode,!1)}catch(de){Je(I,I.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zu(t,a))));break;case 19:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 30:break;case 21:break;default:fn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(U0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=Kf(t);Uu(t,m,d);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var T=Kf(t);Uu(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Kf(t);Qf(t,B,I);break;default:throw Error(r(161))}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Q0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)q0(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zs(4,i,i.return),ea(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&P0(i,i.return,a),ea(i);break;case 27:Ol(i.stateNode);case 26:case 5:Oi(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function as(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:as(d,m,a),wl(4,m);break;case 1:if(as(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=m,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Ay(I[d],T)}catch(B){Je(l,l.return,B)}}a&&v&64&&V0(m),Al(m,m.return);break;case 27:z0(m);case 26:case 5:as(d,m,a),a&&l===null&&v&4&&L0(m),Al(m,m.return);break;case 12:as(d,m,a);break;case 31:as(d,m,a),a&&v&4&&G0(d,m);break;case 13:as(d,m,a),a&&v&4&&$0(d,m);break;case 22:m.memoizedState===null&&as(d,m,a),Al(m,m.return);break;case 30:break;default:as(d,m,a)}i=i.sibling}}function Xf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y0(t,i,a,l),i=i.sibling}function Y0(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),d&2048&&wl(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t)));break;case 12:if(d&2048){ai(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ai(t,i,a,l);break;case 31:ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?ai(t,i,a,l):Sl(t,i):m._visibility&2?ai(t,i,a,l):(m._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Xf(v,i);break;case 24:ai(t,i,a,l),d&2048&&Jf(i.alternate,i);break;default:ai(t,i,a,l)}}function Xa(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(m,v,T,I,d),wl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Xa(m,v,T,I,d):Sl(m,v):(Y._visibility|=2,Xa(m,v,T,I,d)),d&&B&2048&&Xf(v.alternate,v);break;case 24:Xa(m,v,T,I,d),d&&B&2048&&Jf(v.alternate,v);break;default:Xa(m,v,T,I,d)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Sl(a,l),d&2048&&Xf(l.alternate,l);break;case 24:Sl(a,l),d&2048&&Jf(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Nl=8192;function Ja(t,i,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)X0(t,i,a),t=t.sibling}function X0(t,i,a){switch(t.tag){case 26:Ja(t,i,a),t.flags&Nl&&t.memoizedState!==null&&e2(a,ri,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,a);break;case 3:case 4:var l=ri;ri=eh(t.stateNode.containerInfo),Ja(t,i,a),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,Ja(t,i,a),Nl=l):Ja(t,i,a));break;default:Ja(t,i,a)}}function J0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Z0(l,t)}J0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W0(t),t=t.sibling}function W0(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bu(t)):Rl(t);break;default:Rl(t)}}function Bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Z0(l,t)}J0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zs(8,i,i.return),Bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(i));break;default:Bu(i)}t=t.sibling}}function Z0(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var d=l.sibling,m=l.return;if(F0(l),l===a){Ut=null;break e}if(d!==null){d.return=m,Ut=d;break e}Ut=m}}}var pw={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},gw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,De=null,Me=0,Xe=0,wn=null,Bs=!1,Wa=!1,Wf=!1,os=0,mt=0,qs=0,ta=0,Zf=0,An=0,Za=0,Cl=null,pn=null,em=!1,qu=0,e_=0,Fu=1/0,Hu=null,Fs=null,Mt=0,Hs=null,eo=null,ls=0,tm=0,nm=null,t_=null,Il=0,im=null;function Sn(){return(Ke&2)!==0&&Me!==0?Me&-Me:F.T!==null?cm():Gc()}function n_(){if(An===0)if((Me&536870912)===0||ze){var t=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function gn(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(to(t,0),Gs(t,Me,An,!1)),Cr(t,a),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(ta|=a),mt===4&&Gs(t,Me,An,!1)),Mi(t))}function i_(t,i,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),d=l?vw(t,i):rm(t,i,!0),m=l;do{if(d===0){Wa&&!l&&Gs(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!yw(a)){d=rm(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;d=Cl;var I=T.current.memoizedState.isDehydrated;if(I&&(to(T,v).flags|=256),v=rm(T,v,!1),v!==2){if(Wf&&!I){T.errorRecoveryDisabledLanes|=m,ta|=m,d=4;break e}m=pn,pn=d,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){to(t,0),Gs(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Gs(l,i,An,!Bs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=qu+300-rn(),10<d)){if(Gs(l,i,An,!Bs),yi(l,0,!0)!==0)break e;ls=i,l.timeoutHandle=O_(s_.bind(null,l,a,pn,Hu,em,i,An,ta,Za,Bs,m,"Throttled",-0,0),d);break e}s_(l,a,pn,Hu,em,i,An,ta,Za,Bs,m,null,-0,0)}}break}while(!0);Mi(t)}function s_(t,i,a,l,d,m,v,T,I,B,Y,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},X0(i,m,Z);var de=(m&62914560)===m?qu-rn():(m&4194048)===m?e_-rn():0;if(de=t2(Z,de),de!==null){ls=m,t.cancelPendingCommit=de(d_.bind(null,t,i,m,a,l,d,v,T,I,Y,Z,null,H,Q)),Gs(t,m,v,!B);return}}d_(t,i,m,a,l,d,v,T,I)}function yw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!bn(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gs(t,i,a,l){i&=~Zf,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-gt(d),v=1<<m;l[m]=-1,d&=~v}a!==0&&Ir(t,a,i)}function Gu(){return(Ke&6)===0?(jl(0),!1):!0}function sm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Ji=$r=null,bf(t),Ga=null,fl=0,t=De;for(;t!==null;)M0(t.alternate,t),t=t.return;De=null}}function to(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Pw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ls=0,sm(),it=t,De=a=Yi(t.current,null),Me=i,Xe=0,wn=null,Bs=!1,Wa=Xn(t,i),Wf=!1,Za=An=Zf=ta=qs=mt=0,pn=Cl=null,em=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-gt(l),m=1<<d;i|=t[d],l&=~m}return os=i,du(),a}function r_(t,i){Ce=null,F.H=xl,i===Ha||i===bu?(i=xy(),Xe=3):i===lf?(i=xy(),Xe=4):Xe=i===Vf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,De===null&&(mt=1,Ou(t,Vn(i,t.current)))}function a_(){var t=En.current;return t===null?!0:(Me&4194048)===Me?zn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===zn:!1}function o_(){var t=F.H;return F.H=xl,t===null?xl:t}function l_(){var t=F.A;return F.A=pw,t}function $u(){mt=4,Bs||(Me&4194048)!==Me&&En.current!==null||(Wa=!0),(qs&134217727)===0&&(ta&134217727)===0||it===null||Gs(it,Me,An,!1)}function rm(t,i,a){var l=Ke;Ke|=2;var d=o_(),m=l_();(it!==t||Me!==i)&&(Hu=null,to(t,i)),i=!1;var v=mt;e:do try{if(Xe!==0&&De!==null){var T=De,I=wn;switch(Xe){case 8:sm(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Xe;if(Xe=0,wn=null,no(t,T,I,B),a&&Wa){v=0;break e}break;default:B=Xe,Xe=0,wn=null,no(t,T,I,B)}}_w(),v=mt;break}catch(Y){r_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Ji=$r=null,Ke=l,F.H=d,F.A=m,De===null&&(it=null,Me=0,du()),v}function _w(){for(;De!==null;)c_(De)}function vw(t,i){var a=Ke;Ke|=2;var l=o_(),d=l_();it!==t||Me!==i?(Hu=null,Fu=rn()+500,to(t,i)):Wa=Xn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,no(t,i,m,1);break;case 2:case 9:if(vy(m)){Xe=0,wn=null,u_(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),Mi(t)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:vy(m)?(Xe=0,wn=null,u_(i)):(Xe=0,wn=null,no(t,i,m,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(v?Y_(v):T.stateNode.complete){Xe=0,wn=null;var I=T.sibling;if(I!==null)De=I;else{var B=T.return;B!==null?(De=B,Ku(B)):De=null}break t}}Xe=0,wn=null,no(t,i,m,5);break;case 6:Xe=0,wn=null,no(t,i,m,6);break;case 8:sm(),mt=6;break e;default:throw Error(r(462))}}bw();break}catch(Y){r_(t,Y)}while(!0);return Ji=$r=null,F.H=l,F.A=d,Ke=a,De!==null?0:(it=null,Me=0,du(),mt)}function bw(){for(;De!==null&&!Od();)c_(De)}function c_(t){var i=k0(t.alternate,t,os);t.memoizedProps=t.pendingProps,i===null?Ku(t):De=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=N0(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=N0(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:bf(i);default:M0(a,i),i=De=ly(i,os),i=k0(a,i,os)}t.memoizedProps=t.pendingProps,i===null?Ku(t):De=i}function no(t,i,a,l){Ji=$r=null,bf(i),Ga=null,fl=0;var d=i.return;try{if(lw(t,d,i,a,Me)){mt=1,Ou(t,Vn(a,t.current)),De=null;return}}catch(m){if(d!==null)throw De=d,m;mt=1,Ou(t,Vn(a,t.current)),De=null;return}i.flags&32768?(ze||l===1?t=!0:Wa||(Me&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):Ku(i)}function Ku(t){var i=t;do{if((i.flags&32768)!==0){h_(i,Bs);return}t=i.return;var a=hw(i.alternate,i,os);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function h_(t,i){do{var a=dw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function d_(t,i,a,l,d,m,v,T,I){t.cancelPendingCommit=null;do Qu();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=$d,Pd(t,a,m,v,T,I),t===it&&(De=it=null,Me=0),eo=i,Hs=t,ls=a,tm=m,nm=d,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ww(xs,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,d=ie.p,ie.p=2,v=Ke,Ke|=4;try{fw(t,i,a)}finally{Ke=v,ie.p=d,F.T=l}}Mt=1,f_(),m_(),p_()}}function f_(){if(Mt===1){Mt=0;var t=Hs,i=eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var d=Ke;Ke|=4;try{K0(i,t);var m=ym,v=Zg(t.containerInfo),T=m.focusedElem,I=m.selectionRange;if(v!==T&&T&&T.ownerDocument&&Wg(T.ownerDocument.documentElement,T)){if(I!==null&&Bd(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),de=T.textContent.length,xe=Math.min(I.start,de),tt=I.end===void 0?xe:Math.min(I.end,de);!Q.extend&&xe>tt&&(v=tt,tt=xe,xe=v);var V=Jg(T,xe),k=Jg(T,tt);if(V&&k&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var z=Z.createRange();z.setStart(V.node,V.offset),Q.removeAllRanges(),xe>tt?(Q.addRange(z),Q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Q.addRange(z))}}}}for(Z=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ah=!!gm,ym=gm=null}finally{Ke=d,ie.p=l,F.T=a}}t.current=i,Mt=2}}function m_(){if(Mt===2){Mt=0;var t=Hs,i=eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var d=Ke;Ke|=4;try{q0(t,i.alternate,i)}finally{Ke=d,ie.p=l,F.T=a}}Mt=3}}function p_(){if(Mt===4||Mt===3){Mt=0,Lc();var t=Hs,i=eo,a=ls,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,eo=Hs=null,g_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Fs=null),Gi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,d=ie.p,ie.p=2,F.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];m(T.value,{componentStack:T.stack})}}finally{F.T=i,ie.p=d}}(ls&3)!==0&&Qu(),Mi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===im?Il++:(Il=0,im=t):Il=0,jl(0)}}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,hl(i)))}function Qu(){return f_(),m_(),p_(),y_()}function y_(){if(Mt!==5)return!1;var t=Hs,i=tm;tm=0;var a=Gi(ls),l=F.T,d=ie.p;try{ie.p=32>a?32:a,F.T=null,a=nm,nm=null;var m=Hs,v=ls;if(Mt=0,eo=Hs=null,ls=0,(Ke&6)!==0)throw Error(r(331));var T=Ke;if(Ke|=4,W0(m.current),Y0(m,m.current,v,a),Ke=T,jl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Yn,m)}catch{}return!0}finally{ie.p=d,F.T=l,g_(t,i)}}function __(t,i,a){i=Vn(a,i),i=Mf(t.stateNode,i,2),t=Ps(t,i,2),t!==null&&(Cr(t,2),Mi(t))}function Je(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Vn(a,t),a=v0(2),l=Ps(i,a,2),l!==null&&(b0(a,l,i,t),Cr(l,2),Mi(l));break}}i=i.return}}function am(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Wf=!0,d.add(a),t=xw.bind(null,t,i,a),i.then(t,t))}function xw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>rn()-qu?(Ke&2)===0&&to(t,0):Zf|=a,Za===Me&&(Za=0)),Mi(t)}function v_(t,i){i===0&&(i=Hc()),t=Fr(t,i),t!==null&&(Cr(t,i),Mi(t))}function Ew(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(t,a)}function Tw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),v_(t,a)}function ww(t,i){return Ot(t,i)}var Yu=null,io=null,om=!1,Xu=!1,lm=!1,$s=0;function Mi(t){t!==io&&t.next===null&&(io===null?Yu=io=t:io=io.next=t),Xu=!0,om||(om=!0,Sw())}function jl(t,i){if(!lm&&Xu){lm=!0;do for(var a=!1,l=Yu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var v=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=d&~(v&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,T_(l,m))}else m=Me,m=yi(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Xn(l,m)||(a=!0,T_(l,m));l=l.next}while(a);lm=!1}}function Aw(){b_()}function b_(){Xu=om=!1;var t=0;$s!==0&&Vw()&&(t=$s);for(var i=rn(),a=null,l=Yu;l!==null;){var d=l.next,m=x_(l,i);m===0?(l.next=null,a===null?Yu=d:a.next=d,d===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(Xu=!0)),l=d}Mt!==0&&Mt!==5||jl(t),$s!==0&&($s=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-gt(m),T=1<<v,I=d[v];I===-1?((T&a)===0||(T&l)!==0)&&(d[v]=Vd(T,i)):I<=i&&(t.expiredLanes|=T),m&=~T}if(i=it,a=Me,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bs(l),Gi(a)){case 2:case 8:a=Bo;break;case 32:a=xs;break;case 268435456:a=Uc;break;default:a=xs}return l=E_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qu()&&t.callbackNode!==a)return null;var l=Me;return l=yi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),x_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function T_(t,i){if(Qu())return null;i_(t,i,!0)}function Sw(){Lw(function(){(Ke&6)!==0?Ot(zo,Aw):b_()})}function cm(){if($s===0){var t=qa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),$s=t}return $s}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Nw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=w_((d[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?w_(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var T=new Ri("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=v?A_(d,v):new FormData(d);Cf(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=v?A_(d,v):new FormData(d),Cf(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var um=0;um<Gd.length;um++){var hm=Gd[um],Rw=hm.toLowerCase(),Cw=hm[0].toUpperCase()+hm.slice(1);si(Rw,"on"+Cw)}si(ny,"onAnimationEnd"),si(iy,"onAnimationIteration"),si(sy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(GT,"onTransitionRun"),si($T,"onTransitionStart"),si(KT,"onTransitionCancel"),si(ry,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function S_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Y){hu(Y)}d.currentTarget=null,m=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Y){hu(Y)}d.currentTarget=null,m=I}}}}function ke(t,i){var a=i[Ea];a===void 0&&(a=i[Ea]=new Set);var l=t+"__bubble";a.has(l)||(N_(i,t,2,!1),a.add(l))}function dm(t,i,a){var l=0;i&&(l|=4),N_(a,t,l,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Ju]){t[Ju]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Iw.has(a)||dm(a,!1,t),dm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,dm("selectionchange",!1,i))}}function N_(t,i,a,l){switch(nv(i)){case 2:var d=s2;break;case 8:d=r2;break;default:d=Rm}a=d.bind(null,i,a,t),d=void 0,!Mr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function mm(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=xi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=m=v;continue e}T=T.parentNode}}l=l.return}Ns(function(){var B=m,Y=Dn(a),Z=[];e:{var H=ay.get(t);if(H!==void 0){var Q=Ri,de=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":Q=lu;break;case"focusin":de="focus",Q=Ur;break;case"focusout":de="blur",Q=Ur;break;case"beforeblur":case"afterblur":Q=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case ny:case iy:case sy:Q=tu;break;case ry:Q=w;break;case"scroll":case"scrollend":Q=nl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qi;break;case"toggle":case"beforetoggle":Q=Re}var xe=(i&4)!==0,tt=!xe&&(t==="scroll"||t==="scrollend"),V=xe?H!==null?H+"Capture":null:H;xe=[];for(var k=B,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||V===null||(J=ei(k,V),J!=null&&xe.push(kl(k,J,z))),tt)break;k=k.return}0<xe.length&&(H=new Q(H,de,null,a,Y),Z.push({event:H,listeners:xe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Zo&&(de=a.relatedTarget||a.fromElement)&&(xi(de)||de[vi]))break e;if((Q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=B,de=de?xi(de):null,de!==null&&(tt=c(de),xe=de.tag,de!==tt||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(Q=null,de=B),Q!==de)){if(xe=il,J="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Qi,J="onPointerLeave",V="onPointerEnter",k="pointer"),tt=Q==null?H:_n(Q),z=de==null?H:_n(de),H=new xe(J,k+"leave",Q,a,Y),H.target=tt,H.relatedTarget=z,J=null,xi(Y)===B&&(xe=new xe(V,k+"enter",de,a,Y),xe.target=z,xe.relatedTarget=tt,J=xe),tt=J,Q&&de)t:{for(xe=jw,V=Q,k=de,z=0,J=V;J;J=xe(J))z++;J=0;for(var ve=k;ve;ve=xe(ve))J++;for(;0<z-J;)V=xe(V),z--;for(;0<J-z;)k=xe(k),J--;for(;z--;){if(V===k||k!==null&&V===k.alternate){xe=V;break t}V=xe(V),k=xe(k)}xe=null}else xe=null;Q!==null&&R_(Z,H,Q,xe,!1),de!==null&&tt!==null&&R_(Z,tt,de,xe,!0)}}e:{if(H=B?_n(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var He=Gg;else if(Fg(H))if($g)He=qT;else{He=zT;var pe=UT}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Sa(B.elementType)&&(He=Gg):He=BT;if(He&&(He=He(t,B))){Hg(Z,He,a,Y);break e}pe&&pe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Xo(H,"number",H.value)}switch(pe=B?_n(B):window,t){case"focusin":(Fg(pe)||pe.contentEditable==="true")&&(Oa=pe,qd=B,ll=null);break;case"focusout":ll=qd=Oa=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,ey(Z,a,Y);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":ey(Z,a,Y)}var je;if($e)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ka?zr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ji&&a.locale!=="ko"&&(ka||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ka&&(je=tl()):(Ni=Y,el="value"in Ni?Ni.value:Ni.textContent,ka=!0)),pe=Wu(B,Ve),0<pe.length&&(Ve=new Ii(Ve,t,null,a,Y),Z.push({event:Ve,listeners:pe}),je?Ve.data=je:(je=Da(a),je!==null&&(Ve.data=je)))),(je=On?MT(t,a):VT(t,a))&&(Ve=Wu(B,"onBeforeInput"),0<Ve.length&&(pe=new Ii("onBeforeInput","beforeinput",null,a,Y),Z.push({event:pe,listeners:Ve}),pe.data=je)),Nw(Z,t,B,a,Y)}S_(Z,i)})}function kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wu(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ei(t,a),d!=null&&l.unshift(kl(t,d,m)),d=ei(t,i),d!=null&&l.push(kl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function jw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,i,a,l,d){for(var m=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,d?(B=ei(a,m),B!=null&&v.unshift(kl(a,B,I))):d||(B=ei(a,m),B!=null&&v.push(kl(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Dw=/\r\n?/g,kw=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(Dw,`
`).replace(kw,"")}function I_(t,i){return i=C_(i),C_(t)===i}function et(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Wo(t,l,m);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",d.name,d,null),et(t,i,"formEncType",d.formEncType,d,null),et(t,i,"formMethod",d.formMethod,d,null),et(t,i,"formTarget",d.formTarget,d,null)):(et(t,i,"encType",d.encType,d,null),et(t,i,"method",d.method,d,null),et(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wc.get(a)||a,wa(t,a,l))}}function pm(t,i,a,l,d,m){switch(a){case"style":Wo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,m,v,a,null)}}d&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=m=v=d=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:et(t,i,l,Y,a,null)}}Yc(t,m,T,I,B,v,d,!1);return;case"select":ke("invalid",t),l=v=m=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,i,d,T,a,null)}i=m,a=v,t.multiple=!!l,i!=null?Ts(t,!!l,i,!1):a!=null&&Ts(t,!!l,a,!0);return;case"textarea":ke("invalid",t),m=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(t,i,v,T,a,null)}ws(t,l,d,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,I,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)ke(Dl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,B,l,a,null)}return;default:if(Sa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&pm(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function Ow(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,T=null,I=null,B=null,Y=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(Q)||et(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":m=Q;break;case"name":d=Q;break;case"checked":B=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==Z&&et(t,i,H,Q,l,Z)}}Aa(t,v,T,I,B,Y,m,d);return;case"select":Q=v=T=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(m)||et(t,i,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==I&&et(t,i,d,m,l,I)}i=T,a=v,l=Q,H!=null?Ts(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ts(t,!!a,i,!0):Ts(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,d)}for(v in l)if(d=l[v],m=a[v],l.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":H=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&et(t,i,v,d,l,m)}Xc(t,H,Q);return;case"option":for(var de in a)H=a[de],a.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:et(t,i,de,null,l,H));for(I in l)H=l[I],Q=a[I],l.hasOwnProperty(I)&&H!==Q&&(H!=null||Q!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":et(t,i,I,H,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)H=a[xe],a.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe)&&et(t,i,xe,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:et(t,i,B,H,l,Q)}return;default:if(Sa(i)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&pm(t,i,tt,void 0,l,H);for(Y in l)H=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||H===Q||H===void 0&&Q===void 0||pm(t,i,Y,H,l,Q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&et(t,i,V,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||et(t,i,Z,H,l,Q)}function j_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],m=d.transferSize,v=d.initiatorType,T=d.duration;if(m&&T&&j_(v)){for(v=0,T=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],B=I.startTime;if(B>T)break;var Y=I.transferSize,Z=I.initiatorType;Y&&j_(Z)&&(I=I.responseEnd,v+=Y*(I<T?1:(T-B)/(I-B)))}if(--l,i+=8*(m+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gm=null,ym=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function _m(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function Vw(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(Uw)}:O_;function Uw(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function V_(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),oo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&Ol(t.ownerDocument.body);a=d}while(a);oo(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Bw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function L_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function xm(t){return t.data==="$?"||t.data==="$~"}function Em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Tm=null;function U_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=Zu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ta(t)}var qn=new Map,q_=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=ie.d;ie.d={f:Fw,r:Hw,D:Gw,C:$w,L:Kw,m:Qw,X:Xw,S:Yw,M:Jw};function Fw(){var t=cs.f(),i=Gu();return t||i}function Hw(t){var i=jn(t);i!==null&&i.tag===5&&i.type==="form"?r0(i):cs.r(t)}var so=typeof document>"u"?null:document;function F_(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var d=un(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),q_.has(d)||(q_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function Gw(t){cs.D(t),F_("dns-prefetch",t,null)}function $w(t,i){cs.C(t,i),F_("preconnect",t,i)}function Kw(t,i,a){cs.L(t,i,a);var l=so;if(l&&t&&i){var d='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+un(a.imageSizes)+'"]')):d+='[href="'+un(t)+'"]';var m=d;switch(i){case"style":m=ro(t);break;case"script":m=ao(t)}qn.has(m)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ml(m))||i==="script"&&l.querySelector(Vl(m))||(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function Qw(t,i){cs.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(t)}if(!qn.has(m)&&(t=E({rel:"modulepreload",href:t},i),qn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(m)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function Yw(t,i,a){cs.S(t,i,a);var l=so;if(l&&t){var d=Ei(l).hoistableStyles,m=ro(t);i=i||"default";var v=d.get(m);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ml(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(m))&&wm(t,a);var I=v=l.createElement("link");wt(I),Kt(I,"link",t),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,th(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(m,v)}}}function Xw(t,i){cs.X(t,i);var a=so;if(a&&t){var l=Ei(a).hoistableScripts,d=ao(t),m=l.get(d);m||(m=a.querySelector(Vl(d)),m||(t=E({src:t,async:!0},i),(i=qn.get(d))&&Am(t,i),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Jw(t,i){cs.M(t,i);var a=so;if(a&&t){var l=Ei(a).hoistableScripts,d=ao(t),m=l.get(d);m||(m=a.querySelector(Vl(d)),m||(t=E({src:t,async:!0,type:"module"},i),(i=qn.get(d))&&Am(t,i),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function H_(t,i,a,l){var d=(d=Ie.current)?eh(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=Ei(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var m=Ei(d).hoistableStyles,v=m.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=d.querySelector(Ml(t)))&&!m._p&&(v.instance=m,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),m||Ww(d,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=Ei(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+un(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Ww(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),wt(i),t.head.appendChild(i))}function ao(t){return'[src="'+un(t)+'"]'}function Vl(t){return"script[async]"+t}function $_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",d),th(l,a.precedence,t),i.instance=l;case"stylesheet":d=ro(a.href);var m=t.querySelector(Ml(d));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;l=G_(a),(d=qn.get(d))&&wm(l,d),m=(t.ownerDocument||t).createElement("link"),wt(m);var v=m;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(m,"link",l),i.state.loading|=4,th(m,a.precedence,t),i.instance=m;case"script":return m=ao(a.src),(d=t.querySelector(Vl(m)))?(i.instance=d,wt(d),d):(l=a,(d=qn.get(m))&&(l=E({},a),Am(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),wt(d),Kt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,th(l,a.precedence,t));return i.instance}function th(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nh=null;function K_(t,i,a){if(nh===null){var l=new Map,d=nh=new Map;d.set(a,l)}else d=nh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[bi]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(m):l.set(v,[m])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Zw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function e2(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ro(l.href),m=i.querySelector(Ml(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ih.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=i.ownerDocument||i,l=G_(l),(d=qn.get(d))&&wm(l,d),m=m.createElement("link"),wt(m);var v=m;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ih.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Sm=0;function t2(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Sm===0&&(Sm=62500*Mw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,i.forEach(n2,t),sh=null,ih.call(t))}function n2(t,i){if(!(i.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,d),a.set(v,d),this.count++,l=ih.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:re,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function i2(t,i,a,l,d,m,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function X_(t,i,a,l,d,m,v,T,I,B,Y,Z){return t=new i2(t,i,a,v,I,B,Y,Z,T),i=1,m===!0&&(i|=24),m=xn(3,null,null,i),t.current=m,m.stateNode=t,i=rf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},cf(m),t}function J_(t){return t?(t=Pa,t):Pa}function W_(t,i,a,l,d,m){d=J_(d),l.context===null?l.context=d:l.pendingContext=d,l=Vs(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ps(t,l,i),a!==null&&(gn(a,t,i),pl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Nm(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=Fr(t,67108864);i!==null&&gn(i,t,67108864),Nm(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=Sn();i=jr(i);var a=Fr(t,i);a!==null&&gn(a,t,i),Nm(t,i)}}var ah=!0;function s2(t,i,a,l){var d=F.T;F.T=null;var m=ie.p;try{ie.p=2,Rm(t,i,a,l)}finally{ie.p=m,F.T=d}}function r2(t,i,a,l){var d=F.T;F.T=null;var m=ie.p;try{ie.p=8,Rm(t,i,a,l)}finally{ie.p=m,F.T=d}}function Rm(t,i,a,l){if(ah){var d=Cm(l);if(d===null)mm(t,i,l,oh,a),iv(t,l);else if(o2(d,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<a2.indexOf(t)){for(;d!==null;){var m=jn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=gi(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-gt(v);T.entanglements[1]|=I,v&=~I}Mi(m),(Ke&6)===0&&(Fu=rn()+500,jl(0))}}break;case 31:case 13:T=Fr(m,2),T!==null&&gn(T,m,2),Gu(),Nm(m,2)}if(m=Cm(l),m===null&&mm(t,i,l,oh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else mm(t,i,l,null,a)}}function Cm(t){return t=Dn(t),Im(t)}var oh=null;function Im(t){if(oh=null,t=xi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oh=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case zo:return 2;case Bo:return 8;case xs:case Md:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var jm=!1,Qs=null,Ys=null,Xs=null,Ll=new Map,Ul=new Map,Js=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=jn(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function o2(t,i,a,l,d){switch(i){case"focusin":return Qs=zl(Qs,t,i,a,l,d),!0;case"dragenter":return Ys=zl(Ys,t,i,a,l,d),!0;case"mouseover":return Xs=zl(Xs,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ll.set(m,zl(Ll.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ul.set(m,zl(Ul.get(m)||null,t,i,a,l,d)),!0}return!1}function sv(t){var i=xi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){tv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=jn(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){lh(t)&&a.delete(i)}function l2(){jm=!1,Qs!==null&&lh(Qs)&&(Qs=null),Ys!==null&&lh(Ys)&&(Ys=null),Xs!==null&&lh(Xs)&&(Xs=null),Ll.forEach(rv),Ul.forEach(rv)}function ch(t,i){t.blockedOn===i&&(t.blockedOn=null,jm||(jm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,l2)))}var uh=null;function av(t){uh!==t&&(uh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var m=jn(a);m!==null&&(t.splice(i,3),i-=3,Cf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function oo(t){function i(I){return ch(I,t)}Qs!==null&&ch(Qs,t),Ys!==null&&ch(Ys,t),Xs!==null&&ch(Xs,t),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],v=d[Pt]||null;if(typeof m=="function")v||av(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Pt]||null)T=v.formAction;else if(Im(d)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function ov(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Dm(t){this._internalRoot=t}hh.prototype.render=Dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();W_(a,l,t,i,null,null)},hh.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),Gu(),i[vi]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Js.length&&i!==0&&i<Js[a].priority;a++);Js.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.2.3")throw Error(r(527,lv,"19.2.3"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var c2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Yn=dh.inject(c2),qt=dh}catch{}}return ql.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=p0,m=g0,v=y0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,d,m,v,ov),t[vi]=i.current,fm(t),new Dm(i)},ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",m=p0,v=g0,T=y0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=X_(t,1,!0,i,a??null,l,d,I,m,v,T,ov),i.context=J_(null),a=i.current,l=Sn(),l=jr(l),d=Vs(l),d.callback=null,Ps(a,d,l),a=l,i.current.lanes=a,Cr(i,a),Mi(i),t[vi]=i.current,fm(t),new hh(i)},ql.version="19.2.3",ql}var _v;function b2(){if(_v)return Mm.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mm.exports=v2(),Mm.exports}var x2=b2();const E2=dx(x2);var vv="popstate";function T2(s={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=fa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),sp("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:oc(c))}function r(o,c){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return A2(e,n,r,s)}function ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Kn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w2(){return Math.random().toString(36).substring(2,10)}function bv(s,e){return{usr:s.state,key:s.key,idx:e}}function sp(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||r||w2()}}function oc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function fa(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function A2(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let q=x(),ne=q==null?null:q-y;y=q,g&&g({action:p,location:G.location,delta:ne})}function A(q,ne){p="PUSH";let ee=sp(G.location,q,ne);n&&n(ee,q),y=x()+1;let re=bv(ee,y),se=G.createHref(ee);try{h.pushState(re,"",se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(se)}c&&g&&g({action:p,location:G.location,delta:1})}function M(q,ne){p="REPLACE";let ee=sp(G.location,q,ne);n&&n(ee,q),y=x();let re=bv(ee,y),se=G.createHref(ee);h.replaceState(re,"",se),c&&g&&g({action:p,location:G.location,delta:0})}function $(q){return S2(q)}let G={get action(){return p},get location(){return s(o,h)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,E),g=q,()=>{o.removeEventListener(vv,E),g=null}},createHref(q){return e(o,q)},createURL:$,encodeLocation(q){let ne=$(q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:M,go(q){return h.go(q)}};return G}function S2(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:oc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fx(s,e,n="/"){return N2(s,e,n,!1)}function N2(s,e,n,r){let o=typeof e=="string"?fa(e):e,c=fs(o.pathname||"/",n);if(c==null)return null;let h=mx(s);R2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=U2(c);p=P2(h[g],y,r)}return p}function mx(s,e=[],n=[],r="",o=!1){let c=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;ut(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=ds([r,x.relativePath]),A=n.concat(x);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),mx(h.children,e,A,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:M2(E,h.index),routesMeta:A})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of px(h.path))c(h,p,!0,g)}),e}function px(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=px(r.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function R2(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:V2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C2=/^:[\w-]+$/,I2=3,j2=2,D2=1,k2=10,O2=-2,xv=s=>s==="*";function M2(s,e){let n=s.split("/"),r=n.length;return n.some(xv)&&(r+=O2),e&&(r+=j2),n.filter(o=>!xv(o)).reduce((o,c)=>o+(C2.test(c)?I2:c===""?D2:k2),r)}function V2(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function P2(s,e,n=!1){let{routesMeta:r}=s,o={},c="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=kh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),A=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=kh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:ds([c,E.pathname]),pathnameBase:F2(ds([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=ds([c,E.pathnameBase]))}return h}function kh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=L2(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},A)=>{if(x==="*"){let $=p[A]||"";h=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const M=p[A];return E&&!M?y[x]=void 0:y[x]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function L2(s,e=!1,n=!0){Kn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function U2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function fs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z2=s=>gx.test(s);function B2(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?fa(s):s,c;if(n)if(z2(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Ev(n.substring(1),"/"):c=Ev(n,e)}else c=e;return{pathname:c,search:H2(r),hash:G2(o)}}function Ev(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Um(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q2(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yx(s){let e=q2(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _x(s,e,n,r=!1){let o;typeof s=="string"?o=fa(s):(o={...s},ut(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=B2(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var ds=s=>s.join("/").replace(/\/\/+/g,"/"),F2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),H2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,G2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,$2=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function K2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Q2(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bx(s,e){let n=s;if(typeof n!="string"||!gx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(vx)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=fs(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xx=["POST","PUT","PATCH","DELETE"];new Set(xx);var Y2=["GET",...xx];new Set(Y2);var Co=L.createContext(null);Co.displayName="DataRouter";var sd=L.createContext(null);sd.displayName="DataRouterState";var X2=L.createContext(!1),Ex=L.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var J2=L.createContext(new Map);J2.displayName="Fetchers";var W2=L.createContext(null);W2.displayName="Await";var Qn=L.createContext(null);Qn.displayName="Navigation";var bc=L.createContext(null);bc.displayName="Location";var fi=L.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Op=L.createContext(null);Op.displayName="RouteError";var Tx="REACT_ROUTER_ERROR",Z2="REDIRECT",eA="ROUTE_ERROR_RESPONSE";function tA(s){if(s.startsWith(`${Tx}:${Z2}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nA(s){if(s.startsWith(`${Tx}:${eA}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $2(e.status,e.statusText,e.data)}catch{}}function iA(s,{relative:e}={}){ut(xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Qn),{hash:o,pathname:c,search:h}=Tc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ds([n,c])),r.createHref({pathname:p,search:h,hash:o})}function xc(){return L.useContext(bc)!=null}function vs(){return ut(xc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(bc).location}var wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ax(s){L.useContext(Qn).static||L.useLayoutEffect(s)}function Ec(){let{isDataRoute:s}=L.useContext(fi);return s?_A():sA()}function sA(){ut(xc(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Co),{basename:e,navigator:n}=L.useContext(Qn),{matches:r}=L.useContext(fi),{pathname:o}=vs(),c=JSON.stringify(yx(r)),h=L.useRef(!1);return Ax(()=>{h.current=!0}),L.useCallback((g,y={})=>{if(Kn(h.current,wx),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=_x(g,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ds([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,s])}var rA=L.createContext(null);function aA(s){let e=L.useContext(fi).outlet;return L.useMemo(()=>e&&L.createElement(rA.Provider,{value:s},e),[e,s])}function Sx(){let{matches:s}=L.useContext(fi),e=s[s.length-1];return e?e.params:{}}function Tc(s,{relative:e}={}){let{matches:n}=L.useContext(fi),{pathname:r}=vs(),o=JSON.stringify(yx(n));return L.useMemo(()=>_x(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function oA(s,e){return Nx(s,e)}function Nx(s,e,n,r,o){ut(xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Qn),{matches:h}=L.useContext(fi),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let ee=E&&E.path||"";Cx(y,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let A=vs(),M;if(e){let ee=typeof e=="string"?fa(e):e;ut(x==="/"||ee.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),M=ee}else M=A;let $=M.pathname||"/",G=$;if(x!=="/"){let ee=x.replace(/^\//,"").split("/");G="/"+$.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=fx(s,{pathname:G});Kn(E||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Kn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=dA(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:ds([x,c.encodeLocation?c.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?x:ds([x,c.encodeLocation?c.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),h,n,r,o);return e&&ne?L.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function lA(){let s=yA(),e=K2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var cA=L.createElement(lA,null),Rx=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=nA(s.digest);n&&(s=n)}let e=s!==void 0?L.createElement(fi.Provider,{value:this.props.routeContext},L.createElement(Op.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?L.createElement(uA,{error:s},e):e}};Rx.contextType=X2;var zm=new WeakMap;function uA({children:s,error:e}){let{basename:n}=L.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=tA(e.digest);if(r){let o=zm.get(e);if(o)throw o;let c=bx(r.location,n);if(vx&&!zm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw zm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function hA({routeContext:s,match:e,children:n}){let r=L.useContext(Co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(fi.Provider,{value:s},n)}function dA(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:A,errors:M}=n,$=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!M||M[E.route.id]===void 0);if(E.route.lazy||$){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Q2(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,A)=>{let M,$=!1,G=null,q=null;n&&(M=h&&E.route.id?h[E.route.id]:void 0,G=E.route.errorElement||cA,p&&(g<0&&A===0?(Cx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,q=null):g===A&&($=!0,q=E.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,A+1)),ee=()=>{let re;return M?re=G:$?re=q:E.route.Component?re=L.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=x,L.createElement(hA,{match:E,routeContext:{outlet:x,matches:ne,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?L.createElement(Rx,{location:n.location,revalidation:n.revalidation,component:G,error:M,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function Mp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(s){let e=L.useContext(Co);return ut(e,Mp(s)),e}function mA(s){let e=L.useContext(sd);return ut(e,Mp(s)),e}function pA(s){let e=L.useContext(fi);return ut(e,Mp(s)),e}function Vp(s){let e=pA(s),n=e.matches[e.matches.length-1];return ut(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function gA(){return Vp("useRouteId")}function yA(){let s=L.useContext(Op),e=mA("useRouteError"),n=Vp("useRouteError");return s!==void 0?s:e.errors?.[n]}function _A(){let{router:s}=fA("useNavigate"),e=Vp("useNavigate"),n=L.useRef(!1);return Ax(()=>{n.current=!0}),L.useCallback(async(o,c={})=>{Kn(n.current,wx),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Tv={};function Cx(s,e,n){!e&&!Tv[s]&&(Tv[s]=!0,Kn(!1,n))}L.memo(vA);function vA({routes:s,future:e,state:n,onError:r}){return Nx(s,void 0,n,r,e)}function bA(s){return aA(s.context)}function oi(s){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ut(!xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=fa(n));let{pathname:y="/",search:x="",hash:E="",state:A=null,key:M="default"}=n,$=L.useMemo(()=>{let G=fs(y,p);return G==null?null:{location:{pathname:G,search:x,hash:E,state:A,key:M},navigationType:r}},[p,y,x,E,A,M,r]);return Kn($!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:L.createElement(Qn.Provider,{value:g},L.createElement(bc.Provider,{children:e,value:$}))}function EA({children:s,location:e}){return oA(rp(s),e)}function rp(s,e=[]){let n=[];return L.Children.forEach(s,(r,o)=>{if(!L.isValidElement(r))return;let c=[...e,o];if(r.type===L.Fragment){n.push.apply(n,rp(r.props.children,c));return}ut(r.type===oi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=rp(r.props.children,c)),n.push(h)}),n}var xh="get",Eh="application/x-www-form-urlencoded";function rd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function TA(s){return rd(s)&&s.tagName.toLowerCase()==="button"}function wA(s){return rd(s)&&s.tagName.toLowerCase()==="form"}function AA(s){return rd(s)&&s.tagName.toLowerCase()==="input"}function SA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function NA(s,e){return s.button===0&&(!e||e==="_self")&&!SA(s)}var fh=null;function RA(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(s){return s!=null&&!CA.has(s)?(Kn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):s}function IA(s,e){let n,r,o,c,h;if(wA(s)){let p=s.getAttribute("action");r=p?fs(p,e):null,n=s.getAttribute("method")||xh,o=Bm(s.getAttribute("enctype"))||Eh,c=new FormData(s)}else if(TA(s)||AA(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?fs(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||xh,o=Bm(s.getAttribute("formenctype"))||Bm(p.getAttribute("enctype"))||Eh,c=new FormData(p,s),!RA()){let{name:y,type:x,value:E}=s;if(x==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,E)}}else{if(rd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,r=null,o=Eh,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function jA(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&fs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function DA(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function OA(s,e,n){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await DA(c,n);return h.links?h.links():[]}return[]}));return LA(r.flat(1).filter(kA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(s,e,n,r,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function MA(s,e,{includeHydrateFallback:n}={}){return VA(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function VA(s){return[...new Set(s)]}function PA(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function LA(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(PA(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function Ix(){let s=L.useContext(Co);return Pp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function UA(){let s=L.useContext(sd);return Pp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Lp=L.createContext(void 0);Lp.displayName="FrameworkContext";function jx(){let s=L.useContext(Lp);return Pp(s,"You must render this element inside a <HydratedRouter> element"),s}function zA(s,e){let n=L.useContext(Lp),[r,o]=L.useState(!1),[c,h]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,A=L.useRef(null);L.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let G=ne=>{ne.forEach(ee=>{h(ee.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[s]),L.useEffect(()=>{if(r){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[r]);let M=()=>{o(!0)},$=()=>{o(!1),h(!1)};return n?s!=="intent"?[c,A,{}]:[c,A,{onFocus:Fl(p,M),onBlur:Fl(g,$),onMouseEnter:Fl(y,M),onMouseLeave:Fl(x,$),onTouchStart:Fl(E,M)}]:[!1,A,{}]}function Fl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function BA({page:s,...e}){let{router:n}=Ix(),r=L.useMemo(()=>fx(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?L.createElement(FA,{page:s,matches:r,...e}):null}function qA(s){let{manifest:e,routeModules:n}=jx(),[r,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return OA(s,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,n]),r}function FA({page:s,matches:e,...n}){let r=vs(),{future:o,manifest:c,routeModules:h}=jx(),{basename:p}=Ix(),{loaderData:g,matches:y}=UA(),x=L.useMemo(()=>wv(s,e,y,c,r,"data"),[s,e,y,c,r]),E=L.useMemo(()=>wv(s,e,y,c,r,"assets"),[s,e,y,c,r]),A=L.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let G=new Set,q=!1;if(e.forEach(ee=>{let re=c.routes[ee.route.id];!re||!re.hasLoader||(!x.some(se=>se.route.id===ee.route.id)&&ee.route.id in g&&h[ee.route.id]?.shouldRevalidate||re.hasClientLoader?q=!0:G.add(ee.route.id))}),G.size===0)return[];let ne=jA(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return q&&G.size>0&&ne.searchParams.set("_routes",e.filter(ee=>G.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,r,c,x,e,s,h]),M=L.useMemo(()=>MA(E,c),[E,c]),$=qA(E);return L.createElement(L.Fragment,null,A.map(G=>L.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),M.map(G=>L.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),$.map(({key:G,link:q})=>L.createElement("link",{key:G,nonce:n.nonce,...q})))}function HA(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GA&&(window.__reactRouterVersion="7.12.0")}catch{}function $A({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=L.useRef();o.current==null&&(o.current=T2({window:r,v5Compat:!0}));let c=o.current,[h,p]=L.useState({action:c.action,location:c.location}),g=L.useCallback(y=>{n===!1?p(y):L.startTransition(()=>p(y))},[n]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.createElement(xA,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A,...M},$){let{basename:G,unstable_useTransitions:q}=L.useContext(Qn),ne=typeof y=="string"&&Dx.test(y),ee=bx(y,G);y=ee.to;let re=iA(y,{relative:o}),[se,he,me]=zA(r,M),N=XA(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:A,unstable_useTransitions:q});function S(j){e&&e(j),j.defaultPrevented||N(j)}let R=L.createElement("a",{...M,...me,href:ee.absoluteURL||re,onClick:ee.isExternal||c?e:S,ref:HA($,he),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return se&&!ne?L.createElement(L.Fragment,null,R,L.createElement(BA,{page:re})):R});Hn.displayName="Link";var KA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},x){let E=Tc(h,{relative:y.relative}),A=vs(),M=L.useContext(sd),{navigator:$,basename:G}=L.useContext(Qn),q=M!=null&&tS(E)&&p===!0,ne=$.encodeLocation?$.encodeLocation(E).pathname:E.pathname,ee=A.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&G&&(re=fs(re,G)||re);const se=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let he=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(se)==="/",me=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),N={isActive:he,isPending:me,isTransitioning:q},S=he?e:void 0,R;typeof r=="function"?R=r(N):R=[r,he?"active":null,me?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(N):c;return L.createElement(Hn,{...y,"aria-current":S,className:R,ref:x,style:j,to:h,viewTransition:p},typeof g=="function"?g(N):g)});KA.displayName="NavLink";var QA=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:h=xh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A,...M},$)=>{let{unstable_useTransitions:G}=L.useContext(Qn),q=ZA(),ne=eS(p,{relative:y}),ee=h.toLowerCase()==="get"?"get":"post",re=typeof p=="string"&&Dx.test(p),se=he=>{if(g&&g(he),he.defaultPrevented)return;he.preventDefault();let me=he.nativeEvent.submitter,N=me?.getAttribute("formmethod")||h,S=()=>q(me||he.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:A});G&&n!==!1?L.startTransition(()=>S()):S()};return L.createElement("form",{ref:$,method:ee,action:ne,onSubmit:r?g:se,...M,"data-discover":!re&&s==="render"?"true":void 0})});QA.displayName="Form";function YA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kx(s){let e=L.useContext(Co);return ut(e,YA(s)),e}function XA(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Ec(),x=vs(),E=Tc(s,{relative:c});return L.useCallback(A=>{if(NA(A,e)){A.preventDefault();let M=n!==void 0?n:oc(x)===oc(E),$=()=>y(s,{replace:M,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?L.startTransition(()=>$()):$()}},[x,y,E,n,r,e,s,o,c,h,p,g])}var JA=0,WA=()=>`__${String(++JA)}__`;function ZA(){let{router:s}=kx("useSubmit"),{basename:e}=L.useContext(Qn),n=gA(),r=s.fetch,o=s.navigate;return L.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=IA(c,e);if(h.navigate===!1){let A=h.fetcherKey||WA();await r(A,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function eS(s,{relative:e}={}){let{basename:n}=L.useContext(Qn),r=L.useContext(fi);ut(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Tc(s||".",{relative:e})},h=vs();if(s==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ds([n,c.pathname])),oc(c)}function tS(s,{relative:e}={}){let n=L.useContext(Ex);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kx("useViewTransitionState"),o=Tc(s,{relative:e});if(!n.isTransitioning)return!1;let c=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kh(o.pathname,h)!=null||kh(o.pathname,c)!=null}const nS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Av=s=>{const e=iS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Ox=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aS=L.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:h,...p},g)=>L.createElement("svg",{ref:g,...rS,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:Ox("lucide",o),...!c&&!sS(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>L.createElement(y,x)),...Array.isArray(c)?c:[c]]));const ge=(s,e)=>{const n=L.forwardRef(({className:r,...o},c)=>L.createElement(aS,{ref:c,iconNode:e,className:Ox(`lucide-${nS(Av(s))}`,`lucide-${s}`,r),...o}));return n.displayName=Av(s),n};const oS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mx=ge("archive",oS);const lS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Up=ge("arrow-left",lS);const cS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vx=ge("arrow-right",cS);const uS=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],go=ge("bed",uS);const hS=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Oh=ge("bike",hS);const dS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],lc=ge("box",dS);const fS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],mS=ge("building-2",fS);const pS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Sv=ge("calculator",pS);const gS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yS=ge("calendar",gS);const _S=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Px=ge("car-front",_S);const vS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],bS=ge("car",vS);const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lx=ge("circle-alert",xS);const ES=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ad=ge("circle-check-big",ES);const TS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hl=ge("circle-check",TS);const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],AS=ge("circle-plus",wS);const SS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],NS=ge("clipboard-list",SS);const RS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zp=ge("clock",RS);const CS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Ux=ge("cloud-upload",CS);const IS=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],zx=ge("container",IS);const jS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],DS=ge("credit-card",jS);const kS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],OS=ge("facebook",kS);const MS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],od=ge("file-text",MS);const VS=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],Bx=ge("frame",VS);const PS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LS=ge("heart",PS);const US=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Bp=ge("house",US);const zS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qx=ge("image",zS);const BS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],qS=ge("instagram",BS);const FS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HS=ge("layout-dashboard",FS);const GS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$S=ge("lock",GS);const KS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QS=ge("log-out",KS);const YS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fx=ge("mail",YS);const XS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ms=ge("map-pin",XS);const JS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Nv=ge("maximize-2",JS);const WS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZS=ge("menu",WS);const eN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],qp=ge("message-circle",eN);const tN=[["path",{d:"M5 12h14",key:"1ays0h"}]],nN=ge("minus",tN);const iN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Hx=ge("monitor",iN);const sN=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Gx=ge("music-2",sN);const rN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ld=ge("package",rN);const aN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oN=ge("pen-line",aN);const lN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],cN=ge("pen-tool",lN);const uN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fp=ge("phone",uN);const hN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$x=ge("plus",hN);const dN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Hp=ge("printer",dN);const fN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],mN=ge("receipt",fN);const pN=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]],Kx=ge("refrigerator",pN);const gN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yN=ge("save",gN);const _N=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vN=ge("search",_N);const bN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xN=ge("shield-check",bN);const EN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],TN=ge("shield",EN);const wN=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],Qx=ge("sofa",wN);const AN=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Yx=ge("table-2",AN);const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fo=ge("trash-2",SN);const NN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hr=ge("truck",NN);const RN=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Xx=ge("tv",RN);const CN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IN=ge("user",CN);const jN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DN=ge("users",jN);const kN=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],Jx=ge("washing-machine",kN);const ON=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cd=ge("x",ON);const MN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VN=ge("zap",MN),ap="/mudanzas-cadena-web/assets/logo-3D4rlzNO.PNG",PN=()=>{const[s,e]=L.useState(!1),n=Ec(),r=vs(),o=p=>{e(!1);const g=y=>{if(y==="inicio"){window.scrollTo({top:0,behavior:"smooth"});return}const x=document.getElementById(y);if(x){const M=x.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:M,behavior:"smooth"})}};r.pathname!=="/"?(n("/"),setTimeout(()=>g(p),100)):g(p)},c="bg-transparent border-none cursor-pointer text-gray-600 hover:text-cadena-pink font-bold text-xs lg:text-sm uppercase tracking-wide transition whitespace-nowrap",h="flex flex-col items-center justify-center gap-1 w-full py-4 text-lg font-bold text-slate-700 bg-white/40 backdrop-blur-md hover:bg-white/80 hover:text-cadena-pink hover:scale-[1.02] rounded-2xl transition-all duration-300 border border-white/50 shadow-sm";return f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"bg-white/90 backdrop-blur-lg border-b border-white/40 shadow-sm fixed w-full z-50 top-0 left-0 h-20 transition-all duration-300",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:f.jsxs("div",{className:"flex justify-between items-center h-full gap-2",children:[f.jsx("button",{onClick:()=>o("inicio"),className:"flex items-center gap-2 cursor-pointer bg-transparent border-none outline-none group shrink-0 mr-auto",children:f.jsx("img",{src:ap,alt:"Mudanzas Cadena Logo",className:"h-14 md:h-20 w-auto object-contain transition-transform duration-300 group-hover:scale-105 mt-6"})}),f.jsxs("div",{className:"hidden md:flex items-center gap-3 lg:gap-6",children:[f.jsx("button",{onClick:()=>o("inicio"),className:c,children:"Inicio"}),f.jsx("button",{onClick:()=>o("servicios"),className:c,children:"Servicios"}),f.jsx("button",{onClick:()=>o("galeria"),className:c,children:"Galera"}),f.jsx("button",{onClick:()=>o("contacto"),className:c,children:"Contacto"}),f.jsx(Hn,{to:"/rastreo",className:c,children:"Rastreo"}),f.jsx(Hn,{to:"/cotizar",className:"bg-cadena-blue text-white px-4 py-2 lg:px-6 lg:py-2.5 rounded-full font-bold hover:bg-ocean-dark transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 whitespace-nowrap text-xs lg:text-sm shrink-0",children:"Cotizar Ahora"})]}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-xl bg-white/40 backdrop-blur-md border border-white/50 text-slate-700 shadow-sm transition hover:bg-white hover:text-cadena-pink",children:f.jsx(ZS,{size:32})})})]})})}),f.jsxs("div",{className:`md:hidden fixed inset-0 z-[60] bg-white/95 backdrop-blur-xl flex flex-col transition-transform duration-500 ease-in-out ${s?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[f.jsx("img",{src:ap,alt:"Mudanzas Cadena",className:"h-12 w-auto object-contain"}),f.jsx("button",{onClick:()=>e(!1),className:"p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-red-50 hover:text-red-500 transition shadow-sm",children:f.jsx(cd,{size:28})})]}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start pt-6 px-6 overflow-y-auto space-y-3",children:[f.jsxs(Hn,{to:"/cotizar",onClick:()=>e(!1),className:"flex items-center justify-center gap-3 w-full bg-gradient-to-r from-cadena-pink to-pink-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl shadow-pink-200/50 hover:scale-[1.02] transition transform active:scale-95 mb-4",children:[f.jsx(ld,{size:24}),"COTIZAR AHORA"]}),f.jsxs("button",{onClick:()=>o("inicio"),className:h,children:[f.jsx(Bp,{size:24,className:"opacity-60 mb-1"})," Inicio"]}),f.jsxs("button",{onClick:()=>o("servicios"),className:h,children:[f.jsx(hr,{size:24,className:"opacity-60 mb-1"})," Servicios"]}),f.jsxs("button",{onClick:()=>o("galeria"),className:h,children:[f.jsx(qx,{size:24,className:"opacity-60 mb-1"})," Galera"]}),f.jsxs("button",{onClick:()=>o("contacto"),className:h,children:[f.jsx(Fp,{size:24,className:"opacity-60 mb-1"})," Contacto"]}),f.jsxs(Hn,{to:"/rastreo",onClick:()=>e(!1),className:h,children:[f.jsx(ms,{size:24,className:"opacity-60 mb-1"})," Rastreo"]})]}),f.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"})]})]})},LN=()=>f.jsx("footer",{id:"contacto",className:"bg-cadena-dark text-white pt-12 pb-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["MUDANZAS ",f.jsx("span",{className:"text-cadena-pink",children:"CADENA"})]}),f.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Ms de 60 aos cuidando tu patrimonio. Hacemos de tu mudanza algo fcil y sencillo, con disciplina y puntualidad."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"https://www.facebook.com/share/17eb7PMnCq/?mibextid=wwXIfr",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-blue transition",children:f.jsx(OS,{size:20})}),f.jsx("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-pink transition",children:f.jsx(qS,{size:20})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Contacto"}),f.jsxs("ul",{className:"space-y-3 text-gray-300 text-sm",children:[f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(ms,{className:"text-cadena-pink mt-1",size:18}),f.jsxs("span",{children:["Valle del Eufrates 37, CTM 14,",f.jsx("br",{}),"55235 Ecatepec de Morelos, Mx."]})]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx(Fp,{className:"text-cadena-blue",size:18}),f.jsx("a",{href:"tel:+529994154957",className:"hover:text-white transition",children:"+52 999 415 4957"})]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx(Fx,{className:"text-cadena-blue",size:18}),f.jsx("a",{href:"mailto:mudanzascadenamx@gmail.com",className:"hover:text-white transition",children:"mudanzascadenamx@gmail.com"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Horario de Atencin"}),f.jsx("ul",{className:"space-y-2 text-gray-300 text-sm mb-6",children:f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"Lunes - Domingo:"}),f.jsx("span",{className:"text-white font-medium",children:"8:00 hrs - 22:00 hrs"})]})}),f.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"block w-full text-center border border-gray-600 text-gray-300 py-2 rounded hover:border-white hover:text-white transition text-sm",children:"Descargar Catlogo PDF"})]})]}),f.jsx("div",{className:"border-t border-gray-800 pt-6 text-center text-xs text-gray-500",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," Mudanzas Cadena. Todos los derechos reservados."]})}),f.jsx("div",{className:"flex justify-center gap-4 text-xs opacity-50 hover:opacity-100 transition-opacity",children:f.jsx(Hn,{to:"/admin",className:"hover:text-white",children:"Acceso Administrativo"})})]})}),UN=()=>f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(PN,{}),f.jsx("main",{className:"flex-grow",children:f.jsx(bA,{})}),f.jsx(LN,{})]}),zN="/mudanzas-cadena-web/assets/hero-truck-C7CiCazc.mp4",BN="/mudanzas-cadena-web/assets/truck-side-C-DMYrQ-.jpg",ud="/mudanzas-cadena-web/assets/mascota-CSwWRtNs.png",Wx=()=>f.jsxs("div",{className:"py-12 bg-slate-50",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-16",children:[f.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Tipos de Servicio"}),f.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:"Elige tu Modalidad Ideal"}),f.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Nos adaptamos a tu presupuesto y urgencia. Prefieres velocidad o economa?"})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-10 border border-white/60 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-cadena-blue text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-200",children:f.jsx(hr,{size:32})}),f.jsx("span",{className:"bg-cadena-blue/10 text-cadena-blue text-xs font-bold px-3 py-1 rounded-full border border-blue-100 uppercase",children:"La ms rpida"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Exclusiva"}),f.jsx("p",{className:"text-cadena-blue font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Directo  Camin Completo"}),f.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"El camin es 100% para ti. T eliges la fecha y hora exacta de salida. Vamos directo de puerta a puerta sin escalas ni desvos."}),f.jsxs("ul",{className:"space-y-4 mb-8",children:[f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(VN,{size:20,className:"text-yellow-500"})," Entrega rpida."]}),f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(Hl,{size:20,className:"text-blue-400"})," T defines el horario."]}),f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(Hl,{size:20,className:"text-blue-400"})," Espacio exclusivo para ti."]})]})]})]}),f.jsxs("div",{className:"bg-white/40 backdrop-blur-lg rounded-[2.5rem] p-10 border border-white/50 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.05)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-white text-cadena-pink rounded-2xl flex items-center justify-center shadow-md",children:f.jsx(DN,{size:32})}),f.jsx("span",{className:"bg-cadena-pink/10 text-cadena-pink text-xs font-bold px-3 py-1 rounded-full border border-pink-100 uppercase",children:"Ahorra"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Compartida"}),f.jsx("p",{className:"text-cadena-pink font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Consolidado  Econmico"}),f.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"Tu mudanza viaja junto con otras, dividiendo los gastos de transporte. Perfecto si eres flexible con la fecha de entrega."}),f.jsxs("ul",{className:"space-y-4 mb-8",children:[f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(zp,{size:20,className:"text-gray-400"})," Entrega de 5 a 15 das hbiles."]}),f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(Hl,{size:20,className:"text-pink-400"})," Precio mucho ms accesible."]}),f.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[f.jsx(Hl,{size:20,className:"text-pink-400"})," Ideal para cargas medianas."]})]})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h3",{className:"text-3xl font-extrabold text-slate-800",children:"Soluciones Especializadas"}),f.jsx("p",{className:"text-slate-500 mt-2",children:"Todo lo que necesitas para completar tu traslado."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:f.jsx(mS,{size:28}),title:"Corporativo",desc:"Logstica para oficinas sin detener tu operacin.",color:"bg-blue-500",shadow:"shadow-blue-200",bg:"bg-blue-50"},{icon:f.jsx(bS,{size:28}),title:"Traslado de Autos",desc:"Llevamos tu coche sin rodar (Madrina/Caja).",color:"bg-purple-500",shadow:"shadow-purple-200",bg:"bg-purple-50"},{icon:f.jsx(lc,{size:28}),title:"Empaque",desc:"Cajas, playo y burbuja para cuidar lo frgil.",color:"bg-orange-500",shadow:"shadow-orange-200",bg:"bg-orange-50"},{icon:f.jsx(xN,{size:28}),title:"Seguro de Carga",desc:"Pliza contra todo riesgo (CHUBB, AIG).",color:"bg-green-500",shadow:"shadow-green-200",bg:"bg-green-50"}].map((s,e)=>f.jsxs("div",{className:"group bg-white rounded-3xl p-6 border border-slate-100 hover:border-transparent hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[f.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br ${s.bg} to-transparent pointer-events-none`}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("div",{className:`w-14 h-14 mx-auto ${s.color} text-white rounded-2xl flex items-center justify-center shadow-lg ${s.shadow} mb-4 transform group-hover:scale-110 transition-transform duration-300`,children:s.icon}),f.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2 group-hover:text-black",children:s.title}),f.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed group-hover:text-slate-700",children:s.desc})]})]},e))})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"bg-white/40 backdrop-blur-xl border border-white/60 rounded-[3rem] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-pink-100/40 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-8",children:["Por qu elegir ",f.jsx("span",{className:"text-cadena-blue",children:"Mudanzas Cadena"}),"?"]}),f.jsx("ul",{className:"space-y-4",children:["Unidades con rampa hidrulica y GPS 24/7.","Volado de muebles y maniobras especiales.","Personal capacitado y de confianza.","Facturacin electrnica disponible.","Cobertura en rutas del Pacfico y Sureste (Mrida, Cancn)."].map((s,e)=>f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(Hl,{className:"text-cadena-pink flex-shrink-0 mt-1",size:20}),f.jsx("span",{className:"text-gray-700 font-medium",children:s})]},e))}),f.jsx("div",{className:"mt-8",children:f.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-cadena-dark hover:bg-gray-800 transition",children:"Descargar Catlogo Completo (PDF)"})})]}),f.jsxs("div",{className:"bg-white/50 backdrop-blur-md rounded-3xl p-8 text-center border border-white/60 shadow-inner",children:[f.jsx("div",{className:"w-32 h-32 md:w-56 md:h-56 mx-auto mb-6 rounded-full overflow-hidden border-4 border-white shadow-2xl relative bg-blue-50 group cursor-pointer",children:f.jsx("img",{src:ud,alt:"Mascota",className:"w-full h-full object-cover object-top scale-125 group-hover:scale-100 transition-transform duration-500"})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Listo para mudarte?"}),f.jsx("p",{className:"text-slate-600 mb-6 text-sm font-medium",children:"Djanos los detalles pesados a nosotros. Cotiza tu servicio hoy mismo."}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-400/50",children:[f.jsx(qp,{size:20}),"Pedir Cotizacin por WhatsApp"]}),f.jsxs(Hn,{to:"/cotizar",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-cadena-blue hover:bg-blue-700 text-white font-bold rounded-xl transition shadow-lg hover:shadow-blue-400/50",children:[f.jsx(od,{size:20}),"Cotizar en Lnea (Formulario)"]})]})]})]})]})})]}),qN="/mudanzas-cadena-web/assets/mudanza1-BdTyaUqM.jpeg",FN="/mudanzas-cadena-web/assets/mudanza2-Ckuonxg8.jpeg",HN="/mudanzas-cadena-web/assets/mudanza3-D3EG-M9j.jpeg",GN="/mudanzas-cadena-web/assets/mudanza4-C6YfTQQ9.jpeg",$N="/mudanzas-cadena-web/assets/mudanza5-Dhq4noZh.jpeg",KN="/mudanzas-cadena-web/assets/mudanza6-B5NQVteP.jpeg",QN="/mudanzas-cadena-web/assets/mudanza7-y8hG9Qrc.jpeg",YN="/mudanzas-cadena-web/assets/mudanza8-CdYmO3EG.jpeg",XN="/mudanzas-cadena-web/assets/mudanza9-CuV-hVYp.jpeg",JN="/mudanzas-cadena-web/assets/mudanza10-DBVQKhKd.jpeg",WN="/mudanzas-cadena-web/assets/mudanza11-C5WH2O-v.jpeg",ZN="/mudanzas-cadena-web/assets/mudanza12-BQFl8PZH.jpeg",eR=()=>{const s=[{src:qN,span:"md:col-span-2 md:row-span-2",title:"Nuestras Unidades"},{src:FN,span:"md:col-span-1 md:row-span-1",title:"Carga Segura"},{src:HN,span:"md:col-span-1 md:row-span-2",title:"Maniobras de Altura"},{src:GN,span:"md:col-span-1 md:row-span-1",title:"Personal Uniformado"},{src:$N,span:"md:col-span-2 md:row-span-1",title:"Emplayado Profesional"},{src:KN,span:"md:col-span-1 md:row-span-1",title:"Cuidado al Detalle"},{src:QN,span:"md:col-span-1 md:row-span-1",title:"Logstica"},{src:YN,span:"md:col-span-1 md:row-span-2",title:"Volado de Muebles"},{src:XN,span:"md:col-span-2 md:row-span-2",title:"Servicio Residencial"},{src:JN,span:"md:col-span-1 md:row-span-1",title:"Empaque Delicado"},{src:WN,span:"md:col-span-1 md:row-span-1",title:"Transporte Nacional"},{src:ZN,span:"md:col-span-4 md:row-span-1",title:"Listos para tu mudanza"}];return f.jsx("div",{className:"py-24 relative z-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Galera"}),f.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:["As trabajamos en ",f.jsx("span",{className:"text-cadena-blue",children:"Cadena"})]}),f.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Cada mudanza es una historia de xito. Mira cmo cuidamos el patrimonio de nuestros clientes."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[200px]",children:s.map((e,n)=>f.jsx("div",{className:`relative group rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300 border border-white/40 ${e.span}`,children:f.jsx("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-in-out"})},n))}),f.jsx("div",{className:"text-center mt-12",children:f.jsxs("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-cadena-pink font-bold hover:text-pink-700 transition",children:[f.jsx(qx,{size:20})," Ver ms en Instagram"]})})]})})},tR=()=>{const[s,e]=L.useState(!1),n=L.useRef(null);return L.useEffect(()=>{n.current&&n.current.play().catch(r=>{console.log("El navegador bloque el autoplay (normal en mviles/ahorro de batera):",r)})},[]),f.jsxs("div",{className:"flex flex-col w-full bg-slate-50 relative overflow-hidden pt-20",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cadena-pink/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none z-0"}),f.jsx("div",{className:"absolute top-[800px] left-0 w-[600px] h-[600px] bg-cadena-blue/20 rounded-full blur-3xl -translate-x-1/2 pointer-events-none z-0"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-[700px] h-[700px] bg-blue-200/30 rounded-full blur-3xl translate-y-1/4 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{id:"inicio",className:"relative h-[600px] flex items-center scroll-mt-24 overflow-hidden bg-gray-900",children:[f.jsx("img",{src:BN,alt:"Fondo Mudanzas Cadena",className:"absolute inset-0 w-full h-full object-cover z-0 opacity-80"}),f.jsx("video",{ref:n,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onPlay:()=>e(!0),className:`absolute inset-0 z-10 w-full h-full object-cover transition-opacity duration-700 ${s?"opacity-100":"opacity-0"}`,children:f.jsx("source",{src:zN,type:"video/mp4"})}),f.jsx("div",{className:"absolute inset-0 bg-black/60 z-20"}),f.jsxs("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left",children:[f.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-cadena-pink/90 backdrop-blur-sm text-white text-sm font-bold mb-4 tracking-wider border border-white/20 shadow-lg animate-fade-in",children:"MUDANZAS Y FLETES NACIONALES"}),f.jsxs("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-6 drop-shadow-lg",children:["Tu patrimonio en las ",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-pink-200",children:"mejores manos"})]}),f.jsx("p",{className:"text-xl text-gray-100 mb-8 max-w-2xl drop-shadow-md",children:"Hacemos de tu mudanza algo fcil y sencillo. Ms de 60 aos cuidando lo que ms te importa."}),f.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 justify-center sm:justify-start",children:[f.jsxs(Hn,{to:"/cotizar",className:"px-6 py-4 bg-cadena-pink hover:bg-pink-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-pink-500/50 flex items-center justify-center gap-2",children:[f.jsx(od,{size:20})," Cotizar en Lnea"]}),f.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"px-6 py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-500/50 flex items-center justify-center gap-2",children:[f.jsx(qp,{size:20})," WhatsApp"]}),f.jsxs(Hn,{to:"/rastreo",className:"px-6 py-4 bg-white/10 backdrop-blur-md border border-white/30 hover:bg-white/20 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 shadow-lg",children:[f.jsx(ms,{size:20})," Rastrear"]})]})]})]}),f.jsx("div",{className:"py-16",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[{icon:f.jsx(TN,{size:32}),title:"Seguridad Total",text:"Rastreo 24/7 y seguro con CHUBB.",color:"text-cadena-blue"},{icon:f.jsx(zp,{size:32}),title:"Puntualidad",text:"Llegamos cuando decimos. Disciplina pura.",color:"text-cadena-pink"},{icon:f.jsx(LS,{size:32}),title:"Trato Humano",text:"Empresa familiar. Entendemos el valor sentimental.",color:"text-purple-500"}].map((r,o)=>f.jsxs("div",{className:"p-8 rounded-3xl bg-white/40 backdrop-blur-xl border border-white/50 shadow-xl hover:-translate-y-2 transition duration-300",children:[f.jsx("div",{className:`w-16 h-16 ${r.color} bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm`,children:r.icon}),f.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:r.title}),f.jsx("p",{className:"text-gray-600 font-medium",children:r.text})]},o))})})}),f.jsx("section",{id:"servicios",className:"scroll-mt-24",children:f.jsx(Wx,{})}),f.jsx("section",{id:"galeria",children:f.jsx(eR,{})}),f.jsx("div",{className:"py-24",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"bg-white/30 backdrop-blur-xl border border-white/60 rounded-[3rem] p-12 shadow-2xl",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold text-cadena-dark mb-6",children:"Nuestra Filosofa"}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"text-xl font-bold text-cadena-blue mb-2",children:"Misin"}),f.jsx("p",{className:"text-gray-700",children:"Hacer de tu mudanza algo fcil, cuidando tu patrimonio de principio a fin."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-cadena-pink mb-2",children:"Visin"}),f.jsx("p",{className:"text-gray-700",children:"Llegar a cada rincn de la Repblica Mexicana con la misma eficiencia."})]})]}),f.jsx("div",{className:"h-64 bg-gradient-to-br from-cadena-blue to-purple-900 rounded-3xl shadow-inner flex items-center justify-center text-white p-8 text-center border border-white/20",children:f.jsxs("div",{children:[f.jsx("span",{className:"text-6xl font-black block mb-2 drop-shadow-lg",children:"+60"}),f.jsx("span",{className:"text-xl font-medium tracking-widest uppercase",children:"Aos de experiencia"})]})})]})})})})]})]})},nR=()=>{};var Rv={};const Zx=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},iR=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},e1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(A=64)),r.push(n[x],n[E],n[A],n[M])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Zx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):iR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const E=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new sR;const A=c<<2|p>>4;if(r.push(A),y!==64){const M=p<<4&240|y>>2;if(r.push(M),E!==64){const $=y<<6&192|E;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(s){const e=Zx(s);return e1.encodeByteArray(e,!0)},Mh=function(s){return rR(s).replace(/\./g,"")},t1=function(s){try{return e1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof Rv>"u")return;const s=Rv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&t1(s[1]);return e&&JSON.parse(e)},hd=()=>{try{return nR()||oR()||lR()||cR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},n1=s=>hd()?.emulatorHosts?.[s],i1=s=>{const e=n1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s1=()=>hd()?.config,r1=s=>hd()?.[`_${s}`];class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function br(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gp(s){return(await fetch(s,{credentials:"include"})).ok}function a1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const ec={};function hR(){const s={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?s.emulator.push(e):s.prod.push(e);return s}function dR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Cv=!1;function $p(s,e){if(typeof window>"u"||typeof document>"u"||!br(window.location.host)||ec[s]===e||ec[s]||Cv)return;ec[s]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=hR().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Cv=!0,h()},A}function x(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=dR(r),M=n("text"),$=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;p(re),x(q,G);const se=y();g(ee,ne),re.append(ee,$,q,se),document.body.appendChild(re)}c?($.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function mR(){const s=hd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ER="FirebaseError";class Hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ER,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?TR(c,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,p,r)}}function TR(s,e){return s.replace(wR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const wR=/\{\$([^}]+)}/g;function AR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function aa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],h=e[o];if(Iv(c)&&Iv(h)){if(!aa(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Iv(s){return s!==null&&typeof s=="object"}function Ac(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Yl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function SR(s,e){const n=new NR(s,e);return n.subscribe.bind(n)}class NR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function qm(){}function ht(s){return s&&s._delegate?s._delegate:s}class dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class CR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jR(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(s){return s===na?void 0:s}function jR(s){return s.instantiationMode==="EAGER"}class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const kR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},OR=Pe.INFO,MR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},VR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=MR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=VR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const PR=(s,e)=>e.some(n=>s instanceof n);let jv,Dv;function LR(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,op=new WeakMap,l1=new WeakMap,Fm=new WeakMap,Qp=new WeakMap;function zR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(rr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&o1.set(n,s)}).catch(()=>{}),Qp.set(e,s),e}function BR(s){if(op.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});op.set(s,e)}let lp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return op.get(s);if(e==="objectStoreNames")return s.objectStoreNames||l1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qR(s){lp=s(lp)}function FR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Hm(this),e,...n);return l1.set(r,e.sort?e.sort():[e]),rr(r)}:UR().includes(s)?function(...e){return s.apply(Hm(this),e),rr(o1.get(this))}:function(...e){return rr(s.apply(Hm(this),e))}}function HR(s){return typeof s=="function"?FR(s):(s instanceof IDBTransaction&&BR(s),PR(s,LR())?new Proxy(s,lp):s)}function rr(s){if(s instanceof IDBRequest)return zR(s);if(Fm.has(s))return Fm.get(s);const e=HR(s);return e!==s&&(Fm.set(s,e),Qp.set(e,s)),e}const Hm=s=>Qp.get(s);function GR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),p=rr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(rr(h.result),g.oldVersion,g.newVersion,rr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const $R=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],Gm=new Map;function kv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$R.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Gm.set(e,c),c}qR(s=>({...s,get:(e,n,r)=>kv(e,n)||s.get(e,n,r),has:(e,n)=>!!kv(e,n)||s.has(e,n)}));class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YR(s){return s.getComponent()?.type==="VERSION"}const cp="@firebase/app",Ov="0.14.7";const ps=new Kp("@firebase/app"),XR="@firebase/app-compat",JR="@firebase/analytics-compat",WR="@firebase/analytics",ZR="@firebase/app-check-compat",eC="@firebase/app-check",tC="@firebase/auth",nC="@firebase/auth-compat",iC="@firebase/database",sC="@firebase/data-connect",rC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",cC="@firebase/installations-compat",uC="@firebase/messaging",hC="@firebase/messaging-compat",dC="@firebase/performance",fC="@firebase/performance-compat",mC="@firebase/remote-config",pC="@firebase/remote-config-compat",gC="@firebase/storage",yC="@firebase/storage-compat",_C="@firebase/firestore",vC="@firebase/ai",bC="@firebase/firestore-compat",xC="firebase",EC="12.8.0";const up="[DEFAULT]",TC={[cp]:"fire-core",[XR]:"fire-core-compat",[WR]:"fire-analytics",[JR]:"fire-analytics-compat",[eC]:"fire-app-check",[ZR]:"fire-app-check-compat",[tC]:"fire-auth",[nC]:"fire-auth-compat",[iC]:"fire-rtdb",[sC]:"fire-data-connect",[rC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[cC]:"fire-iid-compat",[uC]:"fire-fcm",[hC]:"fire-fcm-compat",[dC]:"fire-perf",[fC]:"fire-perf-compat",[mC]:"fire-rc",[pC]:"fire-rc-compat",[gC]:"fire-gcs",[yC]:"fire-gcs-compat",[_C]:"fire-fst",[bC]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[xC]:"fire-js-all"};const Vh=new Map,wC=new Map,hp=new Map;function Mv(s,e){try{s.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function oa(s){const e=s.name;if(hp.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,s);for(const n of Vh.values())Mv(n,s);for(const n of wC.values())Mv(n,s);return!0}function dd(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Fn(s){return s==null?!1:s.settings!==void 0}const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new wc("app","Firebase",AC);class SC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const ma=EC;function c1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:up,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(n||(n=s1()),!n)throw ar.create("no-options");const c=Vh.get(o);if(c){if(aa(n,c.options)&&aa(r,c.config))return c;throw ar.create("duplicate-app",{appName:o})}const h=new DR(o);for(const g of hp.values())h.addComponent(g);const p=new SC(n,r,h);return Vh.set(o,p),p}function Yp(s=up){const e=Vh.get(s);if(!e&&s===up&&s1())return c1();if(!e)throw ar.create("no-app",{appName:s});return e}function Pi(s,e,n){let r=TC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(h.join(" "));return}oa(new dr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const NC="firebase-heartbeat-database",RC=1,cc="firebase-heartbeat-store";let $m=null;function u1(){return $m||($m=GR(NC,RC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),$m}async function CC(s){try{const n=(await u1()).transaction(cc),r=await n.objectStore(cc).get(h1(s));return await n.done,r}catch(e){if(e instanceof Hi)ps.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}}async function Vv(s,e){try{const r=(await u1()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,h1(s)),await r.done}catch(n){if(n instanceof Hi)ps.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n?.message});ps.warn(r.message)}}}function h1(s){return`${s.name}!${s.options.appId}`}const IC=1024,jC=30;class DC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jC){const o=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pv(),{heartbeatsToSend:n,unsentEntries:r}=kC(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ps.warn(e),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function kC(s,e=IC){const n=[];let r=s.slice();for(const o of s){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Lv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lv(s){return Mh(JSON.stringify({version:2,heartbeats:s})).length}function MC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function VC(s){oa(new dr("platform-logger",e=>new QR(e),"PRIVATE")),oa(new dr("heartbeat",e=>new DC(e),"PRIVATE")),Pi(cp,Ov,s),Pi(cp,Ov,"esm2020"),Pi("fire-js","")}VC("");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,d1;(function(){var s;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(j,D,P){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return S.prototype[D].apply(j,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const j=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)j[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)j[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let P=N.g[3],C;C=S+(P^R&(D^P))+j[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=P+(D^S&(R^D))+j[1]+3905402710&4294967295,P=S+(C<<12&4294967295|C>>>20),C=D+(R^P&(S^R))+j[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(S^D&(P^S))+j[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(P^R&(D^P))+j[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=P+(D^S&(R^D))+j[5]+1200080426&4294967295,P=S+(C<<12&4294967295|C>>>20),C=D+(R^P&(S^R))+j[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(S^D&(P^S))+j[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(P^R&(D^P))+j[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=P+(D^S&(R^D))+j[9]+2336552879&4294967295,P=S+(C<<12&4294967295|C>>>20),C=D+(R^P&(S^R))+j[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(S^D&(P^S))+j[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(P^R&(D^P))+j[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=P+(D^S&(R^D))+j[13]+4254626195&4294967295,P=S+(C<<12&4294967295|C>>>20),C=D+(R^P&(S^R))+j[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(S^D&(P^S))+j[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^P&(R^D))+j[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(S^R))+j[6]+3225465664&4294967295,P=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(P^S))+j[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^S&(D^P))+j[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^P&(R^D))+j[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(S^R))+j[10]+38016083&4294967295,P=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(P^S))+j[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^S&(D^P))+j[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^P&(R^D))+j[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(S^R))+j[14]+3275163606&4294967295,P=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(P^S))+j[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^S&(D^P))+j[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^P&(R^D))+j[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(S^R))+j[2]+4243563512&4294967295,P=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(P^S))+j[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^S&(D^P))+j[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^P)+j[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=P+(S^R^D)+j[8]+2272392833&4294967295,P=S+(C<<11&4294967295|C>>>21),C=D+(P^S^R)+j[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^S)+j[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^P)+j[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=P+(S^R^D)+j[4]+1272893353&4294967295,P=S+(C<<11&4294967295|C>>>21),C=D+(P^S^R)+j[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^S)+j[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^P)+j[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=P+(S^R^D)+j[0]+3936430074&4294967295,P=S+(C<<11&4294967295|C>>>21),C=D+(P^S^R)+j[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^S)+j[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^P)+j[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=P+(S^R^D)+j[12]+3873151461&4294967295,P=S+(C<<11&4294967295|C>>>21),C=D+(P^S^R)+j[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^S)+j[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~P))+j[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=P+(R^(S|~D))+j[7]+1126891415&4294967295,P=S+(C<<10&4294967295|C>>>22),C=D+(S^(P|~R))+j[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~S))+j[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~P))+j[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=P+(R^(S|~D))+j[3]+2399980690&4294967295,P=S+(C<<10&4294967295|C>>>22),C=D+(S^(P|~R))+j[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~S))+j[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~P))+j[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=P+(R^(S|~D))+j[15]+4264355552&4294967295,P=S+(C<<10&4294967295|C>>>22),C=D+(S^(P|~R))+j[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~S))+j[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~P))+j[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=P+(R^(S|~D))+j[11]+3174756917&4294967295,P=S+(C<<10&4294967295|C>>>22),C=D+(S^(P|~R))+j[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~S))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,j=this.C;let D=this.h,P=0;for(;P<S;){if(D==0)for(;P<=R;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<S;)if(j[D++]=N.charCodeAt(P++),D==this.blockSize){o(this,j),D=0;break}}else for(;P<S;)if(j[D++]=N[P++],D==this.blockSize){o(this,j),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)N[S++]=this.g[R]>>>j&255;return N};function c(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function h(N,S){this.h=S;const R=[];let j=!0;for(let D=N.length-1;D>=0;D--){const P=N[D]|0;j&&P==S||(R[D]=P,j=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?c(N,function(S){return new h([S|0],S<0?-1:0)}):new h([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return q(y(-N));const S=[];let R=1;for(let j=0;N>=R;j++)S[j]=N/R|0,R*=4294967296;return new h(S,0)}function x(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(x(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let j=E;for(let P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P);const C=parseInt(N.substring(P,P+D),S);D<8?(D=y(Math.pow(S,D)),j=j.j(D).add(y(C))):(j=j.j(R),j=j.add(y(C)))}return j}var E=g(0),A=g(1),M=g(16777216);s=h.prototype,s.m=function(){if(G(this))return-q(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);N+=(j>=0?j:4294967296+j)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(G(this))return"-"+q(this).toString(N);const S=y(Math.pow(N,6));var R=this;let j="";for(;;){const D=se(R,S).g;R=ne(R,D.j(S));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,$(R))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function G(N){return N.h==-1}s.l=function(N){return N=ne(this,N),G(N)?-1:$(N)?0:1};function q(N){const S=N.g.length,R=[];for(let j=0;j<S;j++)R[j]=~N.g[j];return new h(R,~N.h).add(A)}s.abs=function(){return G(this)?q(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let j=0;for(let D=0;D<=S;D++){let P=j+(this.i(D)&65535)+(N.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);j=C>>>16,P&=65535,C&=65535,R[D]=C<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ne(N,S){return N.add(q(S))}s.j=function(N){if($(this)||$(N))return E;if(G(this))return G(N)?q(this).j(q(N)):q(q(this).j(N));if(G(N))return q(this.j(q(N)));if(this.l(M)<0&&N.l(M)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var j=0;j<2*S;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<N.g.length;D++){const P=this.i(j)>>>16,C=this.i(j)&65535,Qe=N.i(D)>>>16,_e=N.i(D)&65535;R[2*j+2*D]+=C*_e,ee(R,2*j+2*D),R[2*j+2*D+1]+=P*_e,ee(R,2*j+2*D+1),R[2*j+2*D+1]+=C*Qe,ee(R,2*j+2*D+1),R[2*j+2*D+2]+=P*Qe,ee(R,2*j+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new h(R,0)};function ee(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function re(N,S){this.g=N,this.h=S}function se(N,S){if($(S))throw Error("division by zero");if($(N))return new re(E,E);if(G(N))return S=se(q(N),S),new re(q(S.g),q(S.h));if(G(S))return S=se(N,q(S)),new re(q(S.g),S.h);if(N.g.length>30){if(G(N)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,j=S;j.l(N)<=0;)R=he(R),j=he(j);var D=me(R,1),P=me(j,1);for(j=me(j,2),R=me(R,2);!$(j);){var C=P.add(j);C.l(N)<=0&&(D=D.add(R),P=C),j=me(j,1),R=me(R,1)}return S=ne(N,D.j(S)),new re(D,S)}for(D=E;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=y(R),C=P.j(S);G(C)||C.l(N)>0;)R-=j,P=y(R),C=P.j(S);$(P)&&(P=A),D=D.add(P),N=ne(N,C)}return new re(D,N)}s.B=function(N){return se(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)&N.i(j);return new h(R,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)|N.i(j);return new h(R,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)^N.i(j);return new h(R,this.h^N.h)};function he(N){const S=N.g.length+1,R=[];for(let j=0;j<S;j++)R[j]=N.i(j)<<1|N.i(j-1)>>>31;return new h(R,N.h)}function me(N,S){const R=S>>5;S%=32;const j=N.g.length-R,D=[];for(let P=0;P<j;P++)D[P]=S>0?N.i(P+R)>>>S|N.i(P+R+1)<<32-S:N.i(P+R);return new h(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d1=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,or=h}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var f1,Xl,m1,Th,dp,p1,g1,y1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var _=0;_<u.length;++_){var b=u[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(u,_){if(_)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in b))break e;b=b[U]}u=u[u.length-1],w=b[u],_=_(w),_!=w&&_!=null&&e(b,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var b=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&b.push([w,_[w]]);return b}});var c=c||{},h=this||self;function p(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function g(u,_,b){return u.call.apply(u.bind,arguments)}function y(u,_,b){return y=g,y.apply(null,arguments)}function x(u,_){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,_){function b(){}b.prototype=_.prototype,u.Z=_.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,U,K){for(var ae=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ae[Re-2]=arguments[Re];return _.prototype[U].apply(w,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const _=u.length;if(_>0){const b=Array(_);for(let w=0;w<_;w++)b[w]=u[w];return b}return[]}function $(u,_){for(let w=1;w<arguments.length;w++){const U=arguments[w];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const K=U.length||0;u.length=b+K;for(let ae=0;ae<K;ae++)u[b+ae]=U[ae]}else u.push(U)}}class G{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(u){h.setTimeout(()=>{throw u},0)}function ne(){var u=N;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,b){const w=re.get();w.set(_,b),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new G(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,me=!1,N=new ee,S=()=>{const u=Promise.resolve(void 0);he=()=>{u.then(R)}};function R(){for(var u;u=ne();){try{u.h.call(u.g)}catch(b){q(b)}var _=re;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}me=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,_),h.removeEventListener("test",b,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,_){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}E(Qe,D),Qe.prototype.init=function(u,_){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(b=="mouseover"?_=u.fromElement:b=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,_,b,w,U){this.listener=u,this.proxy=null,this.src=_,this.type=b,this.capture=!!w,this.ha=U,this.key=++F,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u,_,b){for(const w in u)_.call(b,u[w],w,u)}function Oe(u,_){for(const b in u)_.call(void 0,u[b],b,u)}function O(u){const _={};for(const b in u)_[b]=u[b];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,_){let b,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(b in w)u[b]=w[b];for(let K=0;K<W.length;K++)b=W[K],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,_,b,w,U){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ae=Ie(u,_,w,U);return ae>-1?(_=u[ae],b||(_.fa=!1)):(_=new ie(_,this.src,K,!!w,U),_.fa=b,u.push(_)),_};function we(u,_){const b=_.type;if(b in u.g){var w=u.g[b],U=Array.prototype.indexOf.call(w,_,void 0),K;(K=U>=0)&&Array.prototype.splice.call(w,U,1),K&&(fe(_),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ie(u,_,b,w){for(let U=0;U<u.length;++U){const K=u[U];if(!K.da&&K.listener==_&&K.capture==!!b&&K.ha==w)return U}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(u,_,b,w,U){if(Array.isArray(_)){for(let K=0;K<_.length;K++)ot(u,_[K],b,w,U);return null}return b=Uo(b),u&&u[_e]?u.J(_,b,p(w)?!!w.capture:!1,U):Ar(u,_,b,!1,w,U)}function Ar(u,_,b,w,U,K){if(!_)throw Error("Invalid event type");const ae=p(U)?!!U.capture:!!U;let Re=Sr(u);if(Re||(u[Be]=Re=new ue(u)),b=Re.add(_,b,w,ae,K),b.proxy)return b;if(w=_a(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)P||(U=ae),U===void 0&&(U=!1),u.addEventListener(_.toString(),w,U);else if(u.attachEvent)u.attachEvent(mi(_.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function _a(){function u(b){return _.call(u.src,u.listener,b)}const _=Po;return u}function va(u,_,b,w,U){if(Array.isArray(_))for(var K=0;K<_.length;K++)va(u,_[K],b,w,U);else w=p(w)?!!w.capture:!!w,b=Uo(b),u&&u[_e]?(u=u.i,K=String(_).toString(),K in u.g&&(_=u.g[K],b=Ie(_,b,w,U),b>-1&&(fe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete u.g[K],u.h--)))):u&&(u=Sr(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ie(_,b,w,U)),(b=u>-1?_[u]:null)&&ba(b))}function ba(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[_e])we(_.i,u);else{var b=u.type,w=u.proxy;_.removeEventListener?_.removeEventListener(b,w,u.capture):_.detachEvent?_.detachEvent(mi(b),w):_.addListener&&_.removeListener&&_.removeListener(w),(b=Sr(_))?(we(b,u),b.h==0&&(b.src=null,_[Be]=null)):fe(u)}}}function mi(u){return u in kt?kt[u]:kt[u]="on"+u}function Po(u,_){if(u.da)u=!0;else{_=new Qe(_,this);const b=u.listener,w=u.ha||u.src;u.fa&&ba(u),u=b.call(w,_)}return u}function Sr(u){return u=u[Be],u instanceof ue?u:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(u){return typeof u=="function"?u:(u[Lo]||(u[Lo]=function(_){return u.handleEvent(_)}),u[Lo])}function xt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}E(xt,j),xt.prototype[_e]=!0,xt.prototype.removeEventListener=function(u,_,b,w){va(this,u,_,b,w)};function Ot(u,_){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=_.type||_,typeof _=="string")_=new D(_,u);else if(_ instanceof D)_.target=_.target||u;else{var U=_;_=new D(w,u),le(_,U)}U=!0;let K,ae;if(b)for(ae=b.length-1;ae>=0;ae--)K=_.g=b[ae],U=bs(K,w,!0,_)&&U;if(K=_.g=u,U=bs(K,w,!0,_)&&U,U=bs(K,w,!1,_)&&U,b)for(ae=0;ae<b.length;ae++)K=_.g=b[ae],U=bs(K,w,!1,_)&&U}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const b=u.g[_];for(let w=0;w<b.length;w++)fe(b[w]);delete u.g[_],u.h--}}this.G=null},xt.prototype.J=function(u,_,b,w){return this.i.add(String(u),_,!1,b,w)},xt.prototype.K=function(u,_,b,w){return this.i.add(String(u),_,!0,b,w)};function bs(u,_,b,w){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let K=0;K<_.length;++K){const ae=_[K];if(ae&&!ae.da&&ae.capture==b){const Re=ae.listener,yt=ae.ha||ae.src;ae.fa&&we(u.i,ae),U=Re.call(yt,w)!==!1&&U}}return U&&!w.defaultPrevented}function Od(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(u,_||0)}function Lc(u){u.g=Od(()=>{u.g=null,u.i&&(u.i=!1,Lc(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class rn extends j{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){j.call(this),this.h=u,this.g={}}E(Nr,j);var zo=[];function Bo(u){Se(u.g,function(_,b){this.g.hasOwnProperty(b)&&ba(_)},u),u.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),Bo(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=h.JSON.stringify,Md=h.JSON.parse,Uc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function zc(){}function Bc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}E(qt,D);function In(){D.call(this,"c")}E(In,D);var gt={},qc=null;function xa(){return qc=qc||new xt}gt.Ia="serverreachability";function Fc(u){D.call(this,gt.Ia,u)}E(Fc,D);function pi(u){const _=xa();Ot(_,new Fc(_))}gt.STAT_EVENT="statevent";function Rr(u,_){D.call(this,gt.STAT_EVENT,u),this.stat=_}E(Rr,D);function Et(u){const _=xa();Ot(_,new Rr(_,u))}gt.Ja="timingevent";function gi(u,_){D.call(this,gt.Ja,u),this.size=_}E(gi,D);function yi(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},_)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Vd(u,_,b,w,U,K){u.info(function(){if(u.g)if(K){var ae="",Re=K.split("&");for(let $e=0;$e<Re.length;$e++){var yt=Re[$e].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const On=lt.split("_");ae=On.length>=2&&On[1]=="type"?ae+(lt+"="+yt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+_+`
`+b+`
`+ae})}function Hc(u,_,b,w,U,K,ae){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+_+`
`+b+`
`+K+" "+ae})}function _i(u,_,b,w){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pd(u,b)+(w?" "+w:"")})}function Cr(u,_){u.info(function(){return"TIMEOUT: "+_})}Xn.prototype.info=function(){};function Pd(u,_){if(!u.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return xs(K)}catch{return _}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function jr(){}E(jr,zc),jr.prototype.g=function(){return new XMLHttpRequest},Fo=new jr;function Gi(u){return encodeURIComponent(String(u))}function Gc(u){var _=1;u=u.split(":");const b=[];for(;_>0&&u.length;)b.push(u.shift()),_--;return u.length&&b.push(u.join(":")),b}function Jn(u,_,b,w){this.j=u,this.i=_,this.l=b,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function vi(u,_,b){u.M=1,u.A=Dr(At(_)),u.u=b,u.R=!0,Ea(u,null)}function Ea(u,_){u.F=Date.now(),bi(u),u.B=At(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Sa(b.i,"t",w),u.C=0,b=u.j.L,u.h=new Wn,u.g=au(u.j,b?_:null,!u.u),u.P>0&&(u.O=new rn(y(u.Y,u,u.g),u.P)),_=u.V,b=u.g,w=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(zo[0]=U.toString()),U=zo);for(let K=0;K<U.length;K++){const ae=ot(b,U[K],w||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),pi(),Vd(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const _=this.O;_&&ti(u)==3?_.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=ti(this.g),yt=this.g.ya(),$e=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Re!=4||yt==7||(yt==8||$e<=0?pi(3):pi(2)),xi(this);var _=this.g.ca();this.X=_;var b=Ld(this);if(this.o=_==200,Hc(this.i,this.v,this.B,this.l,this.S,Re,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(u=K)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Et(12),_n(this),jn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Kc(this,b),lt==Pt){Re==4&&(this.m=4,Et(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),_i(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,lt,null),Ei(this,lt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,b,"[Invalid Chunked Response]"),_n(this),jn(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),sl(ae),ae.P=!0,Et(11))}}else _i(this.i,this.l,b,null),Ei(this,b);Re==4&&_n(this),this.o&&!this.K&&(Re==4?nu(this.j,this):(this.o=!1,bi(this)))}else Ki(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),_n(this),jn(this)}}}catch{}};function Ld(u){if(!$c(u))return u.g.la();const _=Ft(u.g);if(_==="")return"";let b="";const w=_.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),jn(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,b+=u.h.i.decode(_[K],{stream:!(U&&K==w-1)});return _.length=0,u.h.g+=b,u.C=0,u.h.g}function $c(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kc(u,_){var b=u.C,w=_.indexOf(`
`,b);return w==-1?Pt:(b=Number(_.substring(b,w)),isNaN(b)?Tt:(w+=1,w+b>_.length?Pt:(_=_.slice(w,w+b),u.C=w+b,_)))}Jn.prototype.cancel=function(){this.K=!0,_n(this)};function bi(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),_)}function xi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(pi(),Et(17)),_n(this),this.m=2,jn(this)):Ta(this,this.T-u)};function jn(u){u.j.I==0||u.K||nu(u.j,u)}function _n(u){xi(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Bo(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Ei(u,_){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ja(b),Cs(b);else break e;Ur(b),Et(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(y(b.Va,b),6e3));Ti(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((u.L||b.g==u)&&ja(b),!C(_))for(U=b.Ba.g.parse(_),_=0;_<U.length;_++){let $e=U[_];const lt=$e[0];if(!(lt<=b.K))if(b.K=lt,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const On=$e[3];On!=null&&(b.ka=On,b.j.info("VER="+b.ka));const ji=$e[4];ji!=null&&(b.za=ji,b.j.info("SVER="+b.za));const ni=$e[5];ni!=null&&typeof ni=="number"&&ni>0&&(w=1.5*ni,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const ii=u.g;if(ii){const zr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var K=w.h;K.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&($o(K,K.h),K.h=null))}if(w.G){const Da=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(w.wa=Da,Ye(w.J,w.G,Da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ae=u;if(w.na=ru(w,w.L?w.ba:null,w.W),ae.L){Ko(w.h,ae);var Re=ae,yt=w.O;yt&&(Re.H=yt),Re.D&&(xi(Re),bi(Re)),w.g=ae}else eu(w);b.i.length>0&&Ci(b)}else $e[0]!="stop"&&$e[0]!="close"||Ii(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ii(b,7):nl(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}pi(4)}catch{}}var wt=class{constructor(u,_){this.g=u,this.map=_}};function Ho(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function wi(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function $o(u,_){u.g?u.g.add(_):u.h=_}function Ko(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const b of u.g.values())_=_.concat(b.G);return _}return M(u.i)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,_){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let U,K=null;w>=0?(U=u[b].substring(0,w),K=u[b].substring(w+1)):U=u[b],_(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof vn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Yo(this,Wc(u.i)),this.m=u.m):u&&(_=String(u).match(Qc))?(this.l=!1,Lt(this,_[1]||"",!0),this.o=Ai(_[2]||""),this.g=Ai(_[3]||"",!0),Es(this,_[4]),this.h=Ai(_[5]||"",!0),Yo(this,_[6]||"",!0),this.m=Ai(_[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}vn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(kr(_,Aa,!0),":");var b=this.g;return(b||_=="file")&&(u.push("//"),(_=this.o)&&u.push(kr(_,Aa,!0),"@"),u.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(kr(b,b.charAt(0)=="/"?Xo:Yc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",kr(b,Xc)),u.join("")},vn.prototype.resolve=function(u){const _=At(this);let b=!!u.j;b?Lt(_,u.j):b=!!u.o,b?_.o=u.o:b=!!u.g,b?_.g=u.g:b=u.u!=null;var w=u.h;if(b)Es(_,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=_.h.lastIndexOf("/");U!=-1&&(w=_.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let ae=0;ae<U.length;){const Re=U[ae++];Re=="."?w&&ae==U.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ae==U.length&&K.push("")):(K.push(Re),w=!0)}w=K.join("/")}else w=U}return b?_.h=w:b=u.i.toString()!=="",b?Yo(_,Wc(u.i)):b=!!u.m,b&&(_.m=u.m),_};function At(u){return new vn(u)}function Lt(u,_,b){u.j=b?Ai(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Yo(u,_,b){_ instanceof ws?(u.i=_,Na(u.i,u.l)):(b||(_=kr(_,Ts)),u.i=new ws(_,u.l))}function Ye(u,_,b){u.i.set(_,b)}function Dr(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,_,b){return typeof u=="string"?(u=encodeURI(u).replace(_,un),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,Yc=/[#\?:]/g,Xo=/[#\?]/g,Ts=/[#\?@]/g,Xc=/#/g;function ws(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(_,b){u.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}s=ws.prototype,s.add=function(u,_){hn(this),this.i=null,u=As(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(_),this.h+=1,this};function Jc(u,_){hn(u),_=As(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Jo(u,_){return hn(u),_=As(u,_),u.g.has(_)}s.forEach=function(u,_){hn(this),this.g.forEach(function(b,w){b.forEach(function(U){u.call(_,U,w,this)},this)},this)};function Wo(u,_){hn(u);let b=[];if(typeof _=="string")Jo(u,_)&&(b=b.concat(u.g.get(As(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)b=b.concat(u[_]);return b}s.set=function(u,_){return hn(this),this.i=null,u=As(this,u),Jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},s.get=function(u,_){return u?(u=Wo(this,u),u.length>0?String(u[0]):_):_};function Sa(u,_,b){Jc(u,_),b.length>0&&(u.i=null,u.g.set(As(u,_),M(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var b=_[w];const U=Gi(b);b=Wo(this,b);for(let K=0;K<b.length;K++){let ae=U;b[K]!==""&&(ae+="="+Gi(b[K])),u.push(ae)}}return this.i=u.join("&")};function Wc(u){const _=new ws;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function As(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Na(u,_){_&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(b,w){const U=w.toLowerCase();w!=U&&(Jc(this,w),Sa(this,U,b))},u)),u.j=_}function Zn(u,_){const b=new Xn;if(h.Image){const w=new Image;w.onload=x(Dn,b,"TestLoadImage: loaded",!0,_,w),w.onerror=x(Dn,b,"TestLoadImage: error",!1,_,w),w.onabort=x(Dn,b,"TestLoadImage: abort",!1,_,w),w.ontimeout=x(Dn,b,"TestLoadImage: timeout",!1,_,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else _(!1)}function Zo(u,_){const b=new Xn,w=new AbortController,U=setTimeout(()=>{w.abort(),Dn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(U),K.ok?Dn(b,"TestPingServer: ok",!0,_):Dn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Dn(b,"TestPingServer: error",!1,_)})}function Dn(u,_,b,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(b)}catch{}}function Ss(){this.g=new Uc}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Si,zc),Si.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,_){xt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Or,xt),s=Or.prototype,s.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Ns(this):ei(this),this.readyState==3&&Ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,_){this.A.append(u,_)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=_.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let _="";return Se(u,function(b,w){_+=w,_+=":",_+=b,_+=`\r
`}),_}function Mr(u,_,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=kn(b),typeof u=="string"?b!=null&&Gi(b):Ye(u,_,b))}function We(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,xt);var Ni=/^https?$/i,el=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,_,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(K){Vr(this,K);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)b.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())b.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(el,_,void 0)>=0)||w||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of b)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Vr(this,K)}};function Vr(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,tl(u),$i(u)}function tl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),ti(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var w;if(w=K===0){let ae=String(u.D).match(Qc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),w=!Ni.test(ae?ae.toLowerCase():"")}b=w}if(b)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",tl(u)}}finally{$i(u)}}}}function $i(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,_||Ot(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Md(_)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const _={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(C(u[w]))continue;var b=Gc(u[w]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=_[U]||[];_[U]=K,K.push(b)}Oe(_,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||_}function Rs(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(u,_,b,w){Et(0),this.W=u,this.H=_||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=ru(this,null,this.W),Ci(this)};function nl(u){if(Ca(u),u.I==3){var _=u.V++,b=At(u.J);if(Ye(b,"SID",u.M),Ye(b,"RID",_),Ye(b,"TYPE","terminate"),Lr(u,b),_=new Jn(u,u.j,_),_.M=2,_.A=Dr(At(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=_.A,b=!0),b||(_.g=au(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}su(u)}function Cs(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Ca(u){Cs(u),u.v&&(h.clearTimeout(u.v),u.v=null),ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Go(u.h)&&!u.m){u.m=!0;var _=u.Ea;he||S(),me||(he(),me=!0),N.add(_,u),u.D=0}}function Ia(u,_){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,_),iu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=O(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Zc(this,U,_),b=At(this.J),Ye(b,"RID",u),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),Lr(this,b),K&&(this.R?_="headers="+Gi(kn(K))+"&"+_:this.u&&Mr(b,this.u,K)),$o(this.h,U),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",_),Ye(b,"SID","null"),U.U=!0,vi(U,b,null)):vi(U,b,_),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Go(this.h)||il(this))};function il(u,_){var b;_?b=_.l:b=u.V++;const w=At(u.J);Ye(w,"SID",u.M),Ye(w,"RID",b),Ye(w,"AID",u.K),Lr(u,w),u.u&&u.o&&Mr(w,u.u,u.o),b=new Jn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Zc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$o(u.h,b),vi(b,w,_)}function Lr(u,_){u.H&&Se(u.H,function(b,w){Ye(_,w,b)}),u.l&&Se({},function(b,w){Ye(_,w,b)})}function Zc(u,_,b){b=Math.min(u.i.length,b);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Re=-1;for(;;){const yt=["count="+b];Re==-1?b>0?(Re=U[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let $e=!0;for(let lt=0;lt<b;lt++){var K=U[lt].g;const On=U[lt].map;if(K-=Re,K<0)Re=Math.max(0,U[lt].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var ae=On instanceof Map?On:Object.entries(On);for(const[ji,ni]of ae){let ii=ni;p(ni)&&(ii=xs(ni)),yt.push(K+ji+"="+encodeURIComponent(ii))}}catch(ji){throw yt.push(K+"type="+encodeURIComponent("_badmap")),ji}}catch{w&&w(On)}}if($e){ae=yt.join("&");break e}}ae=void 0}return u=u.i.splice(0,b),_.G=u,ae}function eu(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;he||S(),me||(he(),me=!0),N.add(_,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),iu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Cs(this),tu(this))};function sl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function tu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=At(u.na);Ye(_,"RID","rpc"),Ye(_,"SID",u.M),Ye(_,"AID",u.K),Ye(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(_,"TO",u.ia),Ye(_,"TYPE","xmlhttp"),Lr(u,_),u.u&&u.o&&Mr(_,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Dr(At(_)),b.u=null,b.R=!0,Ea(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Ur(this),Et(19))};function ja(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function nu(u,_){var b=null;if(u.g==_){ja(u),sl(u),u.g=null;var w=2}else if(wi(u.h,_))b=_.G,Ko(u.h,_),w=1;else return;if(u.I!=0){if(_.o)if(w==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var U=u.D;w=xa(),Ot(w,new gi(w,b)),Ci(u)}else eu(u);else if(U=_.m,U==3||U==0&&_.X>0||!(w==1&&Ia(u,_)||w==2&&Ur(u)))switch(b&&b.length>0&&(_=u.h,_.i=_.i.concat(b)),U){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function iu(u,_){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*_}function Ii(u,_){if(u.j.info("Error code "+_),_==2){var b=y(u.bb,u),w=u.Ua;const U=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(w,"https"),Dr(w),U?Zn(w.toString(),b):Zo(w.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(_),su(u),Ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function su(u){if(u.I=0,u.ja=[],u.l){const _=Qo(u.h);(_.length!=0||u.i.length!=0)&&($(u.ja,_),$(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function ru(u,_,b){var w=b instanceof vn?At(b):new vn(b);if(w.g!="")_&&(w.g=_+"."+w.g),Es(w,w.u);else{var U=h.location;w=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const K=new vn(null);w&&Lt(K,w),_&&(K.g=_),U&&Es(K,U),b&&(K.h=b),w=K}return b=u.G,_=u.wa,b&&_&&Ye(w,b,_),Ye(w,"VER",u.ka),Lr(u,w),w}function au(u,_,b){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new We(new Si({ab:b})):new We(u.ma),_.Fa(u.L),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}s=ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,_){return new an(u,_)};function an(u,_){xt.call(this),this.g=new Rs(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Qi(this)}E(an,xt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){nl(this.g)},an.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=xs(u),u=b);_.i.push(new wt(_.Ya++,u)),_.I==3&&Ci(_)},an.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,an.Z.N.call(this)};function lu(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const b in _){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}E(lu,qt);function cu(){In.call(this),this.status=1}E(cu,In);function Qi(u){this.g=u}E(Qi,ou),Qi.prototype.ra=function(){Ot(this.g,"a")},Qi.prototype.qa=function(u){Ot(this.g,new lu(u))},Qi.prototype.pa=function(u){Ot(this.g,new cu)},Qi.prototype.oa=function(){Ot(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,y1=function(){return new Is},g1=function(){return xa()},p1=gt,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Th=Ir,qo.COMPLETE="complete",m1=qo,Bc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Xl=Bc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,f1=We}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Io="12.8.0";function PC(s){Io=s}const la=new Kp("@firebase/firestore");function lo(){return la.logLevel}function ce(s,...e){if(la.logLevel<=Pe.DEBUG){const n=e.map(Xp);la.debug(`Firestore (${Io}): ${s}`,...n)}}function gs(s,...e){if(la.logLevel<=Pe.ERROR){const n=e.map(Xp);la.error(`Firestore (${Io}): ${s}`,...n)}}function Eo(s,...e){if(la.logLevel<=Pe.WARN){const n=e.map(Xp);la.warn(`Firestore (${Io}): ${s}`,...n)}}function Xp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function be(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_1(s,r,n)}function _1(s,e,n){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Fe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||_1(e,o,r)}function Ae(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class v1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Li,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Li)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new v1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class BC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=HC(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Le(s,e){return s<e?-1:s>e?1:0}function fp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Km(o)===Km(c)?Le(o,c):Km(o)?1:-1}return Le(s.length,e.length)}const GC=55296,$C=57343;function Km(s){const e=s.charCodeAt(0);return e>=GC&&e<=$C}function To(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const Bv="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Vi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),o=Vi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class nt extends Vi{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vi{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Yt([Bv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(c(),o++)}if(c(),h)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function b1(s,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function QC(s,e,n,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qv(s){if(!ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fv(s){if(ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function x1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Sc(s,e){if(!x1(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new oe(X.INVALID_ARGUMENT,n);return!0}const Hv=-62135596800,Gv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gv);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uc=-1;function YC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new fr(o,ye.empty(),e)}function XC(s){return new fr(s.readTime,s.key,uc)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(Ee.min(),ye.empty(),uc)}static max(){return new fr(Ee.max(),ye.empty(),uc)}}function JC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}const WC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==WC)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>r(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&r(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new te(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function eI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(s){return s.name==="IndexedDbTransactionError"}class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;const Wp=-1;function Nc(s){return s==null}function Ph(s){return s===0&&1/s==-1/0}function tI(s){return typeof s=="number"&&Number.isInteger(s)&&!Ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const E1="";function nI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=$v(e)),e=iI(s.get(n),e);return $v(e)}function iI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case E1:n+="";break;default:n+=c}}return n}function $v(s){return s+E1+""}function Kv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function xr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function T1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new w1("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=sI.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const A1="server_timestamp",S1="__type__",N1="__previous_value__",R1="__local_write_time__";function Zp(s){return(s?.mapValue?.fields||{})[S1]?.stringValue===A1}function pd(s){const e=s.mapValue.fields[N1];return Zp(e)?pd(e):e}function hc(s){const e=mr(s.mapValue.fields[R1].timestampValue);return new at(e.seconds,e.nanos)}class rI{constructor(e,n,r,o,c,h,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Lh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}function aI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(s.options.projectId,e)}const C1="__type__",oI="__max__",gh={mapValue:{}},I1="__vector__",Uh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zp(s)?4:cI(s)?9007199254740991:lI(s)?10:11:be(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const n=gr(s);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return hc(s).isEqual(hc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=mr(o.timestampValue),p=mr(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return pr(o.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),p=bt(c.doubleValue);return h===p?Ph(h)===Ph(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return To(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Kv(h)!==Kv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Fi(h[g],p[g])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function fc(s,e){return(s.values||[]).find((n=>Fi(n,e)))!==void 0}function wo(s,e){if(s===e)return 0;const n=gr(s),r=gr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=bt(c.integerValue||c.doubleValue),g=bt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Yv(s.timestampValue,e.timestampValue);case 4:return Yv(hc(s),hc(e));case 5:return fp(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=pr(c),g=pr(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Le(p[y],g[y]);if(x!==0)return x}return Le(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Le(bt(c.latitude),bt(h.latitude));return p!==0?p:Le(bt(c.longitude),bt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Xv(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Uh]?.arrayValue,x=g[Uh]?.arrayValue,E=Le(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Xv(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===gh.mapValue&&h===gh.mapValue)return 0;if(c===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const A=fp(g[E],x[E]);if(A!==0)return A;const M=wo(p[g[E]],y[x[E]]);if(M!==0)return M}return Le(g.length,x.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Yv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=mr(s),r=mr(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function Xv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=wo(n[o],r[o]);if(c)return c}return Le(n.length,r.length)}function Ao(s){return mp(s)}function mp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return pr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=mp(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${mp(n.fields[h])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function wh(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(s);return e?16+wh(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+wh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return xr(r.fields,((c,h)=>{o+=c.length+wh(h)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function Jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pp(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function Wv(s){return!!s&&"nullValue"in s}function Zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ah(s){return!!s&&"mapValue"in s}function lI(s){return(s?.mapValue?.fields||{})[C1]?.stringValue===I1}function tc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(s.arrayValue.values[n]);return e}return{...s}}function cI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===oI}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=tc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new ln(tc(this.value))}}function j1(s){const e=[];return xr(s.fields,((n,r)=>{const o=new Yt([n]);if(Ah(r)){const c=j1(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class Bt{constructor(e,n,r,o,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Bt(e,0,Ee.min(),Ee.min(),Ee.min(),ln.empty(),0)}static newFoundDocument(e,n,r,o){return new Bt(e,1,n,Ee.min(),r,o,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ee.min(),Ee.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ee.min(),Ee.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function eb(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],h=s.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(h.referenceValue),n.key):r=wo(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function tb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Fi(s.position[n],e.position[n]))return!1;return!0}class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class D1{}class jt extends D1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dI(e,n,r):n==="array-contains"?new pI(e,r):n==="in"?new gI(e,r):n==="not-in"?new yI(e,r):n==="array-contains-any"?new _I(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fI(e,r):new mI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends D1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return k1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(s){return s.op==="and"}function O1(s){return hI(s)&&k1(s)}function hI(s){for(const e of s.filters)if(e instanceof hi)return!1;return!0}function gp(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(O1(s))return s.filters.map((e=>gp(e))).join(",");{const e=s.filters.map((n=>gp(n))).join(",");return`${s.op}(${e})`}}function M1(s,e){return s instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Fi(r.value,o.value)})(s,e):s instanceof hi?(function(r,o){return o instanceof hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,p)=>c&&M1(h,o.filters[p])),!0):!1})(s,e):void be(19439)}function V1(s){return s instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(s):s instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"})(s):"Filter"}class dI extends jt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class fI extends jt{constructor(e,n){super(e,"in",n),this.keys=P1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=P1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P1(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class pI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eg(n)&&fc(n.arrayValue,this.value)}}class gI extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class yI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class _I extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fc(this.value.arrayValue,r)))}}class vI{constructor(e,n=null,r=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function nb(s,e=null,n=[],r=[],o=null,c=null,h=null){return new vI(s,e,n,r,o,c,h)}function tg(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>gp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ao(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ao(r))).join(",")),e.Te=n}return e.Te}function ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!uI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!M1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!tb(s.startAt,e.startAt)&&tb(s.endAt,e.endAt)}function yp(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ko{constructor(e,n=null,r=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bI(s,e,n,r,o,c,h,p){return new ko(s,e,n,r,o,c,h,p)}function gd(s){return new ko(s)}function ib(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xI(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function L1(s){return s.collectionGroup!==null}function nc(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Vt(Yt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new mc(c,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new mc(Yt.keyField(),r))}return e.Ie}function Ui(s){const e=Ae(s);return e.Ee||(e.Ee=EI(e,nc(s))),e.Ee}function EI(s,e){if(s.limitType==="F")return nb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new mc(o.field,c)}));const n=s.endAt?new zh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new zh(s.startAt.position,s.startAt.inclusive):null;return nb(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function _p(s,e){const n=s.filters.concat([e]);return new ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function TI(s,e){const n=s.explicitOrderBy.concat([e]);return new ko(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function vp(s,e,n){return new ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function yd(s,e){return ng(Ui(s),Ui(e))&&s.limitType===e.limitType}function U1(s){return`${tg(Ui(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>V1(o))).join(", ")}]`),Nc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function _d(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of nc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const y=eb(h,p,g);return h.inclusive?y<=0:y<0})(r.startAt,nc(r),o)||r.endAt&&!(function(h,p,g){const y=eb(h,p,g);return h.inclusive?y>=0:y>0})(r.endAt,nc(r),o))})(s,e)}function wI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function z1(s){return(e,n)=>{let r=!1;for(const o of nc(s)){const c=AI(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function AI(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?wo(g,y):be(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}const SI=new dt(ye.comparator);function ys(){return SI}const B1=new dt(ye.comparator);function Jl(...s){let e=B1;for(const n of s)e=e.insert(n.key,n);return e}function q1(s){let e=B1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ia(){return ic()}function F1(){return ic()}function ic(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const NI=new dt(ye.comparator),RI=new Vt(ye.comparator);function Ue(...s){let e=RI;for(const n of s)e=e.add(n);return e}const CI=new Vt(Le);function II(){return CI}function ig(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function H1(s){return{integerValue:""+s}}function jI(s,e){return tI(e)?H1(e):ig(s,e)}class vd{constructor(){this._=void 0}}function DI(s,e,n){return s instanceof Bh?(function(o,c){const h={fields:{[S1]:{stringValue:A1},[R1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=pd(c)),c&&(h.fields[N1]=c),{mapValue:h}})(n,e):s instanceof pc?$1(s,e):s instanceof gc?K1(s,e):(function(o,c){const h=G1(o,c),p=sb(h)+sb(o.Ae);return pp(h)&&pp(o.Ae)?H1(p):ig(o.serializer,p)})(s,e)}function kI(s,e,n){return s instanceof pc?$1(s,e):s instanceof gc?K1(s,e):n}function G1(s,e){return s instanceof qh?(function(r){return pp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Bh extends vd{}class pc extends vd{constructor(e){super(),this.elements=e}}function $1(s,e){const n=Q1(e);for(const r of s.elements)n.some((o=>Fi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class gc extends vd{constructor(e){super(),this.elements=e}}function K1(s,e){let n=Q1(e);for(const r of s.elements)n=n.filter((o=>!Fi(o,r)));return{arrayValue:{values:n}}}class qh extends vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sb(s){return bt(s.integerValue||s.doubleValue)}function Q1(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function OI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof pc&&o instanceof pc||r instanceof gc&&o instanceof gc?To(r.elements,o.elements,Fi):r instanceof qh&&o instanceof qh?Fi(r.Ae,o.Ae):r instanceof Bh&&o instanceof Bh})(s.transform,e.transform)}class MI{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bd{}function Y1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new xd(s.key,cn.none()):new Rc(s.key,s.data,cn.none());{const n=s.data,r=ln.empty();let o=new Vt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Er(s.key,r,new Rn(o.toArray()),cn.none())}}function VI(s,e,n){s instanceof Rc?(function(o,c,h){const p=o.value.clone(),g=ab(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Er?(function(o,c,h){if(!Sh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=ab(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(X1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function sc(s,e,n,r){return s instanceof Rc?(function(c,h,p,g){if(!Sh(c.precondition,h))return p;const y=c.value.clone(),x=ob(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Er?(function(c,h,p,g){if(!Sh(c.precondition,h))return p;const y=ob(c.fieldTransforms,g,h),x=h.data;return x.setAll(X1(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(c,h,p){return Sh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function PI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=G1(r.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(r.field,c))}return n||null}function rb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&To(r,o,((c,h)=>OI(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Rc extends bd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends bd{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function X1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function ab(s,e,n){const r=new Map;Fe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],h=c.transform,p=e.data.field(c.field);r.set(c.field,kI(h,p,n[o]))}return r}function ob(s,e,n){const r=new Map;for(const o of s){const c=o.transform,h=n.data.field(o.field);r.set(o.field,DI(c,h,e))}return r}class xd extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J1 extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&VI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=Y1(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,r)=>rb(n,r)))&&To(this.baseMutations,e.baseMutations,((n,r)=>rb(n,r)))}}class sg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return NI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new sg(e,n,r,o)}}class UI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,qe;function W1(s){switch(s){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function Z1(s){if(s===void 0)return gs("GRPC error has no .code"),X.UNKNOWN;switch(s){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:s})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function BI(){return new TextEncoder}const qI=new or([4294967295,4294967295],0);function lb(s){const e=BI().encode(s),n=new d1;return n.update(e),new Uint8Array(n.digest())}function cb(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new or([n,r],0),new or([o,c],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(or.fromNumber(r)));return o.compare(qI)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lb(e),[r,o]=cb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new rg(c,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=lb(e),[r,o]=cb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ed{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(Ee.min(),o,new dt(Le),ys(),Ue())}}class Cc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,Ue(),Ue(),Ue())}}class Nh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class eE{constructor(e,n){this.targetId=e,this.Ce=n}}class tE{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class ub{constructor(){this.ve=0,this.Fe=hb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:be(38017,{changeType:c})}})),new Cc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=hb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.He=yh(),this.Je=yh(),this.Ze=new dt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(yp(c))if(r===0){const h=new ye(c.path);this.et(n,h,Bt.newNoDocument(h,Ee.min()))}else Fe(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=pr(r).toUint8Array()}catch(g){if(g instanceof w1)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new rg(h,o,c)}catch(g){return Eo(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&yp(p.target)){const g=new ye(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Bt.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let r=Ue();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Ed(e,n,this.Ze,this.je,r);return this.je=ys(),this.He=yh(),this.Je=yh(),this.Ze=new dt(Le),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ub,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ub),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new dt(ye.comparator)}function hb(){return new dt(ye.comparator)}const HI={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(s,e){return s.useProto3Json||Nc(e)?e:{value:e}}function Fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QI(s,e){return Fh(s,e.toTimestamp())}function Cn(s){return Fe(!!s,49232),Ee.fromTimestamp((function(n){const r=mr(n);return new at(r.seconds,r.nanos)})(s))}function ag(s,e){return xp(s,e).canonicalString()}function xp(s,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function iE(s){const e=nt.fromString(s);return Fe(cE(e),10190,{key:e.toString()}),e}function Hh(s,e){return ag(s.databaseId,e.path)}function rc(s,e){const n=iE(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(rE(n))}function sE(s,e){return ag(s.databaseId,e)}function YI(s){const e=iE(s);return e.length===4?nt.emptyPath():rE(e)}function Ep(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rE(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function db(s,e,n){return{name:Hh(s,e),fields:n.value.mapValue.fields}}function XI(s,e){return"found"in e?(function(r,o){Fe(!!o.found,43571),o.found.name,o.found.updateTime;const c=rc(r,o.found.name),h=Cn(o.found.updateTime),p=o.found.createTime?Cn(o.found.createTime):Ee.min(),g=new ln({mapValue:{fields:o.found.fields}});return Bt.newFoundDocument(c,h,p,g)})(s,e):"missing"in e?(function(r,o){Fe(!!o.missing,3894),Fe(!!o.readTime,22933);const c=rc(r,o.missing),h=Cn(o.readTime);return Bt.newNoDocument(c,h)})(s,e):be(7234,{result:e})}function JI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Fe(x===void 0||typeof x=="string",58123),Xt.fromBase64String(x||"")):(Fe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Xt.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?X.UNKNOWN:Z1(y.code);return new oe(x,y.message||"")})(h);n=new tE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rc(s,r.document.name),c=Cn(r.document.updateTime),h=r.document.createTime?Cn(r.document.createTime):Ee.min(),p=new ln({mapValue:{fields:r.document.fields}}),g=Bt.newFoundDocument(o,c,h,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Nh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rc(s,r.document),c=r.readTime?Cn(r.readTime):Ee.min(),h=Bt.newNoDocument(o,c),p=r.removedTargetIds||[];n=new Nh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rc(s,r.document),c=r.removedTargetIds||[];n=new Nh([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new zI(o,c),p=r.targetId;n=new eE(p,h)}}return n}function aE(s,e){let n;if(e instanceof Rc)n={update:db(s,e.key,e.value)};else if(e instanceof xd)n={delete:Hh(s,e.key)};else if(e instanceof Er)n={update:db(s,e.key,e.data),updateMask:a4(e.fieldMask)};else{if(!(e instanceof J1))return be(16599,{dt:e.type});n={verify:Hh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof Bh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof pc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof qh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),n}function WI(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(o,c){let h=o.updateTime?Cn(o.updateTime):Cn(c);return h.isEqual(Ee.min())&&(h=Cn(c)),new MI(h,o.transformResults||[])})(n,e)))):[]}function ZI(s,e){return{documents:[sE(s,e.path)]}}function e4(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sE(s,o);const c=(function(y){if(y.length!==0)return lE(hi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(A){return{field:uo(A.field),direction:i4(A.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=bp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function t4(s){let e=YI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const A=oE(E);return A instanceof hi&&O1(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((A=>(function($){return new mc(ho($.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Nc(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,M=E.values||[];return new zh(M,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,M=E.values||[];return new zh(M,A)})(n.endAt)),bI(e,o,h,c,p,"F",g,y)}function n4(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(n){return jt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((r=>oE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(s):be(30097,{filter:s})}function i4(s){return HI[s]}function s4(s){return GI[s]}function r4(s){return $I[s]}function uo(s){return{fieldPath:s.canonicalString()}}function ho(s){return Yt.fromServerFormat(s.fieldPath)}function lE(s){return s instanceof jt?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:s4(n.op),value:n.value}}})(s):s instanceof hi?(function(n){const r=n.getFilters().map((o=>lE(o)));return r.length===1?r[0]:{compositeFilter:{op:r4(n.op),filters:r}}})(s):be(54877,{filter:s})}function a4(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(e,n,r,o,c=Ee.min(),h=Ee.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o4{constructor(e){this.yt=e}}function l4(s){const e=t4({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vp(e,e.limit,"L"):e}class c4{constructor(){this.Sn=new u4}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class u4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(nt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(hE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const mb="LruGarbageCollector",h4=1048576;function pb([s,e],[n,r]){const o=Le(s,n);return o===0?Le(e,r):o}class d4{constructor(e){this.Pr=e,this.buffer=new Vt(pb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ce(mb,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ar(3e5)}))}}class m4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(md.ce);const r=new d4(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(fb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),lo()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function p4(s,e){return new m4(s,e)}class g4{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&sc(r.mutation,o,Rn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=Jl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ia();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let c=ys();const h=ic(),p=(function(){return ic()})();return n.forEach(((g,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Er)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),sc(x.mutation,y,x.mutation.getFieldMask(),at.now())):h.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new y4(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=ic();let o=new dt(((h,p)=>h-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Rn.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=F1();x.forEach((A=>{if(!c.has(A)){const M=Y1(n.get(A),r.get(A));M!==null&&E.set(A,M),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return xI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):te.resolve(ia());let p=uc,g=c;return h.next((y=>te.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((x=>({batchId:p,changes:q1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,A){return new ko(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((E,A)=>{h=h.insert(E,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,Bt.newInvalidDocument(x)))}));let p=Jl();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&sc(x.mutation,y,Rn.empty(),at.now()),_d(n,y)&&(p=p.insert(g,y))})),p}))}}class v4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Cn(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:l4(o.bundledQuery),readTime:Cn(o.readTime)}})(n)),te.resolve()}}class b4{constructor(){this.overlays=new dt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=ia(),c=n.length+1,h=new ye(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new dt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=ia(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ia(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return te.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new UI(n,r));let c=this.Lr.get(n);c===void 0&&(c=Ue(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class x4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class og{constructor(){this.kr=new Vt(zt.Kr),this.qr=new Vt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ye(new nt([])),r=new zt(n,e),o=new zt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new nt([])),r=new zt(n,e),o=new zt(n,e+1);let c=Ue();return this.qr.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class E4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(zt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new LI(c,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Wp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Le);return n.forEach((o=>{const c=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{r=r.add(p.Hr)}))})),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const h=new zt(new ye(c),0);let p=new Vt(Le);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),te.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Jr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class T4{constructor(e){this.ti=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Bt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ys();const h=n.path,p=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||JC(XC(x),r)<=0||(o.has(x.key)||_d(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,r,o){be(9500)}ni(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new w4(this)}getSize(e){return te.resolve(this.size)}}class w4 extends g4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class A4{constructor(e){this.persistence=e,this.ri=new pa((n=>tg(n)),ng),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new og,this.targetCount=0,this.oi=So._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new So(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class dE{constructor(e,n){this._i={},this.overlays={},this.ai=new md(0),this.ui=!1,this.ui=!0,this.ci=new x4,this.referenceDelegate=e(this),this.li=new A4(this),this.indexManager=new c4,this.remoteDocumentCache=(function(o){return new T4(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new o4(n),this.Pi=new v4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new E4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new S4(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class S4 extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.fi=new pa((r=>nI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=p4(this,n)}static Vi(e,n){return new Gh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(r++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}wr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new cg(e,n.fromCache,r,o)}}class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vR()?8:eI(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new N4;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(lo()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(lo()<=Pe.DEBUG&&ce("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(lo()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):te.resolve())}gs(e,n){if(ib(n))return te.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=vp(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=Ue(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,vp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return ib(n)||o.isEqual(Ee.min())?te.resolve(null):this.fs.getDocuments(e,r).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,r,o)?te.resolve(null):(lo()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.Ds(e,h,n,YC(o,uc)).next((p=>p)))}))}bs(e,n){let r=new Vt(z1(e));return n.forEach(((o,c)=>{_d(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return lo()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",co(n)),this.fs.getDocumentsMatchingQuery(e,n,fr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const ug="LocalStore",C4=3e8;class I4{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new dt(Le),this.Fs=new pa((c=>tg(c)),ng),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function j4(s,e,n,r){return new I4(s,e,n,r)}async function fE(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function D4(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,A=E.keys();let M=te.resolve();return A.forEach(($=>{M=M.next((()=>x.getEntry(g,$))).next((G=>{const q=y.docVersions.get($);Fe(q!==null,48541),G.version.compareTo(q)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),x.addEntry(G)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function mE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function k4(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const A=o.get(E);if(!A)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let M=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,r)),o=o.insert(E,M),(function(G,q,ne){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=C4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,M,x)&&p.push(n.li.updateTargetData(c,M))}));let g=ys(),y=Ue();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(O4(c,h,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Ee.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function O4(s,e,n){let r=Ue(),o=Ue();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let h=ys();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ce(ug,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function M4(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function V4(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new sr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Tp(s,e,n){const r=Ae(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Do(h))throw h;ce(ug,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function gb(s,e,n){const r=Ae(s);let o=Ee.min(),c=Ue();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Ae(g),A=E.Fs.get(x);return A!==void 0?te.resolve(E.vs.get(A)):E.li.getTargetData(y,x)})(r,h,Ui(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?c:Ue()))).next((p=>(P4(r,wI(e),p),{documents:p,ks:c})))))}function P4(s,e,n){let r=s.Ms.get(e)||Ee.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class yb{constructor(){this.activeTargetIds=II()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.vo=new yb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U4{Mo(e){}shutdown(){}}const _b="ConnectivityMonitor";class vb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(_b,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(_b,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function wp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const Qm="RestConnection",z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class B4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const h=wp(),p=this.Qo(e,n.toUriEncodedString());ce(Qm,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=br(y);return this.zo(e,p,g,r,x).then((E=>(ce(Qm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Eo(Qm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",r),E}))}jo(e,n,r,o,c,h){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=z4[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class q4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Gl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends B4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=g1();Gl(e,p1.STAT_EVENT,(n=>{n.stat===dp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===dp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,n,r,o,c){const h=wp();return new Promise(((p,g)=>{const y=new f1;y.setWithCredentials(!0),y.listenOnce(m1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Th.NO_ERROR:const E=y.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Th.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=y.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const $=M?.error;if($&&$.status&&$.message){const G=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ee)>=0?ee:X.UNKNOWN})($.status);g(new oe(G,$.message))}else g(new oe(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=wp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=c.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=h.createWebChannel(y,p);this.I_(x);let E=!1,A=!1;const M=new q4({Ho:$=>{A?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(E||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),ce(en,`RPC '${e}' stream ${o} sending:`,$),x.send($))},Jo:()=>x.close()});return Gl(x,Xl.EventType.OPEN,(()=>{A||(ce(en,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),Gl(x,Xl.EventType.CLOSE,(()=>{A||(A=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(x))})),Gl(x,Xl.EventType.ERROR,($=>{A||(A=!0,Eo(en,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),M.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Gl(x,Xl.EventType.MESSAGE,($=>{if(!A){const G=$.data[0];Fe(!!G,16349);const q=G,ne=q?.error||q[0]?.error;if(ne){ce(en,`RPC '${e}' stream ${o} received error:`,ne);const ee=ne.status;let re=(function(me){const N=It[me];if(N!==void 0)return Z1(N)})(ee),se=ne.message;re===void 0&&(re=X.INTERNAL,se="Unknown error status: "+ee+" with message "+ne.message),A=!0,M.o_(new oe(re,se)),x.close()}else ce(en,`RPC '${e}' stream ${o} received:`,G),M.__(G)}})),yo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y1()}}function F4(s){return new yo(s)}function Ym(){return typeof document<"u"?document:null}function Td(s){return new KI(s,!0)}yo.c_=!1;class hg{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bb="PersistentStream";class pE{constructor(e,n,r,o,c,h,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H4 extends pE{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Cn(h.readTime):Ee.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Ep(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=yp(g)?{documents:ZI(c,g)}:{query:e4(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=nE(c,h.resumeToken);const y=bp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=Fh(c,h.snapshotVersion.toTimestamp());const y=bp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=n4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Ep(this.serializer),n.removeTarget=e,this.K_(n)}}class G4 extends pE{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WI(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ep(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>aE(this.serializer,r)))};this.K_(n)}}class $4{}class K4 extends $4{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,xp(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,xp(n,r),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Q4(s,e,n,r){return new K4(s,e,n,r)}class Y4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class X4{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{ga(this)&&(ce(ca,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await Ic(y),y.Va.set("Unknown"),y.Ea.delete(4),await wd(y)})(this))}))})),this.Va=new Y4(r,o)}}async function wd(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function Ic(s){for(const e of s.Ra)await e(!1)}function gE(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?mg(n):Oo(n).O_()&&fg(n,e))}function dg(s,e){const n=Ae(s),r=Oo(n);n.Ia.delete(e),r.O_()&&yE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ga(n)&&n.Va.set("Unknown"))}function fg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(s).Z_(e)}function yE(s,e){s.da.$e(e),Oo(s).X_(e)}function mg(s){s.da=new FI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Oo(s).start(),s.Va.ua()}function pg(s){return ga(s)&&!Oo(s).x_()&&s.Ia.size>0}function ga(s){return Ae(s).Ea.size===0}function _E(s){s.da=void 0}async function J4(s){s.Va.set("Online")}async function W4(s){s.Ia.forEach(((e,n)=>{fg(s,e)}))}async function Z4(s,e){_E(s),pg(s)?(s.Va.ha(e),mg(s)):s.Va.set("Unknown")}async function ej(s,e,n){if(s.Va.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ce(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $h(s,r)}else if(e instanceof Nh?s.da.Xe(e):e instanceof eE?s.da.st(e):s.da.tt(e),!n.isEqual(Ee.min()))try{const r=await mE(s.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),yE(c,g);const E=new sr(x.target,g,y,x.sequenceNumber);fg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ce(ca,"Failed to raise snapshot:",r),await $h(s,r)}}async function $h(s,e,n){if(!Do(e))throw e;s.Ea.add(1),await Ic(s),s.Va.set("Offline"),n||(n=()=>mE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ca,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await wd(s)}))}function vE(s,e){return e().catch((n=>$h(s,n,e)))}async function Ad(s){const e=Ae(s),n=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;tj(e);)try{const o=await M4(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,nj(e,o)}catch(o){await $h(e,o)}bE(e)&&xE(e)}function tj(s){return ga(s)&&s.Ta.length<10}function nj(s,e){s.Ta.push(e);const n=yr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function bE(s){return ga(s)&&!yr(s).x_()&&s.Ta.length>0}function xE(s){yr(s).start()}async function ij(s){yr(s).ra()}async function sj(s){const e=yr(s);for(const n of s.Ta)e.ea(n.mutations)}async function rj(s,e,n){const r=s.Ta.shift(),o=sg.from(r,e,n);await vE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ad(s)}async function aj(s,e){e&&yr(s).Y_&&await(async function(r,o){if((function(h){return W1(h)&&h!==X.ABORTED})(o.code)){const c=r.Ta.shift();yr(r).B_(),await vE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ad(r)}})(s,e),bE(s)&&xE(s)}async function xb(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),ce(ca,"RemoteStore received new credentials");const r=ga(n);n.Ea.add(3),await Ic(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wd(n)}async function oj(s,e){const n=Ae(s);e?(n.Ea.delete(2),await wd(n)):e||(n.Ea.add(2),await Ic(n),n.Va.set("Unknown"))}function Oo(s){return s.ma||(s.ma=(function(n,r,o){const c=Ae(n);return c.sa(),new H4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:J4.bind(null,s),Yo:W4.bind(null,s),t_:Z4.bind(null,s),J_:ej.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pg(s)?mg(s):s.Va.set("Unknown")):(await s.ma.stop(),_E(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(n,r,o){const c=Ae(n);return c.sa(),new G4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ij.bind(null,s),t_:aj.bind(null,s),ta:sj.bind(null,s),na:rj.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ad(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,p=new gg(e,n,h,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,e){if(gs("AsyncQueue",`${e}: ${s}`),Do(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Eb{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class No{constructor(e,n,r,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new No(e,n,_o.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class lj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class cj{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),c=o.queries;o.queries=Tb(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function Tb(){return new pa((s=>U1(s)),yd)}async function _g(s,e){const n=Ae(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new lj,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=yg(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&bg(n)}async function vg(s,e){const n=Ae(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uj(s,e){const n=Ae(s);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(r=!0);h.wa=o}}r&&bg(n)}function hj(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function bg(s){s.Ca.forEach((e=>{e.next()}))}var Ap,wb;(wb=Ap||(Ap={})).Ma="default",wb.Cache="cache";class xg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ap.Cache}}class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class dj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=z1(e),this.tu=new _o(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Eb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const A=o.get(x),M=_d(this.query,E)?E:null,$=!!A&&this.mutatedKeys.has(A.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;A&&M?A.data.isEqual(M.data)?$!==G&&(r.track({type:3,doc:M}),q=!0):this.su(A,M)||(r.track({type:2,doc:M}),q=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!A&&M?(r.track({type:0,doc:M}),q=!0):A&&!M&&(r.track({type:1,doc:A}),q=!0,(g||y)&&(p=!0)),q&&(M?(h=h.add(M),c=G?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:h,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(M,$){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:q})}};return G(M)-G($)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new No(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Eb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new TE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new EE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Eg="SyncEngine";class fj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mj{constructor(e){this.key=e,this.hu=!1}}class pj{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new pa((p=>U1(p)),yd),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(ye.comparator),this.Au=new Map,this.Vu=new og,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gj(s,e,n=!0){const r=CE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await wE(r,e,n,!0),o}async function yj(s,e){const n=CE(s);await wE(n,e,!0,!1)}async function wE(s,e,n,r){const o=await V4(s.localStore,Ui(e)),c=o.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await _j(s,e,c,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&gE(s.remoteStore,o),p}async function _j(s,e,n,r,o){s.pu=(E,A,M)=>(async function(G,q,ne,ee){let re=q.view.ru(ne);re.Ss&&(re=await gb(G.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,re))));const se=ee&&ee.targetChanges.get(q.targetId),he=ee&&ee.targetMismatches.get(q.targetId)!=null,me=q.view.applyChanges(re,G.isPrimaryClient,se,he);return Sb(G,q.targetId,me.au),me.snapshot})(s,E,A,M);const c=await gb(s.localStore,e,!0),h=new dj(e,c.ks),p=h.ru(c.documents),g=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=h.applyChanges(p,s.isPrimaryClient,g);Sb(s,n,y.au);const x=new fj(e,n,h);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function vj(s,e,n){const r=Ae(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!yd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&dg(r.remoteStore,o.targetId),Sp(r,o.targetId)})).catch(jo)):(Sp(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function bj(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dg(n.remoteStore,r.targetId))}async function xj(s,e,n){const r=Rj(s);try{const o=await(function(h,p){const g=Ae(h),y=at.now(),x=p.reduce(((M,$)=>M.add($.key)),Ue());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let $=ys(),G=Ue();return g.xs.getEntries(M,x).next((q=>{$=q,$.forEach(((ne,ee)=>{ee.isValidDocument()||(G=G.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,$))).next((q=>{E=q;const ne=[];for(const ee of p){const re=PI(ee,E.get(ee.key).overlayedDocument);re!=null&&ne.push(new Er(ee.key,re,j1(re.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,ne,p)})).next((q=>{A=q;const ne=q.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(M,q.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:q1(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new dt(Le)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(r,o.batchId,n),await jc(r,o.changes),await Ad(r.remoteStore)}catch(o){const c=yg(o,"Failed to persist write");n.reject(c)}}async function AE(s,e){const n=Ae(s);try{const r=await k4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await jc(n,r,e)}catch(r){await jo(r)}}function Ab(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ae(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const A of E.ba)A.va(p)&&(y=!0)})),y&&bg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ej(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new dt(ye.comparator);h=h.insert(c,Bt.newNoDocument(c,Ee.min()));const p=Ue().add(c),g=new Ed(Ee.min(),new Map,new dt(Le),h,p);await AE(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),Tg(r)}else await Tp(r.localStore,e,!1).then((()=>Sp(r,e,n))).catch(jo)}async function Tj(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await D4(n.localStore,e);NE(n,r,null),SE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jc(n,o)}catch(o){await jo(o)}}async function wj(s,e,n){const r=Ae(s);try{const o=await(function(h,p){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Fe(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);NE(r,e,n),SE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jc(r,o)}catch(o){await jo(o)}}function SE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function NE(s,e,n){const r=Ae(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||RE(s,r)}))}function RE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(dg(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Tg(s))}function Sb(s,e,n){for(const r of n)r instanceof EE?(s.Vu.addReference(r.key,e),Aj(s,r)):r instanceof TE?(ce(Eg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||RE(s,r.key)):be(19791,{wu:r})}function Aj(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ce(Eg,"New document in limbo: "+n),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new mj(n)),s.Ru=s.Ru.insert(n,r),gE(s.remoteStore,new sr(Ui(gd(n.path)),r,"TargetPurposeLimboResolution",md.ce))}}async function jc(s,e,n){const r=Ae(s),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=cg.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(g,y){const x=Ae(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(A=>te.forEach(A.Ts,(M=>x.persistence.referenceDelegate.addReference(E,A.targetId,M))).next((()=>te.forEach(A.Is,(M=>x.persistence.referenceDelegate.removeReference(E,A.targetId,M)))))))))}catch(E){if(!Do(E))throw E;ce(ug,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const M=x.vs.get(A),$=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion($);x.vs=x.vs.insert(A,G)}}})(r.localStore,c))}async function Sj(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){ce(Eg,"User change. New user:",e.toKey());const r=await fE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(X.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(n,r.Ns)}}function Nj(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function CE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ej.bind(null,e),e.Pu.J_=uj.bind(null,e.eventManager),e.Pu.yu=hj.bind(null,e.eventManager),e}function Rj(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j4(this.persistence,new R4,e.initialUser,this.serializer)}Cu(e){return new dE(lg.Vi,this.serializer)}Du(e){return new L4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class Cj extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new dE((r=>Gh.Vi(r,n)),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ab(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,this.syncEngine),await oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cj})()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=F4(e.databaseInfo);return Q4(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,p){return new X4(r,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ab(this.syncEngine,n,0)),(function(){return vb.v()?new vb:new U4})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,x){const E=new pj(o,c,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ce(ca,"RemoteStore shutting down."),r.Ea.add(5),await Ic(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let Ij=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const h=Ae(o),p={documents:c.map((E=>Hh(h.serializer,E)))},g=await h.jo("BatchGetDocuments",h.serializer.databaseId,nt.emptyPath(),p,c.length),y=new Map;g.forEach((E=>{const A=XI(h.serializer,E);y.set(A.key.toString(),A)}));const x=[];return c.forEach((E=>{const A=y.get(E.toString());Fe(!!A,55234,{key:E}),x.push(A)})),x})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=ye.fromPath(r);this.mutations.push(new J1(o,this.precondition(o)))})),await(async function(r,o){const c=Ae(r),h={writes:o.map((p=>aE(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,nt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw be(50498,{Gu:e.constructor.name});n=Ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new oe(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new oe(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class jj{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.zu=r.maxAttempts,this.M_=new hg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Ij(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Nc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!W1(n)}return!1}}const _r="FirestoreClient";class Dj{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{ce(_r,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ce(_r,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(_r,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Nb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await kj(s);ce(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>xb(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>xb(e.remoteStore,o))),s._onlineComponents=e}async function kj(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(_r,"Using user provided OfflineComponentProvider");try{await Xm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Xm(s,new Kh)}}else ce(_r,"Using default OfflineComponentProvider"),await Xm(s,new Cj(void 0));return s._offlineComponents}async function Ag(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(_r,"Using user provided OnlineComponentProvider"),await Nb(s,s._uninitializedComponentsProvider._online)):(ce(_r,"Using default OnlineComponentProvider"),await Nb(s,new Np))),s._onlineComponents}function Oj(s){return Ag(s).then((e=>e.syncEngine))}function Mj(s){return Ag(s).then((e=>e.datastore))}async function Qh(s){const e=await Ag(s),n=e.eventManager;return n.onListen=gj.bind(null,e.syncEngine),n.onUnlisten=vj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n}function Vj(s,e,n,r){const o=new wg(r),c=new xg(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>_g(await Qh(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>vg(await Qh(s),c)))}}function Pj(s,e,n={}){const r=new Li;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new wg({next:A=>{x.Nu(),h.enqueueAndForget((()=>vg(c,E)));const M=A.docs.has(p);!M&&A.fromCache?y.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&g&&g.source==="server"?y.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new xg(gd(p.path),x,{includeMetadataChanges:!0,Ka:!0});return _g(c,E)})(await Qh(s),s.asyncQueue,e,n,r))),r.promise}function Lj(s,e,n={}){const r=new Li;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new wg({next:A=>{x.Nu(),h.enqueueAndForget((()=>vg(c,E))),A.fromCache&&g.source==="server"?y.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new xg(p,x,{includeMetadataChanges:!0,Ka:!0});return _g(c,E)})(await Qh(s),s.asyncQueue,e,n,r))),r.promise}function Uj(s,e){const n=new Li;return s.asyncQueue.enqueueAndForget((async()=>xj(await Oj(s),e,n))),n.promise}function zj(s,e,n){const r=new Li;return s.asyncQueue.enqueueAndForget((async()=>{const o=await Mj(s);new jj(s.asyncQueue,o,n,e,r).ju()})),r.promise}function IE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Bj="ComponentProvider",Rb=new Map;function qj(s,e,n,r,o){return new rI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const jE="firestore.googleapis.com",Cb=!0;class Ib{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h4)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LC;switch(r.type){case"firstParty":return new qC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Rb.get(n);r&&(ce(Bj,"Removing Datastore"),Rb.delete(n),r.terminate())})(this),Promise.resolve()}}function Fj(s,e,n,r={}){s=$n(s,Sd);const o=br(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(Gp(`https://${p}`),$p("Firestore",!0)),c.host!==jE&&c.host!==p&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!aa(g,h)&&(s._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=tn.MOCK_USER;else{y=a1(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tn(E)}s._authCredentials=new UC(new v1(y,x))}}class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Sc(n,pt._jsonSchema))return new pt(e,r||null,new ye(nt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Dt("string",pt._jsonSchemaVersion),referencePath:Dt("string")};class lr extends Tr{constructor(e,n,r){super(e,n,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function yc(s,e,...n){if(s=ht(s),b1("collection","path",e),s instanceof Sd){const r=nt.fromString(e,...n);return Fv(r),new lr(s,null,r)}{if(!(s instanceof pt||s instanceof lr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return Fv(r),new lr(s.firestore,null,r)}}function ci(s,e,...n){if(s=ht(s),arguments.length===1&&(e=Jp.newId()),b1("doc","path",e),s instanceof Sd){const r=nt.fromString(e,...n);return qv(r),new pt(s,null,new ye(r))}{if(!(s instanceof pt||s instanceof lr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return qv(r),new pt(s.firestore,s instanceof lr?s.converter:null,new ye(r))}}const jb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hg(this,"async_queue_retry"),this._c=()=>{const r=Ym();r&&ce(jb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;ce(jb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",kb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class vr extends Sd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Db,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function Hj(s,e){const n=typeof s=="object"?s:Yp(),r=typeof s=="string"?s:Lh,o=dd(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=i1("firestore");c&&Fj(o,...c)}return o}function Dc(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Gj(s),s._firestoreClient}function Gj(s){const e=s._freezeSettings(),n=qj(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Dj(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Xt.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Dt("string",Nn._jsonSchemaVersion),bytes:Dt("string")};class Nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Dt("string",zi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ui(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Dt("string",ui._jsonSchemaVersion),vectorValues:Dt("object")};const $j=/^__.*__$/;class Kj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class DE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Ng{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kE(this.dataSource)&&$j.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Qj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}createContext(e,n,r,o=!1){return new Ng({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(s){const e=s._freezeSettings(),n=Td(s._databaseId);return new Qj(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Yj(s,e,n,r,o,c={}){const h=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Cg("Data must be an object, but it was:",h,r);const p=VE(r,h);let g,y;if(c.merge)g=new Rn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const A=ua(e,E,n);if(!h.contains(A))throw new oe(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);UE(x,A)||x.push(A)}g=new Rn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new Kj(new ln(p),g,y)}class kc extends Sg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function OE(s,e,n,r){const o=s.createContext(1,e,n);Cg("Data must be an object, but it was:",o,r);const c=[],h=ln.empty();xr(r,((g,y)=>{const x=LE(e,g,n);y=ht(y);const E=o.childContextForFieldPath(x);if(y instanceof kc)c.push(x);else{const A=Oc(y,E);A!=null&&(c.push(x),h.set(x,A))}}));const p=new Rn(c);return new DE(h,p,o.fieldTransforms)}function ME(s,e,n,r,o,c){const h=s.createContext(1,e,n),p=[ua(e,r,n)],g=[o];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(ua(e,c[A])),g.push(c[A+1]);const y=[],x=ln.empty();for(let A=p.length-1;A>=0;--A)if(!UE(y,p[A])){const M=p[A];let $=g[A];$=ht($);const G=h.childContextForFieldPath(M);if($ instanceof kc)y.push(M);else{const q=Oc($,G);q!=null&&(y.push(M),x.set(M,q))}}const E=new Rn(y);return new DE(x,E,h.fieldTransforms)}function Xj(s,e,n,r=!1){return Oc(n,s.createContext(r?4:3,e))}function Oc(s,e){if(PE(s=ht(s)))return Cg("Unsupported field value:",e,s),VE(s,e);if(s instanceof Sg)return(function(r,o){if(!kE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const p of r){let g=Oc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:Fh(o.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:nE(o.serializer,r._byteString)};if(r instanceof pt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ui)return(function(h,p){const g=h instanceof ui?h.toArray():h;return{mapValue:{fields:{[C1]:{stringValue:I1},[Uh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return ig(p.serializer,x)}))}}}}}})(r,o);if(uE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${fd(r)}`)})(s,e)}function VE(s,e){const n={};return T1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((r,o)=>{const c=Oc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function PE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof zi||s instanceof Nn||s instanceof pt||s instanceof Sg||s instanceof ui||uE(s))}function Cg(s,e,n){if(!PE(n)||!x1(n)){const r=fd(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ua(s,e,n){if((e=ht(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return LE(s,e);throw Yh("Field path arguments must be of type string or ",s,!1,void 0,n)}const Jj=new RegExp("[~\\*/\\[\\]]");function LE(s,e,n){if(e.search(Jj)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Nd(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Yh(s,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new oe(X.INVALID_ARGUMENT,p+s+g)}function UE(s,e){return s.some((n=>n.isEqual(e)))}class zE{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new ui(n)}convertGeoPoint(e){return new zi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=mr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Fe(cE(r),9688,{name:e});const o=new dc(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(n)||gs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Rd extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function Wj(){return new kc("deleteField")}const Ob="@firebase/firestore",Mb="4.10.0";function Vb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Xh{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ua("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zj extends Xh{data(){return super.data()}}function BE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class qE extends Ig{}function jg(s,e,...n){let r=[];e instanceof Ig&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((g=>g instanceof Dg)).length,p=c.filter((g=>g instanceof Cd)).length;if(h>1||h>0&&p>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Cd extends qE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cd(e,n,r)}_apply(e){const n=this._parse(e);return FE(e._query,n),new Tr(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=Rg(e.firestore);return(function(c,h,p,g,y,x,E){let A;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Lb(E,x);const $=[];for(const G of E)$.push(Pb(g,c,G));A={arrayValue:{values:$}}}else A=Pb(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Lb(E,x),A=Xj(p,h,E,x==="in"||x==="not-in");return jt.create(y,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rp(s,e,n){const r=e,o=ua("where",s);return Cd._create(o,r,n)}class Dg extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)FE(h,g),h=_p(h,g)})(e._query,n),new Tr(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends qE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(c,h)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,TI(e._query,n))}}function eD(s,e="asc"){const n=e,r=ua("orderBy",s);return kg._create(r,n)}function Pb(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new ye(r))}if(n instanceof pt)return Jv(s,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function Lb(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(s,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tD(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class nD extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cr extends Xh{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ua("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",cr._jsonSchema={type:Dt("string",cr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Rh extends cr{data(e={}){return super.data(e)}}class sa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rh(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:iD(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Dt("string",sa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const sD={maxAttempts:5};function Zl(s,e){if((s=ht(s)).firestore!==e)throw new oe(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class rD{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Rg(e)}get(e){const n=Zl(e,this._firestore),r=new nD(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return be(24041);const c=o[0];if(c.isFoundDocument())return new Xh(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Xh(this._firestore,r,n._key,null,n.converter);throw be(18433,{doc:c})}))}set(e,n,r){const o=Zl(e,this._firestore),c=tD(o.converter,n,r),h=Yj(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,r);return this._transaction.set(o._key,h),this}update(e,n,r,...o){const c=Zl(e,this._firestore);let h;return h=typeof(n=ht(n))=="string"||n instanceof Nd?ME(this._dataReader,"Transaction.update",c._key,n,r,o):OE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,h),this}delete(e){const n=Zl(e,this._firestore);return this._transaction.delete(n._key),this}}class aD extends rD{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zl(e,this._firestore),r=new Rd(this._firestore);return super.get(e).then((o=>new cr(this._firestore,r,n._key,o._document,new mo(!1,!1),n.converter)))}}function HE(s,e,n){s=$n(s,vr);const r={...sD,...n};(function(h){if(h.maxAttempts<1)throw new oe(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=Dc(s);return zj(o,(c=>e(new aD(s,c))),r)}function oD(s){s=$n(s,pt);const e=$n(s.firestore,vr),n=Dc(e);return Pj(n,s._key).then((r=>QE(e,s,r)))}function GE(s){s=$n(s,Tr);const e=$n(s.firestore,vr),n=Dc(e),r=new Rd(e);return BE(s._query),Lj(n,s._query).then((o=>new sa(e,r,s,o)))}function Jh(s,e,n,...r){s=$n(s,pt);const o=$n(s.firestore,vr),c=Rg(o);let h;return h=typeof(e=ht(e))=="string"||e instanceof Nd?ME(c,"updateDoc",s._key,e,n,r):OE(c,"updateDoc",s._key,e),KE(o,[h.toMutation(s._key,cn.exists(!0))])}function lD(s){return KE($n(s.firestore,vr),[new xd(s._key,cn.none())])}function $E(s,...e){s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Vb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Vb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,h,p;if(s instanceof pt)h=$n(s.firestore,vr),p=gd(s._key.path),c={next:y=>{e[r]&&e[r](QE(h,s,y))},error:e[r+1],complete:e[r+2]};else{const y=$n(s,Tr);h=$n(y.firestore,vr),p=y._query;const x=new Rd(h);c={next:E=>{e[r]&&e[r](new sa(h,x,y,E))},error:e[r+1],complete:e[r+2]},BE(s._query)}const g=Dc(h);return Vj(g,p,o,c)}function KE(s,e){const n=Dc(s);return Uj(n,e)}function QE(s,e,n){const r=n.docs.get(e._key),o=new Rd(s);return new cr(s,o,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){PC(ma),oa(new dr("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new vr(new zC(r.getProvider("auth-internal")),new FC(h,r.getProvider("app-check-internal")),aI(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Pi(Ob,Mb,e),Pi(Ob,Mb,"esm2020")})();var cD="firebase",uD="12.8.0";Pi(cD,uD,"app");function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hD=YE,XE=new wc("auth","Firebase",YE());const Wh=new Kp("@firebase/auth");function dD(s,...e){Wh.logLevel<=Pe.WARN&&Wh.warn(`Auth (${ma}): ${s}`,...e)}function Ch(s,...e){Wh.logLevel<=Pe.ERROR&&Wh.error(`Auth (${ma}): ${s}`,...e)}function di(s,...e){throw Og(s,...e)}function Bi(s,...e){return Og(s,...e)}function JE(s,e,n){const r={...hD(),[e]:n};return new wc("auth","Firebase",r).create(e,{appName:s.name})}function ur(s){return JE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Og(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return XE.create(s,...e)}function Te(s,e,...n){if(!s)throw Og(e,...n)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ch(e),new Error(e)}function _s(s,e){s||us(e)}function Cp(){return typeof self<"u"&&self.location?.href||""}function fD(){return Ub()==="http:"||Ub()==="https:"}function Ub(){return typeof self<"u"&&self.location?.protocol||null}function mD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fD()||gR()||"connection"in navigator)?navigator.onLine:!0}function pD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||yR()}get(){return mD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mg(s,e){_s(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class WE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_D=new Mc(3e4,6e4);function ya(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function wr(s,e,n,r,o={}){return ZE(s,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=Ac({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return pR()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&br(s.emulatorConfig.host)&&(y.credentials="include"),WE.fetch()(await eT(s,s.config.apiHost,n,p),y)})}async function ZE(s,e,n){s._canInitEmulator=!1;const r={...gD,...e};try{const o=new bD(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw vh(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw vh(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw vh(s,"user-disabled",h);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw JE(s,x,y);di(s,x)}}catch(o){if(o instanceof Hi)throw o;di(s,"network-request-failed",{message:String(o)})}}async function Id(s,e,n,r,o={}){const c=await wr(s,e,n,r,o);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function eT(s,e,n,r){const o=`${e}${n}?${r}`,c=s,h=c.config.emulator?Mg(s.config,o):`${s.config.apiScheme}://${o}`;return yD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function vD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),_D.get())})}}function vh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Bi(s,e,r);return o.customData._tokenResponse=n,o}function zb(s){return s!==void 0&&s.enterprise!==void 0}class xD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ED(s,e){return wr(s,"GET","/v2/recaptchaConfig",ya(s,e))}async function TD(s,e){return wr(s,"POST","/v1/accounts:delete",e)}async function Zh(s,e){return wr(s,"POST","/v1/accounts:lookup",e)}function ac(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wD(s,e=!1){const n=ht(s),r=await n.getIdToken(e),o=Vg(r);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:ac(Jm(o.auth_time)),issuedAtTime:ac(Jm(o.iat)),expirationTime:ac(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jm(s){return Number(s)*1e3}function Vg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=t1(n);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bb(s){const e=Vg(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _c(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hi&&AD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function AD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class SD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ed(s){const e=s.auth,n=await s.getIdToken(),r=await _c(s,Zh(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?tT(o.providerUserInfo):[],h=RD(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function ND(s){const e=ht(s);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function tT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function CD(s,e){const n=await ZE(s,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await eT(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&br(s.emulatorConfig.host)&&(g.credentials="include"),WE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ID(s,e){return wr(s,"POST","/v2/accounts:revokeToken",ya(s,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Bb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await CD(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new vo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return us("not implemented")}}function Zs(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new SD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wD(this,e)}reload(){return ND(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await _c(this,TD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:M,providerData:$,stsTokenManager:G}=n;Te(E&&G,e,"internal-error");const q=vo.fromJSON(this.name,G);Te(typeof E=="string",e,"internal-error"),Zs(r,e.name),Zs(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof M=="boolean",e,"internal-error"),Zs(c,e.name),Zs(h,e.name),Zs(p,e.name),Zs(g,e.name),Zs(y,e.name),Zs(x,e.name);const ne=new li({uid:E,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:q,createdAt:y,lastLoginAt:x});return $&&Array.isArray($)&&(ne.providerData=$.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,r=!1){const o=new vo;o.updateFromServerResponse(n);const c=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ed(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new vo;p.updateFromIdToken(r);const g=new li({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const qb=new Map;function hs(s){_s(s instanceof Function,"Expected a class definition");let e=qb.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,qb.set(s,e),e)}class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nT.type="NONE";const Fb=nT;function Ih(s,e,n){return`firebase:${s}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ih("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(hs(Fb),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hs(Fb);const h=Ih(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const A=await Zh(e,{idToken:x}).catch(()=>{});if(!A)break;E=await li._fromGetAccountInfoResponse(e,A,x)}else E=li._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new bo(c,e,r):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new bo(c,e,r))}}function Hb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function iT(s=sn()){return/firefox\//i.test(s)}function sT(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(s=sn()){return/crios\//i.test(s)}function aT(s=sn()){return/iemobile/i.test(s)}function oT(s=sn()){return/android/i.test(s)}function lT(s=sn()){return/blackberry/i.test(s)}function cT(s=sn()){return/webos/i.test(s)}function Pg(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function jD(s=sn()){return Pg(s)&&!!window.navigator?.standalone}function DD(){return _R()&&document.documentMode===10}function uT(s=sn()){return Pg(s)||oT(s)||cT(s)||lT(s)||/windows phone/i.test(s)||aT(s)}function hT(s,e=[]){let n;switch(s){case"Browser":n=Hb(sn());break;case"Worker":n=`${Hb(sn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}class kD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OD(s,e={}){return wr(s,"GET","/v2/passwordPolicy",ya(s,e))}const MD=6;class VD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class PD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new kD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(ur(this));const n=e?ht(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OD(this),n=new VD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ID(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mo(s){return ht(s)}class Gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LD(s){jd=s}function dT(s){return jd.loadJS(s)}function UD(){return jd.recaptchaEnterpriseScript}function zD(){return jd.gapiScript}function BD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class qD{constructor(){this.enterprise=new FD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HD="recaptcha-enterprise",fT="NO_RECAPTCHA";class GD{constructor(e){this.type=HD,this.auth=Mo(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{ED(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new xD(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;zb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(fT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qD().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&zb(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=UD();g.length!==0&&(g+=p),dT(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function $b(s,e,n,r=!1,o=!1){const c=new GD(s);let h;if(o)h=fT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Kb(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $b(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await $b(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(c)})}function $D(s,e){const n=dd(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(aa(c,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function KD(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function QD(s,e,n){const r=Mo(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=mT(e),{host:h,port:p}=YD(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(aa(y,r.config.emulator)&&aa(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,br(h)?(Gp(`${c}//${h}${g}`),$p("Auth",!0)):XD()}function mT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function YD(s){const e=mT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Qb(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:Qb(h)}}}function Qb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function XD(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function JD(s,e){return wr(s,"POST","/v1/accounts:signUp",e)}async function WD(s,e){return Id(s,"POST","/v1/accounts:signInWithPassword",ya(s,e))}async function ZD(s,e){return Id(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}async function ek(s,e){return Id(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}class vc extends Lg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kb(e,n,"signInWithPassword",WD);case"emailLink":return ZD(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kb(e,r,"signUpPassword",JD);case"emailLink":return ek(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(s,e){return Id(s,"POST","/v1/accounts:signInWithIdp",ya(s,e))}const tk="http://localhost";class ha extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new ha(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:tk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}function nk(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ik(s){const e=Ql(Yl(s)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(s)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||s}class Ug{constructor(e){const n=Ql(Yl(e)),r=n.apiKey??null,o=n.oobCode??null,c=nk(n.mode??null);Te(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ik(e);try{return new Ug(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ug.parseLink(n);return Te(r,"argument-error"),vc._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vc extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends Vc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class tr extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class nr extends Vc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Vc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await li._fromIdTokenResponse(e,r,o),h=Yb(r);return new Ro({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Yb(r);return new Ro({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Yb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class td extends Hi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new td(e,n,r,o)}}function gT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(s,c,e,r):c})}async function sk(s,e,n=!1){const r=await _c(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ro._forOperation(s,"link",r)}async function rk(s,e,n=!1){const{auth:r}=s;if(Fn(r.app))return Promise.reject(ur(r));const o="reauthenticate";try{const c=await _c(s,gT(r,o,e,s),n);Te(c.idToken,r,"internal-error");const h=Vg(c.idToken);Te(h,r,"internal-error");const{sub:p}=h;return Te(s.uid===p,r,"user-mismatch"),Ro._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function yT(s,e,n=!1){if(Fn(s.app))return Promise.reject(ur(s));const r="signIn",o=await gT(s,r,e),c=await Ro._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function ak(s,e){return yT(Mo(s),e)}async function ok(s){const e=Mo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lk(s,e,n){return Fn(s.app)?Promise.reject(ur(s)):ak(ht(s),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ok(s),r})}function ck(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function uk(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function hk(s){return ht(s).signOut()}const nd="__sak";class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dk=1e3,fk=10;class vT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);DD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fk):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const mk=vT;class bT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bT.type="SESSION";const xT=bT;function pk(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await pk(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];function zg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class gk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=zg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qi(){return window}function yk(s){qi().location.href=s}function ET(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function _k(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vk(){return navigator?.serviceWorker?.controller||null}function bk(){return ET()?self:null}const TT="firebaseLocalStorageDb",xk=1,id="firebaseLocalStorage",wT="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(s,e){return s.transaction([id],e?"readwrite":"readonly").objectStore(id)}function Ek(){const s=indexedDB.deleteDatabase(TT);return new Pc(s).toPromise()}function jp(){const s=indexedDB.open(TT,xk);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(id,{keyPath:wT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(id)?e(r):(r.close(),await Ek(),e(await jp()))})})}async function Xb(s,e,n){const r=kd(s,!0).put({[wT]:e,value:n});return new Pc(r).toPromise()}async function Tk(s,e){const n=kd(s,!1).get(e),r=await new Pc(n).toPromise();return r===void 0?null:r.value}function Jb(s,e){const n=kd(s,!0).delete(e);return new Pc(n).toPromise()}const wk=800,Ak=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ak)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _k(),!this.activeServiceWorker)return;this.sender=new gk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await Xb(e,nd,"1"),await Jb(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Tk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=kd(o,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const Sk=AT;new Mc(3e4,6e4);function Nk(s,e){return e?hs(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rk(s){return yT(s.auth,new Bg(s),s.bypassAuthState)}function Ck(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),rk(n,new Bg(s),s.bypassAuthState)}async function Ik(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),sk(n,new Bg(s),s.bypassAuthState)}class ST{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rk;case"linkViaPopup":case"linkViaRedirect":return Ik;case"reauthViaPopup":case"reauthViaRedirect":return Ck;default:di(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jk=new Mc(2e3,1e4);class po extends ST{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jk.get())};e()}}po.currentPopupAction=null;const Dk="pendingRedirect",jh=new Map;class kk extends ST{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(s,e){const n=Pk(e),r=Vk(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function Mk(s,e){jh.set(s._key(),e)}function Vk(s){return hs(s._redirectPersistence)}function Pk(s){return Ih(Dk,s.config.apiKey,s.name)}async function Lk(s,e,n=!1){if(Fn(s.app))return Promise.reject(ur(s));const r=Mo(s),o=Nk(r,e),h=await new kk(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const Uk=600*1e3;class zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function NT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Bk(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(s);default:return!1}}async function qk(s,e={}){return wr(s,"GET","/v1/projects",e)}const Fk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hk=/^https?/;async function Gk(s){if(s.config.emulator)return;const{authorizedDomains:e}=await qk(s);for(const n of e)try{if($k(n))return}catch{}di(s,"unauthorized-domain")}function $k(s){const e=Cp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!Hk.test(n))return!1;if(Fk.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Kk=new Mc(3e4,6e4);function Zb(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Qk(s){return new Promise((e,n)=>{function r(){Zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zb(),n(Bi(s,"network-request-failed"))},timeout:Kk.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const o=BD("iframefcb");return qi()[o]=()=>{gapi.load?r():n(Bi(s,"network-request-failed"))},dT(`${zD()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function Yk(s){return Dh=Dh||Qk(s),Dh}const Xk=new Mc(5e3,15e3),Jk="__/auth/iframe",Wk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tO(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Mg(e,Wk):`https://${s.config.authDomain}/${Jk}`,r={apiKey:e.apiKey,appName:s.name,v:ma},o=eO.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ac(r).slice(1)}`}async function nO(s){const e=await Yk(s),n=qi().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:tO(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(h)},Xk.get());function g(){qi().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(h)})}))}const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,rO=600,aO="_blank",oO="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(s,e,n,r=sO,o=rO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...iO,width:r.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(p=rT(y)?aO:n),iT(y)&&(e=e||oO,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[M,$])=>`${A}${M}=${$},`,"");if(jD(y)&&p!=="_self")return cO(e||"",p),new ex(null);const E=window.open(e||"",p,x);Te(E,s,"popup-blocked");try{E.focus()}catch{}return new ex(E)}function cO(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const uO="__/auth/handler",hO="emulator/auth/handler",dO=encodeURIComponent("fac");async function tx(s,e,n,r,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ma,eventId:o};if(e instanceof pT){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",AR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Vc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${dO}=${encodeURIComponent(g)}`:"";return`${fO(s)}?${Ac(p).slice(1)}${y}`}function fO({config:s}){return s.emulator?Mg(s,hO):`https://${s.authDomain}/${uO}`}const Wm="webStorageSupport";class mO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=Lk,this._overrideRedirectResult=Mk}async _openPopup(e,n,r,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await tx(e,n,r,Cp(),o);return lO(e,c,zg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await tx(e,n,r,Cp(),o);return yk(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nO(e),r=new zk(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},o=>{const c=o?.[0]?.[Wm];c!==void 0&&n(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uT()||sT()||Pg()}}const pO=mO;var nx="@firebase/auth",ix="1.12.0";class gO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _O(s){oa(new dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(s)},y=new PD(r,o,c,g);return KD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oa(new dr("auth-internal",e=>{const n=Mo(e.getProvider("auth").getImmediate());return(r=>new gO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(nx,ix,yO(s)),Pi(nx,ix,"esm2020")}const vO=300,bO=r1("authIdTokenMaxAge")||vO;let sx=null;const xO=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bO)return;const o=n?.token;sx!==o&&(sx=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EO(s=Yp()){const e=dd(s,"auth");if(e.isInitialized())return e.getImmediate();const n=$D(s,{popupRedirectResolver:pO,persistence:[Sk,mk,xT]}),r=r1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=xO(c.toString());uk(n,h,()=>h(n.currentUser)),ck(n,p=>h(p))}}const o=n1("auth");return o&&QD(n,`http://${o}`),n}function TO(){return document.getElementsByTagName("head")?.[0]??document}LD({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Bi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",TO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_O("Browser");const wO={apiKey:"AIzaSyBoJz2b7j4Q_0j8BEKAUsb2MpyopPSH9mk",authDomain:"mudanzas-cadena.firebaseapp.com",projectId:"mudanzas-cadena",storageBucket:"mudanzas-cadena.firebasestorage.app",messagingSenderId:"1000922434241",appId:"1:1000922434241:web:bc41a61fbb4ae32e2b2240"},RT=c1(wO),nn=Hj(RT),CT=EO(RT),AO=()=>{const[s,e]=L.useState(""),[n,r]=L.useState(""),[o,c]=L.useState(!1),[h,p]=L.useState(null),[g,y]=L.useState(""),x=async $=>{if($.preventDefault(),!(!s.trim()||!n.trim())){c(!0),y(""),p(null);try{const G=jg(yc(nn,"moves"),Rp("folio","==",s.trim().toUpperCase()),Rp("phone","==",n.trim())),q=await GE(G);q.empty?y("Los datos no coinciden. Revisa tu folio y el telfono registrado."):p(q.docs[0].data())}catch(G){console.error(G),y("Hubo un error de conexin al servidor.")}finally{c(!1)}}},E=($,G)=>{if(G&&G>0)return G;switch($){case"Pendiente":return 5;case"Programada":return 10;case"Contrato Firmado":return 15;case"En Carga":return 35;case"En Trnsito":return 70;case"Finalizada":return 100;default:return 0}},A=$=>{switch($){case"Finalizada":return"bg-green-500";case"En Trnsito":return"bg-cadena-blue";case"En Carga":return"bg-cadena-pink";default:return"bg-gray-300"}},M=h?E(h.status,h.porcentaje):0;return f.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-cadena-blue/10 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2 pointer-events-none z-0"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-cadena-pink/10 rounded-full blur-3xl translate-y-1/3 translate-x-1/4 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-full shadow-xl flex items-center justify-center p-2 border border-white/50",children:f.jsx("img",{src:ud,alt:"Mascota Cadena",className:"w-full h-full object-contain"})})}),f.jsxs("h1",{className:"text-4xl font-extrabold text-cadena-dark mb-4",children:["Rastrea tu ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cadena-blue to-cadena-pink",children:"Mudanza"})]}),f.jsx("p",{className:"text-gray-600 mb-8 font-medium",children:"Ingresa tu nmero de folio y telfono para validar tu identidad."}),f.jsxs("form",{onSubmit:x,className:"space-y-4 max-w-md mx-auto",children:[f.jsx("div",{className:"relative",children:f.jsx("input",{type:"text",placeholder:"Folio (MUD-XXXX)",value:s,onChange:$=>e($.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg uppercase"})}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"tel",placeholder:"Telfono registrado",value:n,onChange:$=>r($.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg"})}),f.jsx("button",{type:"submit",disabled:o,className:"w-full bg-cadena-pink hover:bg-pink-600 text-white py-4 rounded-2xl font-black transition flex items-center justify-center gap-2 shadow-xl shadow-pink-200 disabled:opacity-70",children:o?"Buscando...":f.jsxs(f.Fragment,{children:[f.jsx(vN,{size:20})," Rastrear Mudanza"]})})]}),g&&f.jsxs("div",{className:"mt-6 p-4 max-w-md mx-auto bg-red-50/80 backdrop-blur-sm text-red-600 rounded-xl border border-red-100 flex items-center justify-center gap-2 animate-pulse",children:[f.jsx(Lx,{size:20}),g]})]}),h&&f.jsxs("div",{className:"max-w-4xl mx-auto bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60 animate-fade-in-up",children:[f.jsxs("div",{className:"bg-gradient-to-r from-cadena-dark to-slate-800 text-white p-8 flex justify-between items-center flex-wrap gap-4 border-b border-white/20",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-blue-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Cliente"}),f.jsx("h3",{className:"text-2xl font-bold",children:h.client})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-pink-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Folio de Seguimiento"}),f.jsx("span",{className:"font-mono font-bold text-2xl text-white bg-white/10 px-4 py-1 rounded-lg border border-white/20",children:h.folio})]})]}),f.jsxs("div",{className:"p-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-12 bg-white/30 p-6 rounded-3xl border border-white/40",children:[f.jsxs("div",{className:"text-center w-1/3",children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-blue",children:f.jsx(ms,{size:24})}),f.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.origin}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Origen"})]}),f.jsxs("div",{className:"flex-1 flex flex-col items-center px-4 relative",children:[f.jsx("div",{className:"w-full h-[2px] bg-gradient-to-r from-cadena-blue to-cadena-pink relative top-3",children:f.jsx("div",{className:"absolute -right-1 -top-[9px] text-cadena-pink",children:f.jsx(Vx,{size:20,strokeWidth:3})})}),f.jsx("p",{className:"text-xs font-bold text-cadena-blue mt-6 bg-blue-50/50 backdrop-blur-sm px-3 py-1 rounded-full border border-blue-100 uppercase",children:h.date})]}),f.jsxs("div",{className:"text-center w-1/3",children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-pink",children:f.jsx(ms,{size:24})}),f.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.destination}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Destino"})]})]}),f.jsxs("div",{className:"mb-12",children:[f.jsxs("div",{className:"flex justify-between items-end mb-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Estado Actual"}),f.jsx("p",{className:"text-2xl font-black text-cadena-dark",children:h.status})]}),f.jsxs("span",{className:"text-3xl font-black text-cadena-blue",children:[M,"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200/50 rounded-full h-5 p-1 border border-white shadow-inner",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-lg ${A(h.status)}`,style:{width:`${M}%`}})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative",children:[f.jsx(Zm,{icon:f.jsx(ld,{size:28}),label:"Recoleccin",active:M>=30,color:"text-cadena-pink",bgColor:"bg-white"}),f.jsx(Zm,{icon:f.jsx(hr,{size:28}),label:"En Ruta",active:M>=60,color:"text-cadena-blue",bgColor:"bg-white"}),f.jsx(Zm,{icon:f.jsx(Bp,{size:28}),label:"Entregado",active:M===100,color:"text-green-600",bgColor:"bg-white"})]})]})]})]})]})},Zm=({icon:s,label:e,active:n,color:r,bgColor:o})=>f.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-700 ${n?"opacity-100 scale-105":"opacity-30 grayscale"}`,children:[f.jsx("div",{className:`w-20 h-20 rounded-3xl shadow-xl flex items-center justify-center border-2 transition-all duration-700 ${n?`${o} border-white shadow-blue-200/50`:"bg-gray-100/50 border-transparent"}`,children:f.jsx("div",{className:n?r:"text-gray-400",children:s})}),f.jsx("span",{className:`font-black text-xs uppercase tracking-tighter ${n?"text-cadena-dark":"text-gray-400"}`,children:e})]}),rx=[{id:"caja_ch",label:"Caja Chica",icon:f.jsx(lc,{size:20})},{id:"caja_gd",label:"Caja Grande",icon:f.jsx(lc,{size:28})},{id:"sala",label:"Silln / Sala",icon:f.jsx(Qx,{size:22})},{id:"comedor",label:"Mesa Comedor",icon:f.jsx(Yx,{size:22})},{id:"cama_ind",label:"Cama Indiv.",icon:f.jsx(go,{size:18})},{id:"cama_mat",label:"Cama Matrim.",icon:f.jsx(go,{size:22})},{id:"cama_ks",label:"Cama King Size",icon:f.jsx(go,{size:26})},{id:"refri",label:"Refrigerador",icon:f.jsx(Kx,{size:22})},{id:"lavadora",label:"Lavadora/Sec",icon:f.jsx(Jx,{size:22})},{id:"tv",label:"TV / Pantalla",icon:f.jsx(Xx,{size:22})},{id:"escritorio",label:"Escritorio/Office",icon:f.jsx(Hx,{size:22})},{id:"bici",label:"Bicicleta",icon:f.jsx(Oh,{size:22})},{id:"moto",label:"Motocicleta",icon:f.jsx(Oh,{size:26,className:"text-slate-800"})},{id:"auto",label:"Automvil",icon:f.jsx(Px,{size:24})},{id:"arte",label:"Obra de Arte",icon:f.jsx(Bx,{size:22})},{id:"piano",label:"Piano",icon:f.jsx(Gx,{size:22})},{id:"fuerte",label:"Caja Fuerte",icon:f.jsx(Mx,{size:22})},{id:"pallet",label:"Pallet / Carga",icon:f.jsx(zx,{size:22})}],SO=()=>{const[s,e]=L.useState(1),[n,r]=L.useState(!1),[o,c]=L.useState(null),[h,p]=L.useState({client:"",phone:"",date:"",origin:"",destination:"",notes:""}),[g,y]=L.useState({}),x=(A,M)=>{y($=>{const G=$[A]||0,q=Math.max(0,G+M);return{...$,[A]:q}})},E=async A=>{A.preventDefault(),r(!0);try{const M=Object.entries(g).filter(([G,q])=>q>0).map(([G,q])=>({name:rx.find(ee=>ee.id===G).label,quantity:q}));let $="";await HE(nn,async G=>{const q=ci(nn,"counters","moves_counter"),ne=await G.get(q);let ee=1;ne.exists()&&(ee=ne.data().current+1),$=`MUD-${String(ee).padStart(4,"0")}`;const re=ci(yc(nn,"moves"));G.set(re,{...h,items:M,folio:$,status:"Pendiente",porcentaje:0,price:0,createdAt:new Date}),G.set(q,{current:ee})}),c($)}catch(M){console.error(M),alert("Error al enviar. Intenta de nuevo.")}finally{r(!1)}};return o?f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),f.jsxs("div",{className:"relative z-10 bg-white/40 backdrop-blur-xl p-10 rounded-[2.5rem] shadow-2xl text-center max-w-md border border-white/60 animate-fade-in-up",children:[f.jsx("div",{className:"w-24 h-24 bg-green-500 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-200 rotate-12",children:f.jsx(ad,{size:48})}),f.jsx("h2",{className:"text-3xl font-black text-cadena-dark",children:"Recibido!"}),f.jsxs("p",{className:"text-gray-600 mt-4 font-medium",children:["Tu folio de cotizacin es:",f.jsx("span",{className:"font-black text-cadena-blue text-3xl block mt-2 bg-white/50 py-2 rounded-2xl border border-white tracking-tighter",children:o})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-6 leading-relaxed",children:"Un asesor analizar tu inventario y te contactar por WhatsApp para darte el mejor precio."}),f.jsx("a",{href:"/",className:"block mt-8 bg-cadena-dark text-white py-4 rounded-2xl font-bold hover:bg-black transition shadow-xl",children:"Volver al Inicio"})]})]}):f.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),f.jsx("div",{className:"max-w-3xl mx-auto relative z-10",children:f.jsxs("div",{className:"bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60",children:[f.jsxs("div",{className:"bg-gradient-to-r from-cadena-blue to-blue-700 p-8 text-white relative",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] bg-white/20 px-3 py-1 rounded-full border border-white/30",children:"Cotizacin en lnea"}),f.jsx("h2",{className:"text-3xl font-black mt-3",children:"Calcula tu Mudanza"}),f.jsxs("p",{className:"text-blue-100 text-sm mt-1 font-medium",children:["Paso ",s," de 2: ",s===1?"Tus Datos":"Inventario"]})]}),f.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-md",children:f.jsx(hr,{size:32})})]}),f.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-cadena-pink transition-all duration-500",style:{width:`${s/2*100}%`}})]}),f.jsxs("form",{onSubmit:E,className:"p-6 md:p-10 space-y-8",children:[s===1&&f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-1.5 h-6 bg-cadena-pink rounded-full"}),f.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Informacin de Contacto"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsx("div",{className:"group",children:f.jsx("input",{required:!0,placeholder:"Nombre Completo",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.client,onChange:A=>p({...h,client:A.target.value})})}),f.jsx("input",{required:!0,type:"tel",placeholder:"Telfono (WhatsApp)",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.phone,onChange:A=>p({...h,phone:A.target.value})}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Fecha deseada del servicio"}),f.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:h.date,onChange:A=>p({...h,date:A.target.value})})]})]}),f.jsxs("button",{type:"button",onClick:()=>e(2),className:"w-full bg-cadena-dark text-white py-5 rounded-2xl font-black text-lg mt-4 hover:bg-black transition shadow-xl shadow-gray-200 flex items-center justify-center gap-3",children:["Siguiente: Inventario ",f.jsx(hr,{size:20})]})]}),s===2&&f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"bg-blue-50/50 p-4 sm:p-6 rounded-3xl border border-blue-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),f.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Ruta del Servicio"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{htmlFor:"origin",className:"text-[10px] font-black text-cadena-blue uppercase ml-4",children:"Direccin de Origen (Completa)"}),f.jsx("input",{id:"origin",name:"origin",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-blue-100 focus:border-cadena-blue focus:ring-2 focus:ring-blue-100 outline-none shadow-sm text-sm",value:h.origin,onChange:A=>p({...h,origin:A.target.value})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{htmlFor:"destination",className:"text-[10px] font-black text-cadena-pink uppercase ml-4",children:"Direccin de Destino (Completa)"}),f.jsx("input",{id:"destination",name:"destination",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-pink-100 focus:border-cadena-pink focus:ring-2 focus:ring-pink-100 outline-none shadow-sm text-sm",value:h.destination,onChange:A=>p({...h,destination:A.target.value})})]})]}),f.jsx("p",{className:"text-[10px] text-gray-400 mt-3 text-center italic",children:"* Ingresa direcciones exactas para calcular la distancia correctamente."})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),f.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Lista de Inventario"})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:rx.map(A=>f.jsxs("div",{className:`p-3 rounded-[2rem] border-2 flex flex-col items-center justify-between transition-all duration-300 ${g[A.id]>0?"border-cadena-blue bg-white shadow-lg shadow-blue-100 scale-105":"border-white bg-white/30 opacity-70"}`,children:[f.jsx("div",{className:`mb-2 ${g[A.id]>0?"text-cadena-blue":"text-gray-400"}`,children:A.icon}),f.jsx("span",{className:"text-[10px] font-black text-center mb-3 leading-tight uppercase tracking-tighter text-gray-700 min-h-[2em] flex items-center justify-center",children:A.label}),f.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-100 rounded-2xl px-2 py-1 sm:px-3 sm:py-2",children:[f.jsx("button",{type:"button",onClick:()=>x(A.id,-1),className:"text-gray-400 hover:text-red-500 transition p-1",children:f.jsx(nN,{size:12,strokeWidth:3})}),f.jsx("span",{className:"font-black w-4 text-center text-xs text-cadena-dark",children:g[A.id]||0}),f.jsx("button",{type:"button",onClick:()=>x(A.id,1),className:"text-cadena-blue hover:text-blue-700 transition p-1",children:f.jsx($x,{size:12,strokeWidth:3})})]})]},A.id))})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Observaciones especiales"}),f.jsx("textarea",{placeholder:"Ej: Piano, tercer piso sin elevador, requiere volado de muebles...",className:"w-full p-4 bg-white/50 rounded-2xl border-2 border-white focus:border-cadena-blue outline-none h-24 text-sm shadow-sm",value:h.notes,onChange:A=>p({...h,notes:A.target.value})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[f.jsxs("button",{type:"button",onClick:()=>e(1),className:"flex items-center justify-center gap-2 px-8 py-4 text-gray-400 font-black text-xs uppercase tracking-widest hover:text-cadena-dark transition",children:[f.jsx(Up,{size:16})," Atrs"]}),f.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-cadena-pink text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-pink-200 hover:scale-[1.02] transition-all disabled:opacity-50",children:n?"Procesando...":"Finalizar Cotizacin"})]})]})]})]})})]})},$l="print:break-after-page print:min-h-screen print:flex print:flex-col print:justify-between relative bg-white shadow-lg p-12 mb-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-gray-800 print:shadow-none print:m-0 print:w-full",NO=()=>{const{id:s}=Sx(),e=L.useRef(null),[n,r]=L.useState(null),[o,c]=L.useState(!0),[h,p]=L.useState(!1),[g,y]=L.useState(!1),[x,E]=L.useState(!1),[A,M]=L.useState(null),[$,G]=L.useState(null);L.useEffect(()=>{if(!s)return;const _e=ci(nn,"moves",s),F=$E(_e,ie=>{if(ie.exists()){const fe=ie.data();r({id:ie.id,...fe})}else alert("Enlace no vlido.");c(!1)});return()=>F()},[s]);const q=_e=>new Promise(F=>{const ie=new FileReader;ie.readAsDataURL(_e),ie.onload=fe=>{const Se=new Image;Se.src=fe.target.result,Se.onload=()=>{const Oe=document.createElement("canvas"),O=800,W=O/Se.width;Oe.width=O,Oe.height=Se.height*W,Oe.getContext("2d").drawImage(Se,0,0,Oe.width,Oe.height),F(Oe.toDataURL("image/jpeg",.6))}}}),ne=_e=>{const F=_e.target.files[0];F&&(M(F),G(URL.createObjectURL(F)))},ee=()=>{M(null),G(null)},re=async _e=>{if(A){p(!0);try{const F=await q(A),ie=_e==="ine"?{idUrl:F}:{addressUrl:F};await Jh(ci(nn,"moves",s),ie),M(null),G(null)}catch(F){console.error(F),alert("Error al subir imagen.")}p(!1)}},se=(_e,F)=>{const ie=F.getBoundingClientRect(),fe=F.width/ie.width,Se=F.height/ie.height;return{x:((_e.clientX||_e.touches[0].clientX)-ie.left)*fe,y:((_e.clientY||_e.touches[0].clientY)-ie.top)*Se}},he=_e=>{const F=e.current,ie=F.getContext("2d"),{x:fe,y:Se}=se(_e,F);ie.lineWidth=3,ie.lineCap="round",ie.strokeStyle="#000",ie.beginPath(),ie.moveTo(fe,Se),y(!0)},me=_e=>{if(!g)return;const F=e.current,ie=F.getContext("2d"),{x:fe,y:Se}=se(_e,F);ie.lineTo(fe,Se),ie.stroke(),_e.type!=="mousemove"&&_e.preventDefault()},N=()=>{const _e=e.current;_e.getContext("2d").clearRect(0,0,_e.width,_e.height)},S=async()=>{if(!e.current)return;const _e=document.createElement("canvas");if(_e.width=e.current.width,_e.height=e.current.height,e.current.toDataURL()===_e.toDataURL()){alert("Por favor firme antes de aceptar.");return}const F=e.current.toDataURL();try{await Jh(ci(nn,"moves",s),{signature:F,status:"Contrato Firmado",signedAt:new Date}),alert("Contrato firmado correctamente!")}catch{alert("Error al guardar firma")}};if(o)return f.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-gray-500",children:"Cargando..."});if(!n)return f.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Enlace no vlido."});const R=!n.idUrl,j=!n.addressUrl,D=!R&&!j&&n.status==="Pendiente",P=["Programada","Contrato Firmado","En Carga","En Trnsito","Finalizada"].includes(n.status);let C="loading";R?C="upload_ine":j?C="upload_address":D?C="waiting":P&&(!x&&n.status!=="Contrato Firmado"?C="review_data":C="contract");const Qe=()=>f.jsxs("div",{className:"mt-auto pt-8 border-t border-gray-300 flex justify-between items-end text-xs",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:"MUDANZAS CADENA"}),f.jsxs("p",{children:["Folio: ",n.folio]})]}),f.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?f.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):f.jsx("div",{className:"h-12"}),f.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold",children:"FIRMA C."})]})]});return f.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 print:bg-white print:p-0",children:[f.jsxs("div",{className:"max-w-xl mx-auto print:hidden",children:[C==="upload_ine"&&f.jsx(ax,{title:"INE / Pasaporte",desc:"Sube tu identificacin oficial",icon:f.jsx(od,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:ne,preview:$,onConfirm:()=>re("ine"),onCancel:ee,uploading:h}),C==="upload_address"&&f.jsx(ax,{title:"Comprobante de Domicilio",desc:"Recibo de luz, agua o internet",icon:f.jsx(Bp,{size:40}),color:"text-cadena-pink",bg:"bg-pink-100",onSelect:ne,preview:$,onConfirm:()=>re("address"),onCancel:ee,uploading:h}),C==="waiting"&&f.jsxs("div",{className:"p-12 text-center bg-white rounded-3xl shadow-xl border-t-8 border-yellow-400",children:[f.jsx(zp,{size:80,className:"mx-auto text-yellow-500 mb-6 animate-pulse"}),f.jsx("h2",{className:"text-2xl font-bold",children:"Validando Documentacin"}),f.jsx("p",{className:"text-gray-500 mt-4",children:"Un asesor est revisando tu informacin. Te notificaremos por WhatsApp cuando el contrato est listo."})]}),C==="review_data"&&f.jsxs("div",{className:"p-8 bg-white rounded-3xl shadow-xl",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Revisa los Datos Finales"}),f.jsxs("div",{className:"space-y-4 mb-6 text-sm",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Cliente:"})," ",n.client]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Origen:"})," ",n.origin]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Destino:"})," ",n.destination]}),f.jsxs("p",{className:"text-xl font-black text-cadena-blue text-right",children:["Total: $",n.price?.toLocaleString()]})]}),f.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold flex justify-center gap-2",children:["Datos Correctos, Ver Contrato ",f.jsx(Vx,{})]})]})]}),C==="contract"&&f.jsxs("div",{className:"max-w-[21.5cm] mx-auto",children:[f.jsxs("div",{className:$l,children:[f.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("img",{src:ap,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),f.jsx("p",{className:"text-xs tracking-[0.2em] text-gray-400 font-bold uppercase mt-1 ml-1",children:"Logstica y Transporte"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-black text-gray-700 text-lg",children:"CONTRATO DE SERVICIO"}),f.jsxs("p",{className:"text-sm text-gray-500",children:["FOLIO: ",f.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),f.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),f.jsxs("div",{className:"space-y-6 text-sm uppercase",children:[f.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),f.jsxs("p",{children:[f.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),f.jsx("p",{children:n.origin})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),f.jsx("p",{children:n.destination})]})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),f.jsxs("p",{className:"mt-2",children:[f.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",f.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),f.jsx("div",{className:"mt-auto text-center font-bold text-xl text-gray-400 italic",children:"COTIZA HOY, MDATE HOY"}),f.jsx(Qe,{})]}),f.jsxs("div",{className:$l,children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),f.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b pb-4",children:"Revisado y Autorizado por el Cliente"}),f.jsx("div",{className:"flex-1",children:n.items&&n.items.length>0?f.jsx("div",{className:"columns-2 md:columns-3 gap-8",children:n.items.map((_e,F)=>f.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-3 text-sm",children:[f.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center",children:_e.quantity}),f.jsx("span",{className:"leading-tight",children:_e.name})]},F))}):f.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:f.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})}),f.jsx("div",{className:"mt-auto"}),f.jsx(Qe,{})]}),f.jsxs("div",{className:$l,children:[f.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),f.jsxs("div",{className:"text-[10px] leading-relaxed text-justify space-y-2 flex-1",children:[f.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),f.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),f.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),f.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),f.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),f.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),f.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),f.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),f.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),f.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),f.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio... En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),f.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),f.jsx("p",{children:'13. El cliente que es quien remite el servicio, encomienda a "MUDANZAS CADENA", y este se obliga a transportar en sujecin de las leyes...'}),f.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),f.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."}),f.jsx("p",{className:"font-bold text-center mt-4",children:"AL FIRMAR ESTE CONTRATO, EST ACEPTANDO LAS CONDICIONES DE SERVICIO ANTES MENCIONADAS."})]}),f.jsx(Qe,{})]}),f.jsxs("div",{className:$l,children:[f.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),f.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[f.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),f.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),f.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),f.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),f.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((_e,F)=>f.jsxs("tr",{className:"border-b border-black",children:[f.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:_e.description}),f.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(_e.cost).toLocaleString()]}),f.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:_e.quantity}),f.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(_e.cost*_e.quantity).toLocaleString()]})]},F)):f.jsxs("tr",{children:[f.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),f.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),f.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),f.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),f.jsxs("div",{className:"w-1/2 ml-auto",children:[f.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[f.jsx("span",{children:"SUBTOTAL"})," ",f.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[f.jsx("span",{children:"IVA (16%)"})," ",f.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[f.jsx("span",{children:"RETENCIN (-4%)"})," ",f.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[f.jsx("span",{children:"TOTAL"})," ",f.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]}),f.jsx("div",{className:"flex-1"}),f.jsx(Qe,{})]}),f.jsxs("div",{className:$l,children:[f.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),f.jsxs("div",{className:"space-y-6 text-sm flex-1 text-center",children:[f.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),f.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[f.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),f.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),f.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),f.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[f.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),f.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),f.jsx("p",{children:"CUENTA: 047 181 9445"}),f.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",f.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]}),f.jsx(Qe,{})]}),f.jsx("div",{className:"mt-8 mb-16 p-8 bg-gray-100 border-2 border-dashed border-gray-300 rounded-3xl text-center print:hidden",children:n.status!=="Contrato Firmado"&&!n.signature?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-2xl font-bold text-cadena-dark mb-4",children:"Aceptacin del Contrato"}),f.jsx("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:"Al firmar a continuacin, confirmas que has ledo todas las clusulas, verificado el inventario y aceptas las condiciones del servicio."}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 max-w-md mx-auto mb-6 touch-none",children:[f.jsx("p",{className:"text-xs text-gray-400 mb-2 uppercase font-bold text-left",children:"Dibuja tu firma:"}),f.jsx("canvas",{ref:e,width:300,height:150,className:"w-full h-full cursor-crosshair border-b border-gray-300",onMouseDown:he,onMouseMove:me,onMouseUp:()=>y(!1),onTouchStart:he,onTouchMove:me,onTouchEnd:()=>y(!1)}),f.jsx("button",{onClick:N,className:"text-xs text-red-500 underline w-full text-right mt-1",children:"Borrar firma"})]}),f.jsxs("button",{onClick:S,className:"bg-cadena-blue text-white px-12 py-4 rounded-full font-bold shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-3 mx-auto",children:[f.jsx(cN,{size:20})," FIRMAR Y FINALIZAR"]})]}):f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-green-200 inline-block",children:[f.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mx-auto mb-4",children:f.jsx(ad,{size:40})}),f.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Contrato Firmado!"}),f.jsx("p",{className:"text-green-700 mb-6",children:"Tu mudanza est 100% confirmada."}),f.jsxs("button",{onClick:()=>window.print(),className:"bg-cadena-dark text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 mx-auto hover:bg-black transition",children:[f.jsx(Hp,{size:20})," Descargar PDF Firmado"]})]})})]})]})},ax=({title:s,desc:e,icon:n,color:r,bg:o,onSelect:c,preview:h,onConfirm:p,onCancel:g,uploading:y})=>f.jsxs("div",{className:"p-8 text-center bg-white rounded-3xl shadow-xl max-w-md mx-auto",children:[f.jsx("div",{className:`w-20 h-20 ${o} ${r} rounded-full flex items-center justify-center mx-auto mb-6`,children:n}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:s}),f.jsx("p",{className:"text-gray-500 mb-6",children:e}),h?f.jsxs("div",{className:"animate-fade-in-up",children:[f.jsx("div",{className:"mb-6 relative rounded-xl overflow-hidden border-2 border-gray-200 shadow-sm max-h-64 mx-auto",children:f.jsx("img",{src:h,alt:"Vista previa",className:"w-full h-full object-contain bg-gray-50"})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:p,disabled:y,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition ${y?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 hover:scale-[1.02]"}`,children:y?f.jsx(f.Fragment,{children:"Subiendo..."}):f.jsxs(f.Fragment,{children:[f.jsx(ad,{size:20})," Confirmar y Enviar"]})}),f.jsxs("button",{onClick:g,disabled:y,className:"w-full py-3 rounded-xl font-bold text-red-500 bg-red-50 hover:bg-red-100 flex items-center justify-center gap-2 transition",children:[f.jsx(fo,{size:18})," Cancelar / Cambiar Foto"]})]})]}):f.jsxs("label",{className:"block w-full border-2 border-dashed border-gray-300 rounded-2xl p-10 cursor-pointer hover:bg-gray-50 hover:border-cadena-blue transition group",children:[f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c}),f.jsx(Ux,{className:`mx-auto ${r} mb-4 group-hover:scale-110 transition`,size:48}),f.jsx("span",{className:"font-bold text-gray-600 group-hover:text-cadena-blue",children:"Toca para seleccionar foto"})]})]}),RO=()=>{const[s,e]=L.useState(""),[n,r]=L.useState(""),[o,c]=L.useState(""),h=Ec(),p=async g=>{g.preventDefault();try{await lk(CT,s,n),h("/admin/dashboard")}catch{c("Credenciales incorrectas. Intenta de nuevo.")}};return f.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),f.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl w-full max-w-md border border-white relative z-10",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-lg overflow-hidden",children:f.jsx("img",{src:ud,alt:"Admin",className:"w-full h-full object-cover object-top pt-2 scale-110"})}),f.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Acceso Administrativo"}),f.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa tus credenciales para gestionar."})]}),o&&f.jsxs("div",{className:"bg-red-50 text-red-500 p-3 rounded-xl text-sm font-bold flex items-center gap-2 mb-6 border border-red-100",children:[f.jsx(Lx,{size:18})," ",o]}),f.jsxs("form",{onSubmit:p,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Correo Electrnico"}),f.jsxs("div",{className:"relative",children:[f.jsx(Fx,{className:"absolute left-4 top-3.5 text-cadena-blue",size:20}),f.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-blue focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"e-mail",value:s,onChange:g=>e(g.target.value),required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx($S,{className:"absolute left-4 top-3.5 text-cadena-pink",size:20}),f.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-cadena-pink focus:bg-white outline-none transition font-medium text-slate-700",placeholder:"",value:n,onChange:g=>r(g.target.value),required:!0})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold shadow-lg hover:bg-black transition transform active:scale-95",children:"Entrar al Sistema"})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs(Hn,{to:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-cadena-blue font-bold text-sm transition",children:[f.jsx(Up,{size:16})," Volver al sitio web"]})})]})]})},ep=({move:s,onEdit:e,onDelete:n,onCopyLink:r,onViewId:o,onPrintOrder:c,isPending:h})=>{const p=Array.isArray(s.items)&&s.items.length>0;return f.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border flex flex-col md:flex-row justify-between gap-6 hover:shadow-lg transition-all duration-300 ${h?"border-l-[6px] border-l-cadena-pink border-t border-r border-b border-gray-100":"border border-gray-100"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("span",{className:"bg-gray-100 text-gray-500 px-2 py-1 rounded-md text-xs font-bold font-mono tracking-wider",children:s.folio}),f.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s.client}),s.phone&&f.jsx("a",{href:`https://wa.me/${s.phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-500 bg-green-50 p-1.5 rounded-full hover:bg-green-100 transition",children:f.jsx(qp,{size:18})})]}),f.jsxs("div",{className:"text-sm text-gray-500 space-y-2 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx(ms,{size:16,className:"text-cadena-pink"})," ",f.jsx("span",{className:"font-medium truncate max-w-xs",children:s.origin})]}),f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx(hr,{size:16,className:"text-gray-400"})," ",p?`${s.items.length} Artculos registrados`:"Sin lista de inventario"]})]}),f.jsxs("div",{className:"flex gap-2",children:[s.idUrl&&f.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold",children:"INE OK"}),s.addressUrl&&f.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:"DOM OK"})]})]}),f.jsxs("div",{className:"flex flex-col items-end justify-between min-w-[140px] border-l border-gray-50 pl-6 md:border-l-0 md:pl-0",children:[f.jsxs("div",{className:"text-right",children:[s.price>0?f.jsxs("p",{className:"text-2xl font-black text-cadena-dark",children:["$",s.price.toLocaleString()]}):f.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full font-bold uppercase tracking-wide",children:"Por Cotizar"}),f.jsx("div",{className:`mt-2 inline-block px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide text-white ${s.status==="Contrato Firmado"?"bg-purple-500":"bg-cadena-blue"}`,children:s.status})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[c&&f.jsx("button",{onClick:c,className:"p-2.5 text-orange-600 bg-orange-50 rounded-xl hover:bg-orange-100 transition",children:f.jsx(Hp,{size:20})}),f.jsx("button",{onClick:o,className:"p-2.5 text-green-600 bg-green-50 rounded-xl hover:bg-green-100 transition",children:f.jsx(DS,{size:20})}),f.jsx("button",{onClick:e,className:"p-2.5 text-white bg-cadena-blue rounded-xl shadow-md hover:bg-blue-700 transition hover:-translate-y-0.5",children:f.jsx(oN,{size:20})}),r&&f.jsx("button",{onClick:r,className:"p-2.5 text-purple-600 bg-purple-50 rounded-xl hover:bg-purple-100 transition",children:f.jsx(NS,{size:20})}),f.jsx("button",{onClick:n,className:"p-2.5 text-red-400 bg-red-50 rounded-xl hover:bg-red-100 transition",children:f.jsx(fo,{size:20})})]})]})]})};const IT="firebasestorage.googleapis.com",jT="storageBucket",CO=120*1e3,IO=600*1e3;class Wt extends Hi{constructor(e,n,r=0){super(tp(e),`Firebase Storage: ${n} (${tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function tp(s){return"storage/"+s}function jO(){const s="An unknown error occurred, please check the error payload for server response.";return new Wt(Jt.UNKNOWN,s)}function DO(s){return new Wt(Jt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function kO(s){return new Wt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OO(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Jt.UNAUTHENTICATED,s)}function MO(){return new Wt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VO(s){return new Wt(Jt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function PO(){return new Wt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LO(){return new Wt(Jt.CANCELED,"User canceled the upload/download.")}function UO(s){return new Wt(Jt.INVALID_URL,"Invalid URL '"+s+"'.")}function zO(s){return new Wt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function BO(){return new Wt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jT+"' property when initializing the app?")}function Dp(s){return new Wt(Jt.INVALID_ARGUMENT,s)}function DT(){return new Wt(Jt.APP_DELETED,"The Firebase app was deleted.")}function qO(s){return new Wt(Jt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(s){throw new Wt(Jt.INTERNAL_ERROR,"Internal error: "+s)}class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw zO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${E}/${x}/b/${o}/o${A}`,"i"),$={bucket:1,path:3},G=n===IT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",ne=new RegExp(`^https?://${G}/${o}/${q}`,"i"),re=[{regex:p,indices:g,postModify:c},{regex:M,indices:$,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<re.length;se++){const he=re[se],me=he.regex.exec(e);if(me){const N=me[he.indices.bucket];let S=me[he.indices.path];S||(S=""),r=new Gn(N,S),he.postModify(r);break}}if(r==null)throw UO(e);return r}}class FO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function HO(s,e,n){let r=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function x(...q){y||(y=!0,e.apply(null,q))}function E(q){o=setTimeout(()=>{o=null,s(M,g())},q)}function A(){c&&clearTimeout(c)}function M(q,...ne){if(y){A();return}if(q){A(),x.call(null,q,...ne);return}if(g()||h){A(),x.call(null,q,...ne);return}r<64&&(r*=2);let re;p===1?(p=2,re=0):re=(r+Math.random())*1e3,E(re)}let $=!1;function G(q){$||($=!0,A(),!y&&(o!==null?(q||(p=2),clearTimeout(o),E(0)):q||(p=1)))}return E(0),c=setTimeout(()=>{h=!0,G(!0)},n),G}function GO(s){s(!1)}function $O(s){return s!==void 0}function ox(s,e,n,r){if(r<e)throw Dp(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Dp(`Invalid value for '${s}'. Expected ${n} or less.`)}function KO(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function QO(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ra;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ra||(ra={}));function YO(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}class XO{constructor(e,n,r,o,c,h,p,g,y,x,E,A=!0,M=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,G)=>{this.resolve_=$,this.reject_=G,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new bh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===ra.NO_ERROR,g=c.getStatus();if(!p||YO(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===ra.ABORT;r(!1,new bh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new bh(y,c))})},n=(r,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());$O(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=jO();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?DT():LO();h(g)}else{const g=PO();h(g)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=HO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JO(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function WO(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZO(s,e){e&&(s["X-Firebase-GMPID"]=e)}function eM(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function tM(s,e,n,r,o,c,h=!0,p=!1){const g=QO(s.urlParams),y=s.url+g,x=Object.assign({},s.headers);return ZO(x,e),JO(x,n),WO(x,c),eM(x,r),new XO(y,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,h,p)}function nM(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function iM(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function sM(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class rM{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function aM(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=MO():o=OO():n.getStatus()===402?o=kO(s.bucket):n.getStatus()===403?o=VO(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function oM(s){const e=aM(s);function n(r,o){let c=e(r,o);return r.getStatus()===404&&(c=DO(s.path)),c.serverResponse=o.serverResponse,c}return n}function lM(s,e){const n=e.fullServerUrl(),r=KO(n,s.host,s._protocol),o="DELETE",c=s.maxOperationRetryTime;function h(g,y){}const p=new rM(r,o,h,c);return p.successCodes=[200,204],p.errorHandler=oM(e),p}class cM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,c){if(this.sent_)throw Kl("cannot .send() more than once");if(br(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends cM{initXhr(){this.xhr_.responseType="text"}}function hM(){return new uM}class da{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sM(this._location.path)}get storage(){return this._service}get parent(){const e=nM(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qO(e)}}function dM(s){s._throwIfRoot("deleteObject");const e=lM(s.storage,s._location);return s.storage.makeRequestWithTokens(e,hM)}function fM(s,e){const n=iM(s._location.path,e),r=new Gn(s._location.bucket,n);return new da(s.storage,r)}function mM(s){return/^[A-Za-z]+:\/\//.test(s)}function pM(s,e){return new da(s,e)}function kT(s,e){if(s instanceof qg){const n=s;if(n._bucket==null)throw BO();const r=new da(n,n._bucket);return e!=null?kT(r,e):r}else return e!==void 0?fM(s,e):s}function gM(s,e){if(e&&mM(e)){if(s instanceof qg)return pM(s,e);throw Dp("To use ref(service, url), the first argument must be a Storage instance.")}else return kT(s,e)}function lx(s,e){const n=e?.[jT];return n==null?null:Gn.makeFromBucketSpec(n,s)}function yM(s,e,n,r={}){s.host=`${e}:${n}`;const o=br(e);o&&(Gp(`https://${s.host}/b`),$p("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:a1(c,s.app.options.projectId))}class qg{constructor(e,n,r,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=IT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CO,this._maxUploadRetryTime=IO,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=lx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=lx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new FO(DT());{const h=tM(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const cx="@firebase/storage",ux="0.14.0";const OT="storage";function _M(s){return s=ht(s),dM(s)}function vM(s,e){return s=ht(s),gM(s,e)}function bM(s=Yp(),e){s=ht(s);const r=dd(s,OT).getImmediate({identifier:e}),o=i1("storage");return o&&xM(r,...o),r}function xM(s,e,n,r={}){yM(s,e,n,r)}function EM(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new qg(n,r,o,e,ma)}function TM(){oa(new dr(OT,EM,"PUBLIC").setMultipleInstances(!0)),Pi(cx,ux,""),Pi(cx,ux,"esm2020")}TM();const wM=[{id:"caja_ch",label:"Caja Chica",icon:f.jsx(lc,{size:18})},{id:"caja_gd",label:"Caja Grande",icon:f.jsx(lc,{size:22})},{id:"sala",label:"Silln / Sala",icon:f.jsx(Qx,{size:20})},{id:"comedor",label:"Mesa Comedor",icon:f.jsx(Yx,{size:20})},{id:"cama_ind",label:"Cama Indiv.",icon:f.jsx(go,{size:18})},{id:"cama_mat",label:"Cama Matrim.",icon:f.jsx(go,{size:20})},{id:"cama_ks",label:"Cama King Size",icon:f.jsx(go,{size:22})},{id:"refri",label:"Refrigerador",icon:f.jsx(Kx,{size:20})},{id:"lavadora",label:"Lavadora/Sec",icon:f.jsx(Jx,{size:20})},{id:"tv",label:"TV / Pantalla",icon:f.jsx(Xx,{size:20})},{id:"escritorio",label:"Escritorio/Office",icon:f.jsx(Hx,{size:20})},{id:"bici",label:"Bicicleta",icon:f.jsx(Oh,{size:20})},{id:"moto",label:"Motocicleta",icon:f.jsx(Oh,{size:22,className:"text-slate-800"})},{id:"auto",label:"Automvil",icon:f.jsx(Px,{size:22})},{id:"arte",label:"Obra de Arte",icon:f.jsx(Bx,{size:20})},{id:"piano",label:"Piano",icon:f.jsx(Gx,{size:20})},{id:"fuerte",label:"Caja Fuerte",icon:f.jsx(Mx,{size:20})},{id:"pallet",label:"Pallet / Carga",icon:f.jsx(zx,{size:20})}],AM=({title:s,onClose:e,children:n})=>f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[f.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[f.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:f.jsx(cd,{size:20})})]}),f.jsx("div",{className:"p-8",children:n})]})}),SM=({url:s,onClose:e})=>f.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex flex-col items-center justify-center p-4 animate-fade-in",onClick:e,children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white bg-white/20 p-2 rounded-full hover:bg-white/40 transition",children:f.jsx(cd,{size:32})}),f.jsx("img",{src:s,alt:"Documento",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),f.jsx("p",{className:"text-white/70 mt-4 text-sm",children:"Toca cualquier parte para cerrar"})]}),NM=({moveData:s,onClose:e,onSuccess:n})=>{const[r,o]=L.useState({...s,taxType:s.taxType||"retention"}),[c,h]=L.useState({name:"",quantity:1}),[p,g]=L.useState(null),[y,x]=L.useState(null);L.useEffect(()=>{o({...s,taxType:s.taxType||"retention"})},[s]);const E=N=>{const S=[...r.items||[]],R=S.findIndex(j=>j.name===N);R>=0?S[R].quantity=Number(S[R].quantity)+1:S.push({name:N,quantity:1}),o({...r,items:S})},A=()=>{if(!c.name)return;const N=[...r.items||[]],S=N.findIndex(R=>R.name.toLowerCase()===c.name.toLowerCase());S>=0?N[S].quantity=Number(N[S].quantity)+Number(c.quantity):N.push({...c}),o({...r,items:N}),h({name:"",quantity:1})},M=N=>{const S=[...r.items];S.splice(N,1),o({...r,items:S})},$=(N,S)=>{const R=[...r.items];R[N].quantity=Number(S),o({...r,items:R})},G=()=>{const N=r.financialItems||[];o({...r,financialItems:[...N,{description:"",cost:0,quantity:1}]})},q=N=>{const S=[...r.financialItems||[]];S.splice(N,1),o({...r,financialItems:S})},ne=(N,S,R)=>{const j=[...r.financialItems||[]];j[N][S]=R,o({...r,financialItems:j})},ee=()=>{const S=(r.financialItems||[]).reduce((P,C)=>P+Number(C.cost)*Number(C.quantity),0);let R=0,j=0;switch(r.taxType){case"iva":R=S*.16,j=0;break;case"retention":R=S*.16,j=S*.04;break;default:R=0,j=0;break}const D=S+R-j;o({...r,subtotal:S.toFixed(2),iva:R.toFixed(2),retention:j.toFixed(2),price:D.toFixed(2)})},re=async(N,S)=>{if(!window.confirm("Seguro que quieres eliminar este archivo?"))return;g(N),(async()=>{try{const j=bM(),D=vM(j,S);await _M(D),console.log("Archivo fsico eliminado en segundo plano.")}catch(j){console.warn("El archivo fsico no se pudo borrar (probablemente ya no exista), pero no importa.",j)}})();try{const j=ci(nn,"moves",r.id);await Jh(j,{[N]:Wj()}),o(D=>({...D,[N]:null}))}catch(j){console.error(j),alert("Error al actualizar la base de datos.")}finally{g(null)}},se=async N=>{N.preventDefault();try{await Jh(ci(nn,"moves",r.id),{...r,taxType:r.taxType||"retention",notes:r.notes||"",items:r.items||[]}),alert("Servicio actualizado correctamente."),n&&n(),e()}catch(S){console.error(S),alert("Error: "+S.message)}},he="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",me="block text-xs font-bold text-gray-500 uppercase mb-1.5";return f.jsxs(f.Fragment,{children:[y&&f.jsx(SM,{url:y,onClose:()=>x(null)}),f.jsx(AM,{title:`Editor de Servicio: ${r.folio}`,onClose:e,children:f.jsxs("form",{onSubmit:se,className:"space-y-8",children:[f.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[f.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Datos Generales"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Nombre Cliente"}),f.jsx("input",{className:he,value:r.client,onChange:N=>o({...r,client:N.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:me,children:"WhatsApp"}),f.jsx("input",{className:he,value:r.phone,onChange:N=>o({...r,phone:N.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Fecha Tentativa"}),f.jsx("input",{type:"date",className:he,value:r.date,onChange:N=>o({...r,date:N.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Estado Actual"}),f.jsxs("select",{className:`${he} cursor-pointer font-bold text-cadena-blue`,value:r.status,onChange:N=>o({...r,status:N.target.value}),children:[f.jsx("option",{value:"Pendiente",children:"Pendiente (Docs)"}),f.jsx("option",{value:"Programada",children:"Programada (Autorizado)"}),f.jsx("option",{value:"Contrato Firmado",children:"Contrato Firmado"}),f.jsx("option",{value:"En Carga",children:"En Carga"}),f.jsx("option",{value:"En Trnsito",children:"En Trnsito"}),f.jsx("option",{value:"Finalizada",children:"Finalizada"})]})]})]})]}),f.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[f.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Ruta Logstica"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Direccin Origen"}),f.jsx("textarea",{className:`${he} h-24`,value:r.origin,onChange:N=>o({...r,origin:N.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Direccin Destino"}),f.jsx("textarea",{className:`${he} h-24`,value:r.destination,onChange:N=>o({...r,destination:N.target.value})})]})]})]}),f.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[f.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(ld,{size:18})," Inventario"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:"AGREGAR RPIDO:"}),f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:wM.map(N=>f.jsxs("button",{type:"button",onClick:()=>E(N.label),className:"flex flex-col items-center justify-center p-2 rounded-lg border border-gray-200 hover:border-cadena-blue hover:bg-blue-50 transition text-gray-500 hover:text-cadena-blue group bg-white",children:[f.jsx("div",{className:"mb-1 group-hover:scale-110 transition-transform",children:N.icon}),f.jsx("span",{className:"text-[9px] font-bold text-center leading-tight",children:N.label})]},N.id))})]}),f.jsx("div",{className:"bg-gray-50 p-4 rounded-xl space-y-2 border border-gray-100 max-h-60 overflow-y-auto mb-4",children:r.items&&r.items.length>0?r.items.map((N,S)=>f.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-lg shadow-sm border border-gray-100 text-sm",children:[f.jsx("input",{type:"number",className:"w-16 p-1 border border-gray-200 rounded text-center font-bold outline-none focus:border-cadena-blue",value:N.quantity,onChange:R=>$(S,R.target.value)}),f.jsx("span",{className:"flex-1 font-medium text-gray-700",children:N.name}),f.jsx("button",{type:"button",onClick:()=>M(S),className:"text-red-300 hover:text-red-500 transition p-1",children:f.jsx(fo,{size:16})})]},S)):f.jsx("p",{className:"text-center text-gray-400 text-xs py-4",children:"Inventario vaco"})}),f.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-gray-200 items-center",children:[f.jsx("span",{className:"text-xs font-bold text-gray-400 whitespace-nowrap",children:"OTRO:"}),f.jsx("input",{type:"number",className:"w-20 p-2 border border-gray-200 rounded-lg text-sm outline-none focus:border-cadena-pink",placeholder:"Cant.",value:c.quantity,onChange:N=>h({...c,quantity:Number(N.target.value)})}),f.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-200 rounded-lg text-sm outline-none focus:border-cadena-pink",placeholder:"Nombre...",value:c.name,onChange:N=>h({...c,name:N.target.value})}),f.jsxs("button",{type:"button",onClick:A,className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-black transition flex items-center gap-1 text-xs font-bold",children:[f.jsx($x,{size:16})," AGREGAR"]})]})]}),f.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-2xl border border-blue-100",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 text-cadena-blue",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Sv,{size:20}),f.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Desglose Financiero"})]}),f.jsx("button",{type:"button",onClick:G,className:"text-xs bg-white border border-cadena-blue px-3 py-1 rounded-full hover:bg-blue-100 transition",children:"+ Agregar Fila"})]}),f.jsx("div",{className:"space-y-2 mb-6",children:r.financialItems&&r.financialItems.map((N,S)=>f.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[f.jsx("div",{className:"col-span-6",children:f.jsx("textarea",{className:`${he} h-16 text-xs py-2`,placeholder:"Descripcin...",value:N.description,onChange:R=>ne(S,"description",R.target.value)})}),f.jsx("div",{className:"col-span-2",children:f.jsx("input",{type:"number",className:`${he} text-center`,placeholder:"$0",value:N.cost,onChange:R=>ne(S,"cost",R.target.value)})}),f.jsx("div",{className:"col-span-2",children:f.jsx("input",{type:"number",className:`${he} text-center`,placeholder:"1",value:N.quantity,onChange:R=>ne(S,"quantity",R.target.value)})}),f.jsx("div",{className:"col-span-2 flex items-center justify-center h-full",children:f.jsx("button",{type:"button",onClick:()=>q(S),className:"text-red-400 hover:text-red-600 bg-white p-2 rounded shadow-sm",children:f.jsx(fo,{size:16})})})]},S))}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 border-t border-blue-100 pt-4",children:[f.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(mN,{size:18,className:"text-gray-400"}),f.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:border-cadena-blue",value:r.taxType||"retention",onChange:N=>o({...r,taxType:N.target.value}),children:[f.jsx("option",{value:"none",children:"Sin Impuestos (Neto)"}),f.jsx("option",{value:"iva",children:"Solo IVA (16%)"}),f.jsx("option",{value:"retention",children:"IVA (16%) + Retencin (-4%)"})]})]}),f.jsxs("button",{type:"button",onClick:ee,className:"bg-cadena-dark text-white px-6 py-2 rounded-lg text-xs font-bold hover:bg-black transition shadow-md flex gap-2 items-center w-full sm:w-auto justify-center",children:[f.jsx(Sv,{size:14})," Calcular Totales"]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2 text-sm text-gray-600",children:[f.jsxs("div",{className:"flex justify-between w-48",children:[f.jsx("span",{children:"Subtotal:"})," ",f.jsxs("span",{className:"font-bold",children:["$",Number(r.subtotal||0).toLocaleString()]})]}),(r.taxType==="iva"||r.taxType==="retention")&&f.jsxs("div",{className:"flex justify-between w-48",children:[f.jsx("span",{children:"IVA (16%):"})," ",f.jsxs("span",{className:"font-bold",children:["$",Number(r.iva||0).toLocaleString()]})]}),r.taxType==="retention"&&f.jsxs("div",{className:"flex justify-between w-48 text-red-500",children:[f.jsx("span",{children:"Retencin (4%):"})," ",f.jsxs("span",{className:"font-bold",children:["-$",Number(r.retention||0).toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between w-64 mt-2 pt-2 border-t border-cadena-blue items-center",children:[f.jsx("span",{className:"font-black text-cadena-blue",children:"TOTAL FINAL:"}),f.jsx("input",{type:"number",className:"w-32 p-2 text-xl font-black text-cadena-blue bg-white border-2 border-cadena-blue rounded-lg text-right outline-none",value:r.price||"",onChange:N=>o({...r,price:N.target.value})})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:me,children:"Notas / Observaciones"}),f.jsx("textarea",{className:`${he} h-32 resize-none`,value:r.notes||"",onChange:N=>o({...r,notes:N.target.value}),placeholder:"Detalles importantes..."})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[f.jsx(Ux,{size:16})," Documentos del Cliente"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs font-bold text-gray-600",children:"IDENTIFICACIN (INE)"}),r.idUrl?f.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-bold",children:"CARGADO"}):f.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),r.idUrl?f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>x(r.idUrl),children:f.jsx("img",{src:r.idUrl,alt:"INE Preview",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>x(r.idUrl),className:"flex-1 bg-blue-50 text-blue-600 text-xs font-bold py-2 rounded hover:bg-blue-100 transition text-center flex items-center justify-center gap-2",children:[f.jsx(Nv,{size:14})," AMPLIAR"]}),f.jsx("button",{type:"button",onClick:()=>re("idUrl",r.idUrl),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p==="idUrl"?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p==="idUrl"?f.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):f.jsx(fo,{size:14})})]})]}):f.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]}),f.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs font-bold text-gray-600",children:"COMPROBANTE DOMICILIO"}),r.addressUrl?f.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-bold",children:"CARGADO"}):f.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),r.addressUrl?f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>x(r.addressUrl),children:f.jsx("img",{src:r.addressUrl,alt:"Domicilio Preview",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>x(r.addressUrl),className:"flex-1 bg-purple-50 text-purple-600 text-xs font-bold py-2 rounded hover:bg-purple-100 transition text-center flex items-center justify-center gap-2",children:[f.jsx(Nv,{size:14})," AMPLIAR"]}),f.jsx("button",{type:"button",onClick:()=>re("addressUrl",r.addressUrl),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p==="addressUrl"?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p==="addressUrl"?f.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):f.jsx(fo,{size:14})})]})]}):f.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]})]})]})]}),f.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition flex justify-center gap-2 items-center text-lg mt-4",children:[f.jsx(yN,{size:20})," Guardar Cambios y Actualizar"]})]})})]})},np=({label:s,icon:e,active:n,onClick:r,count:o})=>f.jsxs("button",{onClick:r,className:`flex items-center gap-2 py-4 border-b-4 font-bold transition whitespace-nowrap px-4 ${n?"border-cadena-pink text-cadena-pink":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[e," ",s," ",o>0&&f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${n?"bg-pink-100 text-cadena-pink":"bg-gray-100 text-gray-500"}`,children:o})]}),ip=({msg:s})=>f.jsx("div",{className:"text-center py-16 bg-white rounded-2xl border-2 border-dashed border-gray-100",children:f.jsx("p",{className:"text-gray-400 font-medium",children:s})}),hx=({title:s,onClose:e,children:n})=>f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[f.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[f.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:f.jsx(cd,{size:20})})]}),f.jsx("div",{className:"p-8",children:n})]})}),RM=()=>{const s=Ec(),[e,n]=L.useState("cotizaciones"),[r,o]=L.useState([]),[c,h]=L.useState(!1),[p,g]=L.useState(null),[y,x]=L.useState(null),[E,A]=L.useState({client:"",phone:"",origin:"",destination:"",date:""});L.useEffect(()=>{const se=jg(yc(nn,"moves"),eD("createdAt","desc")),he=$E(se,me=>{o(me.docs.map(N=>({id:N.id,...N.data()})))});return()=>he()},[]);const M=r.filter(se=>se.status==="Pendiente"),$=r.filter(se=>["Programada","Contrato Firmado","En Carga","En Trnsito"].includes(se.status)),G=r.filter(se=>se.status==="Finalizada"),q=async()=>{await hk(CT),s("/admin")},ne=async se=>{confirm("Eliminar registro?")&&await lD(ci(nn,"moves",se))},ee=se=>{const me=`${window.location.href.split("#")[0]}#/contrato/${se}`;navigator.clipboard.writeText(me),alert("Enlace copiado.")},re=async se=>{se.preventDefault();try{await HE(nn,async he=>{const me=ci(nn,"counters","moves_counter"),N=await he.get(me);let S=1;N.exists()&&(S=N.data().current+1);const R=`MUD-${String(S).padStart(4,"0")}`,j=[{description:"SERVICIO DE FLETE EXCLUSIVO...",cost:0,quantity:1},{description:"MANIOBRA...",cost:0,quantity:1}],D=ci(yc(nn,"moves"));he.set(D,{...E,folio:R,status:"Pendiente",items:[],price:0,subtotal:0,iva:0,retention:0,financialItems:j,createdAt:new Date}),he.set(me,{current:S})}),h(!1),A({client:"",phone:"",origin:"",destination:"",date:""}),alert("Registro creado con xito.")}catch(he){console.error("Error creando folio:",he),alert("Error al generar folio secuencial. Intenta de nuevo.")}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[f.jsxs("nav",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-20 border-b border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-2 text-cadena-pink font-black text-xl tracking-tight",children:[f.jsx(HS,{className:"text-cadena-blue"})," Panel Cadena"]}),f.jsxs("button",{onClick:q,className:"text-gray-400 hover:text-red-500 font-medium text-sm flex gap-2 transition",children:[f.jsx(QS,{size:18})," Salir"]})]}),f.jsx("div",{className:"bg-white px-4 sm:px-8 shadow-sm relative z-10",children:f.jsxs("div",{className:"flex space-x-8 overflow-x-auto",children:[f.jsx(np,{label:"Solicitudes Nuevas",icon:f.jsx(od,{size:18}),active:e==="cotizaciones",onClick:()=>n("cotizaciones"),count:M.length}),f.jsx(np,{label:"Operaciones Activas",icon:f.jsx(hr,{size:18}),active:e==="operaciones",onClick:()=>n("operaciones"),count:$.length}),f.jsx(np,{label:"Historial Finalizado",icon:f.jsx(ad,{size:18}),active:e==="historial",onClick:()=>n("historial"),count:G.length})]})}),f.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e==="cotizaciones"&&f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Solicitudes Recientes"}),M.length===0?f.jsx(ip,{msg:"Sin solicitudes nuevas."}):f.jsx("div",{className:"grid gap-4",children:M.map(se=>f.jsx(ep,{move:se,onEdit:()=>g(se),onDelete:()=>ne(se.id),onCopyLink:()=>ee(se.id),onViewId:()=>x(se),isPending:!0},se.id))})]}),e==="operaciones"&&f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Operaciones Activas"}),f.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl flex gap-2 font-bold shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5",children:[f.jsx(AS,{size:20})," Crear Manual"]})]}),$.length===0?f.jsx(ip,{msg:"Sin operaciones activas."}):f.jsx("div",{className:"grid gap-4",children:$.map(se=>f.jsx(ep,{move:se,onEdit:()=>g(se),onCopyLink:()=>ee(se.id),onDelete:()=>ne(se.id),onViewId:()=>x(se),onPrintOrder:()=>s(`/orden-carga/${se.id}`)},se.id))})]}),e==="historial"&&f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Historial de Servicios"}),G.length===0?f.jsx(ip,{msg:"An no hay mudanzas finalizadas."}):f.jsx("div",{className:"grid gap-4 opacity-80 hover:opacity-100 transition duration-300",children:G.map(se=>f.jsx(ep,{move:se,onEdit:()=>g(se),onCopyLink:()=>ee(se.id),onDelete:()=>ne(se.id),onViewId:()=>x(se),onPrintOrder:()=>s(`/orden-carga/${se.id}`)},se.id))})]})]}),p&&f.jsx(NM,{moveData:p,onClose:()=>g(null),onSuccess:()=>g(null)}),y&&f.jsx(hx,{title:`Documentacin: ${y.client}`,onClose:()=>x(null),children:f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Identificacin (INE):"}),y.idUrl?f.jsx("img",{src:y.idUrl,className:"w-full rounded-xl border shadow-sm"}):f.jsx("p",{className:"text-gray-400 italic text-sm py-4 text-center bg-gray-50 rounded",children:"No adjuntado"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Comprobante de Domicilio:"}),y.addressUrl?f.jsx("img",{src:y.addressUrl,className:"w-full rounded-xl border shadow-sm"}):f.jsx("p",{className:"text-gray-400 italic text-sm py-4 text-center bg-gray-50 rounded",children:"No adjuntado"})]})]})}),c&&f.jsx(hx,{title:"Nueva Mudanza Manual",onClose:()=>h(!1),children:f.jsxs("form",{onSubmit:re,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Nombre del Cliente"}),f.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",placeholder:"Ej. Juan Prez",value:E.client,onChange:se=>A({...E,client:se.target.value}),required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Origen"}),f.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",placeholder:"Colonia / Ciudad",value:E.origin,onChange:se=>A({...E,origin:se.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Destino"}),f.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",placeholder:"Colonia / Ciudad",value:E.destination,onChange:se=>A({...E,destination:se.target.value})})]})]}),f.jsx("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-3 rounded-xl shadow-md transition",children:"Crear Registro"})]})})]})},CM=()=>{const[s,e]=L.useState([]);return L.useEffect(()=>{(async()=>{const r=jg(yc(nn,"moves"),Rp("status","in",["Contrato Firmado","En Trnsito"])),c=(await GE(r)).docs.map(h=>({id:h.id,...h.data()}));e(c)})()},[]),f.jsxs("div",{className:"min-h-screen bg-gray-900 p-4 text-white",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-cadena-blue",children:"rdenes de Trabajo"}),f.jsxs("div",{className:"space-y-4",children:[s.length===0&&f.jsx("p",{className:"text-center text-gray-500",children:"No hay trabajos activos hoy."}),s.map(n=>f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("span",{className:"bg-cadena-pink text-xs font-bold px-2 py-1 rounded",children:["FOLIO: ",n.folio]}),f.jsxs("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:[f.jsx(yS,{size:14})," ",n.date]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx(ms,{className:"text-green-400 shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Origen"}),f.jsx("p",{className:"font-medium",children:n.origin})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(ms,{className:"text-red-400 shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Destino"}),f.jsx("p",{className:"font-medium",children:n.destination})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(Fp,{className:"text-blue-400 shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Contacto Sitio"}),f.jsx("p",{className:"font-medium text-lg",children:n.phone})]})]}),f.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg mt-2",children:[f.jsxs("p",{className:"text-xs text-gray-500 uppercase flex items-center gap-1",children:[f.jsx(ld,{size:12})," Notas de carga"]}),f.jsx("p",{className:"text-sm italic text-gray-300",children:n.items||"Sin especificaciones"})]})]})]},n.id))]})]})},IM=()=>{const{id:s}=Sx(),e=Ec(),[n,r]=L.useState(null),[o,c]=L.useState(!0);return L.useEffect(()=>{(async()=>{if(s)try{const p=ci(nn,"moves",s),g=await oD(p);g.exists()?r({id:g.id,...g.data()}):(alert("Orden no encontrada"),e("/app/dashboard"))}catch(p){console.error("Error cargando orden:",p)}finally{c(!1)}})()},[s,e]),o?f.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando formato..."}):n?f.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans",children:[f.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex justify-between items-center print:hidden",children:[f.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[f.jsx(Up,{size:20})," Volver al Tablero"]}),f.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[f.jsx(Hp,{size:20})," Imprimir / PDF"]})]}),f.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-2xl p-8 md:p-12 rounded-xl print:shadow-none print:w-full print:max-w-none print:p-0 print:rounded-none",children:[f.jsxs("div",{className:"flex justify-between items-start border-b-2 border-black pb-4 mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter text-black",children:"Orden de Carga"}),f.jsx("p",{className:"text-gray-500 font-bold text-sm tracking-widest",children:"MUDANZAS CADENA  LOGSTICA"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Folio de Servicio"}),f.jsx("p",{className:"text-2xl font-black text-red-600",children:n.folio||"S/N"}),f.jsxs("p",{className:"text-xs mt-1 text-gray-400",children:["Fecha Impresin: ",new Date().toLocaleDateString()]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 text-sm",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 print:border-black print:bg-transparent",children:[f.jsxs("div",{className:"flex items-center gap-2 font-bold text-cadena-blue mb-2 print:text-black",children:[f.jsx(IN,{size:18})," DATOS DEL CLIENTE"]}),f.jsx("p",{className:"text-lg font-bold uppercase",children:n.client}),f.jsxs("p",{className:"mt-1",children:["Tel: ",n.phone]}),f.jsxs("p",{className:"mt-1",children:["Fecha Programada: ",f.jsx("span",{className:"font-bold",children:n.date})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-1 text-xs text-gray-400 uppercase tracking-widest",children:[f.jsx(ms,{size:14})," Origen"]}),f.jsx("p",{className:"uppercase text-gray-800 leading-snug font-medium border-l-4 border-green-400 pl-3",children:n.origin})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-1 text-xs text-gray-400 uppercase tracking-widest",children:[f.jsx(hr,{size:14})," Destino"]}),f.jsx("p",{className:"uppercase text-gray-800 leading-snug font-medium border-l-4 border-red-400 pl-3",children:n.destination})]})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"font-bold text-sm uppercase tracking-widest mb-3 border-b pb-1",children:"Inventario Declarado"}),f.jsxs("table",{className:"w-full text-sm border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-100 print:bg-gray-200 text-xs uppercase",children:[f.jsx("th",{className:"p-2 text-center w-16 border border-gray-300",children:"Cant."}),f.jsx("th",{className:"p-2 text-left border border-gray-300",children:"Descripcin"}),f.jsx("th",{className:"p-2 text-center w-24 border border-gray-300 print:border-black",children:"Check"})]})}),f.jsx("tbody",{children:Array.isArray(n.items)&&n.items.length>0?n.items.map((h,p)=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-2 text-center font-bold border border-gray-300",children:h.quantity}),f.jsx("td",{className:"p-2 uppercase border border-gray-300",children:h.name}),f.jsx("td",{className:"p-2 border border-gray-300 print:border-black"})]},p)):f.jsx("tr",{children:f.jsx("td",{colSpan:"3",className:"p-6 text-center text-gray-400 italic border border-gray-300",children:"No hay inventario desglosado en el sistema."})})})]})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsxs("div",{className:"border border-gray-300 p-3 rounded mb-16 min-h-[80px]",children:[f.jsx("p",{className:"font-bold text-[10px] uppercase text-gray-400 mb-1",children:"Notas / Observaciones:"}),f.jsx("p",{className:"uppercase text-sm",children:n.notes||"Sin observaciones adicionales."})]}),f.jsxs("div",{className:"flex justify-between items-end text-center text-xs font-bold uppercase",children:[f.jsx("div",{className:"w-5/12 border-t border-black pt-2",children:"Firma Operador"}),f.jsx("div",{className:"w-5/12 border-t border-black pt-2",children:"Firma Cliente (Conformidad)"})]})]})]})]}):null},jM=()=>{const[s,e]=L.useState(!1);return L.useEffect(()=>{const n=setTimeout(()=>e(!0),1e3);return()=>clearTimeout(n)},[]),f.jsxs(Hn,{to:"/cotizar",className:`fixed bottom-6 right-6 z-[60] flex flex-col items-end cursor-pointer group transition-transform duration-500 ${s?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:[f.jsxs("div",{className:"relative mr-4 mb-2 animate-bounce-slow",children:[f.jsx("div",{className:"bg-white text-cadena-dark font-bold text-sm px-4 py-2 rounded-2xl shadow-xl border border-gray-100 transform transition-transform origin-bottom-right group-hover:scale-110",children:"Psst! Cotizamos? "}),f.jsx("div",{className:"absolute -bottom-1 right-4 w-3 h-3 bg-white border-r border-b border-gray-100 transform rotate-45"})]}),f.jsxs("div",{className:"relative w-20 h-20 md:w-32 md:h-32 transition-all duration-300",children:[f.jsx("div",{className:"absolute inset-0 bg-cadena-blue/30 blur-2xl rounded-full scale-0 group-hover:scale-100 transition-transform duration-300"}),f.jsx("img",{src:ud,alt:"Cotiza con nosotros",className:"w-full h-full object-contain drop-shadow-2xl transform transition-all duration-300 group-hover:-translate-y-2 group-hover:rotate-6"}),f.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white"})]})]})]})},DM=()=>{const{pathname:s}=vs();return L.useEffect(()=>{window.scrollTo(0,0)},[s]),null};function kM(){return f.jsxs(f.Fragment,{children:[f.jsx(DM,{}),f.jsxs(EA,{children:[f.jsxs(oi,{path:"/",element:f.jsxs(f.Fragment,{children:[f.jsx(UN,{}),f.jsx(jM,{})]}),children:[f.jsx(oi,{index:!0,element:f.jsx(tR,{})}),f.jsx(oi,{path:"servicios",element:f.jsx(Wx,{})}),f.jsx(oi,{path:"rastreo",element:f.jsx(AO,{})}),f.jsx(oi,{path:"cotizar",element:f.jsx(SO,{})})]}),f.jsx(oi,{path:"/admin",element:f.jsx(RO,{})}),f.jsx(oi,{path:"/admin/dashboard",element:f.jsx(RM,{})}),f.jsx(oi,{path:"/contrato/:id",element:f.jsx(NO,{})}),f.jsx(oi,{path:"/trabajadores",element:f.jsx(CM,{})}),f.jsx(oi,{path:"/orden-carga/:id",element:f.jsx(IM,{})})]})]})}E2.createRoot(document.getElementById("root")).render(f.jsx(m2.StrictMode,{children:f.jsx($A,{children:f.jsx(kM,{})})}));
