(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function l_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},zl={};var uv;function t2(){if(uv)return zl;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:c}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var dv;function n2(){return dv||(dv=1,Dm.exports=t2()),Dm.exports}var u=n2(),km={exports:{}},Ne={};var hv;function s2(){if(hv)return Ne;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,F={};function se(O,Z,oe){this.props=O,this.context=Z,this.refs=F,this.updater=oe||H}se.prototype.isReactComponent={},se.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=se.prototype;function re(O,Z,oe){this.props=O,this.context=Z,this.refs=F,this.updater=oe||H}var he=re.prototype=new ne;he.constructor=re,$(he,se.prototype),he.isPureReactComponent=!0;var ve=Array.isArray;function ge(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function w(O,Z,oe){var ce=oe.ref;return{$$typeof:r,type:O,key:Z,ref:ce!==void 0?ce:null,props:oe}}function R(O,Z){return w(O.type,Z,O.props)}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Z[oe]})}var I=/\/+/g;function ke(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Z.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ge,ge):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,Z,oe,ce,Te){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(je){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case r:case e:qe=!0;break;case _:return qe=O._init,K(qe(O._payload),Z,oe,ce,Te)}}if(qe)return Te=Te(O),qe=ce===""?"."+ke(O,0):ce,ve(Te)?(oe="",qe!=null&&(oe=qe.replace(I,"$&/")+"/"),K(Te,Z,oe,"",function(wi){return wi})):Te!=null&&(j(Te)&&(Te=R(Te,oe+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+qe)),Z.push(Te)),1;qe=0;var kt=ce===""?".":ce+":";if(ve(O))for(var ot=0;ot<O.length;ot++)ce=O[ot],je=kt+ke(ce,ot),qe+=K(ce,Z,oe,je,Te);else if(ot=V(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(ce=O.next()).done;)ce=ce.value,je=kt+ke(ce,ot++),qe+=K(ce,Z,oe,je,Te);else if(je==="object"){if(typeof O.then=="function")return K(De(O),Z,oe,ce,Te);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return qe}function W(O,Z,oe){if(O==null)return O;var ce=[],Te=0;return K(O,ce,"","",function(je){return Z.call(oe,je,Te++)}),ce}function ie(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Se={map:W,forEach:function(O,Z,oe){W(O,function(){Z.apply(this,arguments)},oe)},count:function(O){var Z=0;return W(O,function(){Z++}),Z},toArray:function(O){return W(O,function(Z){return Z})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=E,Ne.Children=Se,Ne.Component=se,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=re,Ne.StrictMode=i,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,Z,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=$({},O.props),Te=O.key;if(Z!=null)for(je in Z.key!==void 0&&(Te=""+Z.key),Z)!C.call(Z,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Z.ref===void 0||(ce[je]=Z[je]);var je=arguments.length-2;if(je===1)ce.children=oe;else if(1<je){for(var qe=Array(je),kt=0;kt<je;kt++)qe[kt]=arguments[kt+2];ce.children=qe}return w(O.type,Te,ce)},Ne.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,Z,oe){var ce,Te={},je=null;if(Z!=null)for(ce in Z.key!==void 0&&(je=""+Z.key),Z)C.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var qe=arguments.length-2;if(qe===1)Te.children=oe;else if(1<qe){for(var kt=Array(qe),ot=0;ot<qe;ot++)kt[ot]=arguments[ot+2];Te.children=kt}if(O&&O.defaultProps)for(ce in qe=O.defaultProps,qe)Te[ce]===void 0&&(Te[ce]=qe[ce]);return w(O,je,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:p,render:O}},Ne.isValidElement=j,Ne.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ie}},Ne.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Ne.startTransition=function(O){var Z=N.T,oe={};N.T=oe;try{var ce=O(),Te=N.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ge,me)}catch(je){me(je)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),N.T=Z}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(O){return N.H.use(O)},Ne.useActionState=function(O,Z,oe){return N.H.useActionState(O,Z,oe)},Ne.useCallback=function(O,Z){return N.H.useCallback(O,Z)},Ne.useContext=function(O){return N.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,Z){return N.H.useDeferredValue(O,Z)},Ne.useEffect=function(O,Z){return N.H.useEffect(O,Z)},Ne.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(O,Z,oe){return N.H.useImperativeHandle(O,Z,oe)},Ne.useInsertionEffect=function(O,Z){return N.H.useInsertionEffect(O,Z)},Ne.useLayoutEffect=function(O,Z){return N.H.useLayoutEffect(O,Z)},Ne.useMemo=function(O,Z){return N.H.useMemo(O,Z)},Ne.useOptimistic=function(O,Z){return N.H.useOptimistic(O,Z)},Ne.useReducer=function(O,Z,oe){return N.H.useReducer(O,Z,oe)},Ne.useRef=function(O){return N.H.useRef(O)},Ne.useState=function(O){return N.H.useState(O)},Ne.useSyncExternalStore=function(O,Z,oe){return N.H.useSyncExternalStore(O,Z,oe)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.3",Ne}var fv;function Rp(){return fv||(fv=1,km.exports=s2()),km.exports}var L=Rp();const r2=l_(L);var Om={exports:{}},Ul={},Mm={exports:{}},Vm={};var mv;function i2(){return mv||(mv=1,(function(r){function e(K,W){var ie=K.length;K.push(W);e:for(;0<ie;){var me=ie-1>>>1,Se=K[me];if(0<o(Se,W))K[me]=W,K[ie]=Se,ie=me;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var W=K[0],ie=K.pop();if(ie!==W){K[0]=ie;e:for(var me=0,Se=K.length,O=Se>>>1;me<O;){var Z=2*(me+1)-1,oe=K[Z],ce=Z+1,Te=K[ce];if(0>o(oe,ie))ce<Se&&0>o(Te,oe)?(K[me]=Te,K[ce]=ie,me=ce):(K[me]=oe,K[Z]=ie,me=Z);else if(ce<Se&&0>o(Te,ie))K[me]=Te,K[ce]=ie,me=ce;else break e}}return W}function o(K,W){var ie=K.sortIndex-W.sortIndex;return ie!==0?ie:K.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,E=null,S=3,V=!1,H=!1,$=!1,F=!1,se=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var W=n(y);W!==null;){if(W.callback===null)i(y);else if(W.startTime<=K)i(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function ve(K){if($=!1,he(K),!H)if(n(g)!==null)H=!0,ge||(ge=!0,k());else{var W=n(y);W!==null&&De(ve,W.startTime-K)}}var ge=!1,N=-1,C=5,w=-1;function R(){return F?!0:!(r.unstable_now()-w<C)}function j(){if(F=!1,ge){var K=r.unstable_now();w=K;var W=!0;try{e:{H=!1,$&&($=!1,ne(N),N=-1),V=!0;var ie=S;try{t:{for(he(K),E=n(g);E!==null&&!(E.expirationTime>K&&R());){var me=E.callback;if(typeof me=="function"){E.callback=null,S=E.priorityLevel;var Se=me(E.expirationTime<=K);if(K=r.unstable_now(),typeof Se=="function"){E.callback=Se,he(K),W=!0;break t}E===n(g)&&i(g),he(K)}else i(g);E=n(g)}if(E!==null)W=!0;else{var O=n(y);O!==null&&De(ve,O.startTime-K),W=!1}}break e}finally{E=null,S=ie,V=!1}W=void 0}}finally{W?k():ge=!1}}}var k;if(typeof re=="function")k=function(){re(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ke=I.port2;I.port1.onmessage=j,k=function(){ke.postMessage(null)}}else k=function(){se(j,0)};function De(K,W){N=se(function(){K(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ie=S;S=W;try{return K()}finally{S=ie}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=S;S=K;try{return W()}finally{S=ie}},r.unstable_scheduleCallback=function(K,W,ie){var me=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,K){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ie+Se,K={id:_++,callback:W,priorityLevel:K,startTime:ie,expirationTime:Se,sortIndex:-1},ie>me?(K.sortIndex=ie,e(y,K),n(g)===null&&K===n(y)&&($?(ne(N),N=-1):$=!0,De(ve,ie-me))):(K.sortIndex=Se,e(g,K),H||V||(H=!0,ge||(ge=!0,k()))),K},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(K){var W=S;return function(){var ie=S;S=W;try{return K.apply(this,arguments)}finally{S=ie}}}})(Vm)),Vm}var pv;function a2(){return pv||(pv=1,Mm.exports=i2()),Mm.exports}var Lm={exports:{}},en={};var gv;function o2(){if(gv)return en;gv=1;var r=Rp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},en.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},en.requestFormReset=function(g){i.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.3",en}var yv;function c_(){if(yv)return Lm.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=o2(),Lm.exports}var bv;function l2(){if(bv)return Ul;bv=1;var r=a2(),e=Rp(),n=c_();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=m;break}if(T===l){v=!0,l=f,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,l=f;break}if(T===l){v=!0,l=m,a=f;break}T=T.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case se:return"Profiler";case F:return"StrictMode";case ve:return"Suspense";case ge:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case re:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case he:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:ke(t.type)||"Memo";case C:s=t._payload,t=t._init;try{return ke(t(s))}catch{}}return null}var De=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],Se=-1;function O(t){return{current:t}}function Z(t){0>Se||(t.current=me[Se],me[Se]=null,Se--)}function oe(t,s){Se++,me[Se]=t.current,t.current=s}var ce=O(null),Te=O(null),je=O(null),qe=O(null);function kt(t,s){switch(oe(je,s),oe(Te,t),oe(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?kb(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=kb(s),t=Ob(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function ot(){Z(ce),Z(Te),Z(je)}function wi(t){t.memoizedState!==null&&oe(qe,t);var s=ce.current,a=Ob(s,t.type);s!==a&&(oe(Te,t),oe(ce,a))}function va(t){Te.current===t&&(Z(ce),Z(Te)),qe.current===t&&(Z(qe),Ml._currentValue=ie)}var xa,_a;function ms(t){if(xa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xa=s&&s[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+_a}var Mo=!1;function Ai(t,s){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var D=v.split(`
`),B=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ms(a):""}function Vo(t,s){switch(t.tag){case 26:case 27:case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return t.child!==s&&s!==null?ms("Suspense Fallback"):ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return Ai(t.type,!1);case 11:return Ai(t.type.render,!1);case 1:return Ai(t.type,!0);case 31:return ms("Activity");default:return""}}function Lo(t){try{var s="",a=null;do s+=Vo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,kh=r.unstable_shouldYield,Oc=r.unstable_requestPaint,rn=r.unstable_now,Ni=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Mc=r.unstable_IdlePriority,Vc=r.log,Lc=r.unstable_setDisableYieldValue,Zn=null,qt=null;function jn(t){if(typeof Vc=="function"&&Lc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Zn,t)}catch{}}var gt=Math.clz32?Math.clz32:zc,Pc=Math.log,Ea=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(Pc(t)/Ea|0)|0}var ps=256,Si=262144,Et=4194304;function gs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ys(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?f=gs(l):(v&=T,v!==0?f=gs(v):a||(a=T&~t,a!==0&&(f=gs(a))))):(T=l&~m,T!==0?f=gs(T):v!==0?f=gs(v):a||(a=l&~t,a!==0&&(f=gs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Jn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Mh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function bs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ci(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,s,a,l,f,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-gt(a),ee=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Ri(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function Ri(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-gt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Bo(t,s){var a=s&-s;return a=(a&42)!==0?1:ji(a),(a&(t.suspendedLanes|s))!==0?0:a}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $s(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bc(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function Wn(t,s){var a=W.p;try{return W.p=t,s()}finally{W.p=a}}var es=Math.random().toString(36).slice(2),Tt="__reactFiber$"+es,Lt="__reactProps$"+es,vs="__reactContainer$"+es,Ta="__reactEvents$"+es,Lh="__reactListeners$"+es,qc="__reactHandles$"+es,Fc="__reactResources$"+es,xs="__reactMarker$"+es;function wa(t){delete t[Tt],delete t[Lt],delete t[Ta],delete t[Lh],delete t[qc]}function _s(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[vs]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Bb(t);t!==null;){if(a=t[Tt])return a;t=Bb(t)}return s}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[vs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function bn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Es(t){var s=t[Fc];return s||(s=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[xs]=!0}var qo=new Set,Fo={};function Ts(t,s){ws(t,s),ws(t+"Capture",s)}function ws(t,s){for(Fo[t]=s,t=0;t<s.length;t++)qo.add(s[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},$o={};function Hc(t){return _t.call($o,t)?!0:_t.call(Go,t)?!1:Ho.test(t)?$o[t]=!0:(Go[t]=!0,!1)}function Aa(t,s,a){if(Hc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function At(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ye(t){if(!t._valueTracker){var s=wr(t)?"checked":"value";t._valueTracker=Qo(t,s,""+t[s])}}function Ii(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Di=/[\n"\\]/g;function un(t){return t.replace(Di,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(t,s,a,l,f,m,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Pt(s)):t.value!==""+Pt(s)&&(t.value=""+Pt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Ko(t,v,Pt(s)):a!=null?Ko(t,v,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Gc(t,s,a,l,f,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",s=s!=null?""+Pt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function Ko(t,s,a){s==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function $c(t,s,a){if(s!=null&&(s=""+Pt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Pt(a):""}function Nr(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(De(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Pt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function dn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Qc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Xo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Yo(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Yo(t,m,s[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ts(){}var Zo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ns=null;function ki(t){var s=In(t);if(s&&(t=s.stateNode)){var a=t[Lt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(i(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Ii(l)}break e;case"textarea":$c(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ar(t,!!a.multiple,s,!1)}}}var Ra=!1;function Rr(t,s,a){if(Ra)return t(s,a);Ra=!0;try{var l=t(s);return l}finally{if(Ra=!1,(Cr!==null||Ns!==null)&&(Bu(),Cr&&(s=Cr,t=Ns,Ns=Cr=null,ki(s),t)))for(s=0;s<t.length;s++)ki(t[s])}}function ns(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Oi=!1}var Ss=null,Jo=null,Mi=null;function Wo(){if(Mi)return Mi;var t,s=Jo,a=s.length,l,f="value"in Ss?Ss.value:Ss.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===f[m-l];l++);return Mi=f.slice(t,1<l?1-l:void 0)}function Vi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function ss(){return!1}function Ft(t){function s(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qs:ss,this.isPropagationStopped=ss,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Ft(Ks),jr=E({},Ks,{view:0,detail:0}),el=Ft(jr),Ir,ja,Rs,Ia=E({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(Ir=t.screenX-Rs.screenX,ja=t.screenY-Rs.screenY):ja=Ir=0,Rs=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),tl=Ft(Ia),Li=E({},Ia,{dataTransfer:0}),Yc=Ft(Li),Xc=E({},jr,{relatedTarget:0}),Pi=Ft(Xc),nl=E({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=Ft(nl),Da=E({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=Ft(Da),Wc=E({},Ks,{data:0}),js=Ft(Wc),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=nu[t])?!!s[t]:!1}function Dr(){return su}var an=E({},jr,{key:function(t){if(t.key){var s=eu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ru=Ft(an),iu=E({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Ft(iu),d=E({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),b=Ft(d),x=E({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(x),z=E({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ft(z),ae=E({},Ks,{newState:0,oldState:0}),Ce=Ft(ae),yt=[9,13,27,32],Qe=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var On=kn&&"TextEvent"in window&&!lt,Is=kn&&(!Qe||lt&&8<lt&&11>=lt),rs=" ",is=!1;function zi(t,s){switch(t){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function AT(t,s){switch(t){case"compositionend":return ka(s);case"keypress":return s.which!==32?null:(is=!0,rs);case"textInput":return t=s.data,t===rs&&is?null:t;default:return null}}function NT(t,s){if(Oa)return t==="compositionend"||!Qe&&zi(t,s)?(t=Wo(),Mi=Jo=Ss=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Is&&s.locale!=="ko"?null:s.data;default:return null}}var ST={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ST[t.type]:s==="textarea"}function Gg(t,s,a,l){Cr?Ns?Ns.push(l):Ns=[l]:Cr=l,s=Ku(s,"onChange"),0<s.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var sl=null,rl=null;function CT(t){Sb(t,0)}function au(t){var s=bn(t);if(Ii(s))return t}function $g(t,s){if(t==="change")return s}var Qg=!1;if(kn){var Ph;if(kn){var zh="oninput"in document;if(!zh){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),zh=typeof Kg.oninput=="function"}Ph=zh}else Ph=!1;Qg=Ph&&(!document.documentMode||9<document.documentMode)}function Yg(){sl&&(sl.detachEvent("onpropertychange",Xg),rl=sl=null)}function Xg(t){if(t.propertyName==="value"&&au(rl)){var s=[];Gg(s,rl,t,Dn(t)),Rr(CT,s)}}function RT(t,s,a){t==="focusin"?(Yg(),sl=s,rl=a,sl.attachEvent("onpropertychange",Xg)):t==="focusout"&&Yg()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(rl)}function IT(t,s){if(t==="click")return au(s)}function DT(t,s){if(t==="input"||t==="change")return au(s)}function kT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var xn=typeof Object.is=="function"?Object.is:kT;function il(t,s){if(xn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(s,f)||!xn(t[f],s[f]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,s){var a=Zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function Wg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Wg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=As(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=As(t.document)}return s}function Uh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var OT=kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Bh=null,al=null,qh=!1;function ty(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||Ma==null||Ma!==As(l)||(l=Ma,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Ku(Bh,"onSelect"),0<l.length&&(s=new Cs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ma)))}function Ui(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Va={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Fh={},ny={};kn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Bi(t){if(Fh[t])return Fh[t];if(!Va[t])return t;var s=Va[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ny)return Fh[t]=s[a];return t}var sy=Bi("animationend"),ry=Bi("animationiteration"),iy=Bi("animationstart"),MT=Bi("transitionrun"),VT=Bi("transitionstart"),LT=Bi("transitioncancel"),ay=Bi("transitionend"),oy=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function as(t,s){oy.set(t,s),Ts(s,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],La=0,Gh=0;function lu(){for(var t=La,s=Gh=La=0;s<t;){var a=Mn[s];Mn[s++]=null;var l=Mn[s];Mn[s++]=null;var f=Mn[s];Mn[s++]=null;var m=Mn[s];if(Mn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&ly(a,f,m)}}function cu(t,s,a,l){Mn[La++]=t,Mn[La++]=s,Mn[La++]=a,Mn[La++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $h(t,s,a,l){return cu(t,s,a,l),uu(t)}function qi(t,s){return cu(t,null,null,s),uu(t)}function ly(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-gt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function uu(t){if(50<Cl)throw Cl=0,nm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Pa={};function PT(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,s,a,l){return new PT(t,s,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var a=t.alternate;return a===null?(a=_n(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function du(t,s,a,l,f,m){var v=0;if(l=t,typeof t=="function")Qh(t)&&(v=1);else if(typeof t=="string")v=Fw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=_n(31,a,s,f),t.elementType=w,t.lanes=m,t;case $:return Fi(a.children,f,m,s);case F:v=8,f|=24;break;case se:return t=_n(12,a,s,f|2),t.elementType=se,t.lanes=m,t;case ve:return t=_n(13,a,s,f),t.elementType=ve,t.lanes=m,t;case ge:return t=_n(19,a,s,f),t.elementType=ge,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ne:v=9;break e;case he:v=11;break e;case N:v=14;break e;case C:v=16,l=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=_n(v,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Fi(t,s,a,l){return t=_n(7,t,l,s),t.lanes=a,t}function Kh(t,s,a){return t=_n(6,t,null,s),t.lanes=a,t}function uy(t){var s=_n(18,null,null,0);return s.stateNode=t,s}function Yh(t,s,a){return s=_n(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var dy=new WeakMap;function Vn(t,s){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Lo(s)},dy.set(t,s),s)}return{value:t,source:s,stack:Lo(s)}}var za=[],Ua=0,hu=null,ol=0,Ln=[],Pn=0,kr=null,Ds=1,ks="";function Zs(t,s){za[Ua++]=ol,za[Ua++]=hu,hu=t,ol=s}function hy(t,s,a){Ln[Pn++]=Ds,Ln[Pn++]=ks,Ln[Pn++]=kr,kr=t;var l=Ds;t=ks;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var m=32-gt(s)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ds=1<<32-gt(s)+f|a<<f|l,ks=m+t}else Ds=1<<m|a<<f|l,ks=t}function Xh(t){t.return!==null&&(Zs(t,1),hy(t,1,0))}function Zh(t){for(;t===hu;)hu=za[--Ua],za[Ua]=null,ol=za[--Ua],za[Ua]=null;for(;t===kr;)kr=Ln[--Pn],Ln[Pn]=null,ks=Ln[--Pn],Ln[Pn]=null,Ds=Ln[--Pn],Ln[Pn]=null}function fy(t,s){Ln[Pn++]=Ds,Ln[Pn++]=ks,Ln[Pn++]=kr,Ds=s.id,ks=s.overflow,kr=t}var Ht=null,rt=null,Be=!1,Or=null,zn=!1,Jh=Error(i(519));function Mr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Vn(s,t)),Jh}function my(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Tt]=t,s[Lt]=l,a){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(a=0;a<jl.length;a++)Me(jl[a],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Gc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),Nr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ib(s.textContent,a)?(l.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),l.onScroll!=null&&Me("scroll",s),l.onScrollEnd!=null&&Me("scrollend",s),l.onClick!=null&&(s.onclick=ts),s=!0):s=!1,s||Mr(t,!0)}function py(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ht=Ht.return}}function Ba(t){if(t!==Ht)return!1;if(!Be)return py(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&rt&&Mr(t),py(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=Ub(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=Ub(t)}else s===27?(s=rt,Yr(t.type)?(t=Em,Em=null,rt=t):rt=s):rt=Ht?Bn(t.stateNode.nextSibling):null;return!0}function Hi(){rt=Ht=null,Be=!1}function Wh(){var t=Or;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Or=null),t}function ll(t){Or===null?Or=[t]:Or.push(t)}var ef=O(null),Gi=null,Js=null;function Vr(t,s,a){oe(ef,s._currentValue),s._currentValue=a}function Ws(t){t._currentValue=ef.current,Z(ef)}function tf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function nf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<s.length;D++)if(T.context===s[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),tf(m.return,a,t),l||(v=null);break e}m=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),tf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function qa(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var T=f.type;xn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===qe.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}f=f.return}t!==null&&nf(s,t,a,l),s.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $i(t){Gi=t,Js=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return gy(Gi,t)}function mu(t,s){return Gi===null&&$i(t),gy(t,s)}function gy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Js===null){if(t===null)throw Error(i(308));Js=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Js=Js.next=s;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},UT=r.unstable_scheduleCallback,BT=r.unstable_NormalPriority,Nt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new zT,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&UT(BT,function(){t.controller.abort()})}var ul=null,rf=0,Fa=0,Ha=null;function qT(t,s){if(ul===null){var a=ul=[];rf=0,Fa=lm(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,s.then(yy,yy),s}function yy(){if(--rf===0&&ul!==null){Ha!==null&&(Ha.status="fulfilled");var t=ul;ul=null,Fa=0,Ha=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function FT(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var by=K.S;K.S=function(t,s){tb=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qT(t,s),by!==null&&by(t,s)};var Qi=O(null);function af(){var t=Qi.current;return t!==null?t:st.pooledCache}function pu(t,s){s===null?oe(Qi,Qi.current):oe(Qi,s.pool)}function vy(){var t=af();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ga=Error(i(460)),of=Error(i(474)),gu=Error(i(542)),yu={then:function(){}};function xy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ts,ts),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ty(t),t;default:if(typeof s.status=="string")s.then(ts,ts);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ty(t),t}throw Yi=s,Ga}}function Ki(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yi=a,Ga):a}}var Yi=null;function Ey(){if(Yi===null)throw Error(i(459));var t=Yi;return Yi=null,t}function Ty(t){if(t===Ga||t===gu)throw Error(i(483))}var $a=null,dl=0;function bu(t){var s=dl;return dl+=1,$a===null&&($a=[]),_y($a,t,s)}function hl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function vu(t,s){throw s.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function wy(t){function s(P,M){if(t){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)s(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=Xs(P,M),P.index=0,P.sibling=null,P}function m(P,M,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,U,J){return M===null||M.tag!==6?(M=Kh(U,P.mode,J),M.return=P,M):(M=f(M,U),M.return=P,M)}function D(P,M,U,J){var ye=U.type;return ye===$?Y(P,M,U.props.children,J,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Ki(ye)===M.type)?(M=f(M,U.props),hl(M,U),M.return=P,M):(M=du(U.type,U.key,U.props,null,P.mode,J),hl(M,U),M.return=P,M)}function B(P,M,U,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Yh(U,P.mode,J),M.return=P,M):(M=f(M,U.children||[]),M.return=P,M)}function Y(P,M,U,J,ye){return M===null||M.tag!==7?(M=Fi(U,P.mode,J,ye),M.return=P,M):(M=f(M,U),M.return=P,M)}function ee(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kh(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return U=du(M.type,M.key,M.props,null,P.mode,U),hl(U,M),U.return=P,U;case H:return M=Yh(M,P.mode,U),M.return=P,M;case C:return M=Ki(M),ee(P,M,U)}if(De(M)||k(M))return M=Fi(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return ee(P,bu(M),U);if(M.$$typeof===re)return ee(P,mu(P,M),U);vu(P,M)}return null}function q(P,M,U,J){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:T(P,M,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return U.key===ye?D(P,M,U,J):null;case H:return U.key===ye?B(P,M,U,J):null;case C:return U=Ki(U),q(P,M,U,J)}if(De(U)||k(U))return ye!==null?null:Y(P,M,U,J,null);if(typeof U.then=="function")return q(P,M,bu(U),J);if(U.$$typeof===re)return q(P,M,mu(P,U),J);vu(P,U)}return null}function Q(P,M,U,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(U)||null,T(M,P,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return P=P.get(J.key===null?U:J.key)||null,D(M,P,J,ye);case H:return P=P.get(J.key===null?U:J.key)||null,B(M,P,J,ye);case C:return J=Ki(J),Q(P,M,U,J,ye)}if(De(J)||k(J))return P=P.get(U)||null,Y(M,P,J,ye,null);if(typeof J.then=="function")return Q(P,M,U,bu(J),ye);if(J.$$typeof===re)return Q(P,M,U,mu(M,J),ye);vu(M,J)}return null}function de(P,M,U,J){for(var ye=null,Ge=null,fe=M,Ie=M=0,Le=null;fe!==null&&Ie<U.length;Ie++){fe.index>Ie?(Le=fe,fe=null):Le=fe.sibling;var $e=q(P,fe,U[Ie],J);if($e===null){fe===null&&(fe=Le);break}t&&fe&&$e.alternate===null&&s(P,fe),M=m($e,M,Ie),Ge===null?ye=$e:Ge.sibling=$e,Ge=$e,fe=Le}if(Ie===U.length)return a(P,fe),Be&&Zs(P,Ie),ye;if(fe===null){for(;Ie<U.length;Ie++)fe=ee(P,U[Ie],J),fe!==null&&(M=m(fe,M,Ie),Ge===null?ye=fe:Ge.sibling=fe,Ge=fe);return Be&&Zs(P,Ie),ye}for(fe=l(fe);Ie<U.length;Ie++)Le=Q(fe,P,Ie,U[Ie],J),Le!==null&&(t&&Le.alternate!==null&&fe.delete(Le.key===null?Ie:Le.key),M=m(Le,M,Ie),Ge===null?ye=Le:Ge.sibling=Le,Ge=Le);return t&&fe.forEach(function(ei){return s(P,ei)}),Be&&Zs(P,Ie),ye}function _e(P,M,U,J){if(U==null)throw Error(i(151));for(var ye=null,Ge=null,fe=M,Ie=M=0,Le=null,$e=U.next();fe!==null&&!$e.done;Ie++,$e=U.next()){fe.index>Ie?(Le=fe,fe=null):Le=fe.sibling;var ei=q(P,fe,$e.value,J);if(ei===null){fe===null&&(fe=Le);break}t&&fe&&ei.alternate===null&&s(P,fe),M=m(ei,M,Ie),Ge===null?ye=ei:Ge.sibling=ei,Ge=ei,fe=Le}if($e.done)return a(P,fe),Be&&Zs(P,Ie),ye;if(fe===null){for(;!$e.done;Ie++,$e=U.next())$e=ee(P,$e.value,J),$e!==null&&(M=m($e,M,Ie),Ge===null?ye=$e:Ge.sibling=$e,Ge=$e);return Be&&Zs(P,Ie),ye}for(fe=l(fe);!$e.done;Ie++,$e=U.next())$e=Q(fe,P,Ie,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&fe.delete($e.key===null?Ie:$e.key),M=m($e,M,Ie),Ge===null?ye=$e:Ge.sibling=$e,Ge=$e);return t&&fe.forEach(function(e2){return s(P,e2)}),Be&&Zs(P,Ie),ye}function tt(P,M,U,J){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case V:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===$){if(M.tag===7){a(P,M.sibling),J=f(M,U.props.children),J.return=P,P=J;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Ki(ye)===M.type){a(P,M.sibling),J=f(M,U.props),hl(J,U),J.return=P,P=J;break e}a(P,M);break}else s(P,M);M=M.sibling}U.type===$?(J=Fi(U.props.children,P.mode,J,U.key),J.return=P,P=J):(J=du(U.type,U.key,U.props,null,P.mode,J),hl(J,U),J.return=P,P=J)}return v(P);case H:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),J=f(M,U.children||[]),J.return=P,P=J;break e}else{a(P,M);break}else s(P,M);M=M.sibling}J=Yh(U,P.mode,J),J.return=P,P=J}return v(P);case C:return U=Ki(U),tt(P,M,U,J)}if(De(U))return de(P,M,U,J);if(k(U)){if(ye=k(U),typeof ye!="function")throw Error(i(150));return U=ye.call(U),_e(P,M,U,J)}if(typeof U.then=="function")return tt(P,M,bu(U),J);if(U.$$typeof===re)return tt(P,M,mu(P,U),J);vu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),J=f(M,U),J.return=P,P=J):(a(P,M),J=Kh(U,P.mode,J),J.return=P,P=J),v(P)):a(P,M)}return function(P,M,U,J){try{dl=0;var ye=tt(P,M,U,J);return $a=null,ye}catch(fe){if(fe===Ga||fe===gu)throw fe;var Ge=_n(29,fe,null,P.mode);return Ge.lanes=J,Ge.return=P,Ge}}}var Xi=wy(!0),Ay=wy(!1),Lr=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=uu(t),ly(t,null,a),s}return cu(t,l,s,a),uu(t)}function fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Uo(t,a)}}function uf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var df=!1;function ml(){if(df){var t=Ha;if(t!==null)throw t}}function pl(t,s,a,l){df=!1;var f=t.updateQueue;Lr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,B=D.next;D.next=null,v===null?m=B:v.next=B,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(m!==null){var ee=f.baseState;v=0,Y=B=D=null,T=m;do{var q=T.lane&-536870913,Q=q!==T.lane;if(Q?(Ve&q)===q:(l&q)===q){q!==0&&q===Fa&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,_e=T;q=s;var tt=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ee=de.call(tt,ee,q);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,q=typeof de=="function"?de.call(tt,ee,q):de,q==null)break e;ee=E({},ee,q);break e;case 2:Lr=!0}}q=T.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=Q,D=ee):Y=Y.next=Q,v|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),Hr|=v,t.lanes=v,t.memoizedState=ee}}function Ny(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Sy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],s)}var Qa=O(null),xu=O(0);function Cy(t,s){t=lr,oe(xu,t),oe(Qa,s),lr=t|s.baseLanes}function hf(){oe(xu,lr),oe(Qa,Qa.current)}function ff(){lr=xu.current,Z(Qa),Z(xu)}var En=O(null),Un=null;function Ur(t){var s=t.alternate;oe(bt,bt.current&1),oe(En,t),Un===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(Un=t)}function mf(t){oe(bt,bt.current),oe(En,t),Un===null&&(Un=t)}function Ry(t){t.tag===22?(oe(bt,bt.current),oe(En,t),Un===null&&(Un=t)):Br()}function Br(){oe(bt,bt.current),oe(En,En.current)}function Tn(t){Z(En),Un===t&&(Un=null),Z(bt)}var bt=O(0);function _u(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||_m(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var er=0,Re=null,We=null,St=null,Eu=!1,Ka=!1,Zi=!1,Tu=0,gl=0,Ya=null,HT=0;function ht(){throw Error(i(321))}function pf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!xn(t[a],s[a]))return!1;return!0}function gf(t,s,a,l,f,m){return er=m,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=t===null||t.memoizedState===null?h0:If,Zi=!1,m=a(l,f),Zi=!1,Ka&&(m=Iy(s,a,l,f)),jy(t),m}function jy(t){K.H=vl;var s=We!==null&&We.next!==null;if(er=0,St=We=Re=null,Eu=!1,gl=0,Ya=null,s)throw Error(i(300));t===null||Ct||(t=t.dependencies,t!==null&&fu(t)&&(Ct=!0))}function Iy(t,s,a,l){Re=t;var f=0;do{if(Ka&&(Ya=null),gl=0,Ka=!1,25<=f)throw Error(i(301));if(f+=1,St=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=f0,m=s(a,l)}while(Ka);return m}function GT(){var t=K.H,s=t.useState()[0];return s=typeof s.then=="function"?yl(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),s}function yf(){var t=Tu!==0;return Tu=0,t}function bf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function vf(t){if(Eu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Eu=!1}er=0,St=We=Re=null,Ka=!1,gl=Tu=0,Ya=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=t:St=St.next=t,St}function vt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=St===null?Re.memoizedState:St.next;if(s!==null)St=s,We=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Re.memoizedState=St=t:St=St.next=t}return St}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var s=gl;return gl+=1,Ya===null&&(Ya=[]),t=_y(Ya,t,s),s=Re,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?h0:If),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===re)return Gt(t)}throw Error(i(438,String(t)))}function xf(t){var s=null,a=Re.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=wu(),Re.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=R;return s.index++,a}function tr(t,s){return typeof s=="function"?s(t):s}function Nu(t){var s=vt();return _f(s,We,t)}function _f(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var T=v=null,D=null,B=s,Y=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Ve&ee)===ee:(er&ee)===ee){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Fa&&(Y=!0);else if((er&q)===q){B=B.next,q===Fa&&(Y=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=ee,v=m):D=D.next=ee,Re.lanes|=q,Hr|=q;ee=B.action,Zi&&a(m,ee),m=B.hasEagerState?B.eagerState:a(m,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,v=m):D=D.next=q,Re.lanes|=ee,Hr|=ee;B=B.next}while(B!==null&&B!==s);if(D===null?v=m:D.next=T,!xn(m,t.memoizedState)&&(Ct=!0,Y&&(a=Ha,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var s=vt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);xn(m,s.memoizedState)||(Ct=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Dy(t,s,a){var l=Re,f=vt(),m=Be;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!xn((We||f).memoizedState,a);if(v&&(f.memoizedState=a,Ct=!0),f=f.queue,Af(My.bind(null,l,f,t),[t]),f.getSnapshot!==s||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Oy.bind(null,l,f,a,s),null),st===null)throw Error(i(349));m||(er&127)!==0||ky(l,s,a)}return a}function ky(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Re.updateQueue,s===null?(s=wu(),Re.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Oy(t,s,a,l){s.value=a,s.getSnapshot=l,Vy(s)&&Ly(t)}function My(t,s,a){return a(function(){Vy(s)&&Ly(t)})}function Vy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!xn(t,a)}catch{return!0}}function Ly(t){var s=qi(t,2);s!==null&&gn(s,t,2)}function Tf(t){var s=on();if(typeof t=="function"){var a=t;if(t=a(),Zi){jn(!0);try{a()}finally{jn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},s}function Py(t,s,a,l){return t.baseState=a,_f(t,We,typeof l=="function"?l:tr)}function $T(t,s,a,l,f){if(Ru(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,zy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function zy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=K.T,v={};K.T=v;try{var T=a(f,l),D=K.S;D!==null&&D(v,T),Uy(t,s,T)}catch(B){wf(t,s,B)}finally{m!==null&&v.types!==null&&(m.types=v.types),K.T=m}}else try{m=a(f,l),Uy(t,s,m)}catch(B){wf(t,s,B)}}function Uy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){By(t,s,l)},function(l){return wf(t,s,l)}):By(t,s,a)}function By(t,s,a){s.status="fulfilled",s.value=a,qy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,zy(t,a)))}function wf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,qy(s),s=s.next;while(s!==l)}t.action=null}function qy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Fy(t,s){return s}function Hy(t,s){if(Be){var a=st.formState;if(a!==null){e:{var l=Re;if(Be){if(rt){t:{for(var f=rt,m=zn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Bn(f.nextSibling),l=f.data==="F!";break e}}Mr(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:s},a.queue=l,a=c0.bind(null,Re,l),l.dispatch=a,l=Tf(!1),m=jf.bind(null,Re,!1,l.queue),l=on(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=$T.bind(null,Re,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Gy(t){var s=vt();return $y(s,We,t)}function $y(t,s,a){if(s=_f(t,s,Fy)[0],t=Nu(tr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=yl(s)}catch(v){throw v===Ga?gu:v}else l=s;s=vt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Re.flags|=2048,Xa(9,{destroy:void 0},QT.bind(null,f,a),null)),[l,m,t]}function QT(t,s){t.action=s}function Qy(t){var s=vt(),a=We;if(a!==null)return $y(s,a,t);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Xa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Re.updateQueue,s===null&&(s=wu(),Re.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Ky(){return vt().memoizedState}function Su(t,s,a,l){var f=on();Re.flags|=t,f.memoizedState=Xa(1|s,{destroy:void 0},a,l===void 0?null:l)}function Cu(t,s,a,l){var f=vt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&pf(l,We.memoizedState.deps)?f.memoizedState=Xa(s,m,a,l):(Re.flags|=t,f.memoizedState=Xa(1|s,m,a,l))}function Yy(t,s){Su(8390656,8,t,s)}function Af(t,s){Cu(2048,8,t,s)}function KT(t){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=wu(),Re.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Xy(t){var s=vt().memoizedState;return KT({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Zy(t,s){return Cu(4,2,t,s)}function Jy(t,s){return Cu(4,4,t,s)}function Wy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function e0(t,s,a){a=a!=null?a.concat([t]):null,Cu(4,4,Wy.bind(null,s,t),a)}function Nf(){}function t0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&pf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function n0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&pf(s,l[1]))return l[0];if(l=t(),Zi){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,s],l}function Sf(t,s,a){return a===void 0||(er&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=sb(),Re.lanes|=t,Hr|=t,a)}function s0(t,s,a,l){return xn(a,s)?a:Qa.current!==null?(t=Sf(t,a,l),xn(t,s)||(Ct=!0),t):(er&42)===0||(er&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=a):(t=sb(),Re.lanes|=t,Hr|=t,s)}function r0(t,s,a,l,f){var m=W.p;W.p=m!==0&&8>m?m:8;var v=K.T,T={};K.T=T,jf(t,!1,s,a);try{var D=f(),B=K.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=FT(D,l);bl(t,s,Y,Nn(t))}else bl(t,s,l,Nn(t))}catch(ee){bl(t,s,{then:function(){},status:"rejected",reason:ee},Nn())}finally{W.p=m,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function YT(){}function Cf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=i0(t).queue;r0(t,f,s,ie,a===null?YT:function(){return a0(t),a(l)})}function i0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ie},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function a0(t){var s=i0(t);s.next===null&&(s=t.alternate.memoizedState),bl(t,s.next.queue,{},Nn())}function Rf(){return Gt(Ml)}function o0(){return vt().memoizedState}function l0(){return vt().memoizedState}function XT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();t=Pr(a);var l=zr(s,t,a);l!==null&&(gn(l,s,a),fl(l,s,a)),s={cache:sf()},t.payload=s;return}s=s.return}}function ZT(t,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(t)?u0(s,a):(a=$h(t,s,a,l),a!==null&&(gn(a,t,l),d0(a,s,l)))}function c0(t,s,a){var l=Nn();bl(t,s,a,l)}function bl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))u0(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,T=m(v,a);if(f.hasEagerState=!0,f.eagerState=T,xn(T,v))return cu(t,s,f,0),st===null&&lu(),!1}catch{}if(a=$h(t,s,f,l),a!==null)return gn(a,t,l),d0(a,s,l),!0}return!1}function jf(t,s,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(s)throw Error(i(479))}else s=$h(t,a,l,2),s!==null&&gn(s,t,2)}function Ru(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function u0(t,s){Ka=Eu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function d0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Uo(t,a)}}var vl={readContext:Gt,use:Au,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};vl.useEffectEvent=ht;var h0={readContext:Gt,use:Au,useCallback:function(t,s){return on().memoizedState=[t,s===void 0?null:s],t},useContext:Gt,useEffect:Yy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Su(4194308,4,Wy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Su(4194308,4,t,s)},useInsertionEffect:function(t,s){Su(4,2,t,s)},useMemo:function(t,s){var a=on();s=s===void 0?null:s;var l=t();if(Zi){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=on();if(a!==void 0){var f=a(s);if(Zi){jn(!0);try{a(s)}finally{jn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=ZT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var s=on();return t={current:t},s.memoizedState=t},useState:function(t){t=Tf(t);var s=t.queue,a=c0.bind(null,Re,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,s){var a=on();return Sf(a,t,s)},useTransition:function(){var t=Tf(!1);return t=r0.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Re,f=on();if(Be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),st===null)throw Error(i(349));(Ve&127)!==0||ky(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Yy(My.bind(null,l,m,t),[t]),l.flags|=2048,Xa(9,{destroy:void 0},Oy.bind(null,l,m,a,s),null),a},useId:function(){var t=on(),s=st.identifierPrefix;if(Be){var a=ks,l=Ds;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Tu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=HT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Rf,useFormState:Hy,useActionState:Hy,useOptimistic:function(t){var s=on();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=jf.bind(null,Re,!0,a),a.dispatch=s,[t,s]},useMemoCache:xf,useCacheRefresh:function(){return on().memoizedState=XT.bind(null,Re)},useEffectEvent:function(t){var s=on(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Gt,use:Au,useCallback:t0,useContext:Gt,useEffect:Af,useImperativeHandle:e0,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:n0,useReducer:Nu,useRef:Ky,useState:function(){return Nu(tr)},useDebugValue:Nf,useDeferredValue:function(t,s){var a=vt();return s0(a,We.memoizedState,t,s)},useTransition:function(){var t=Nu(tr)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),s]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:Rf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,s){var a=vt();return Py(a,We,t,s)},useMemoCache:xf,useCacheRefresh:l0};If.useEffectEvent=Xy;var f0={readContext:Gt,use:Au,useCallback:t0,useContext:Gt,useEffect:Af,useImperativeHandle:e0,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:n0,useReducer:Ef,useRef:Ky,useState:function(){return Ef(tr)},useDebugValue:Nf,useDeferredValue:function(t,s){var a=vt();return We===null?Sf(a,t,s):s0(a,We.memoizedState,t,s)},useTransition:function(){var t=Ef(tr)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),s]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:Rf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,s){var a=vt();return We!==null?Py(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:l0};f0.useEffectEvent=Xy;function Df(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Nn(),f=Pr(l);f.payload=s,a!=null&&(f.callback=a),s=zr(t,f,l),s!==null&&(gn(s,t,l),fl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Nn(),f=Pr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=zr(t,f,l),s!==null&&(gn(s,t,l),fl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Nn(),l=Pr(a);l.tag=2,s!=null&&(l.callback=s),s=zr(t,l,a),s!==null&&(gn(s,t,a),fl(s,t,a))}};function m0(t,s,a,l,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!il(a,l)||!il(f,m):!0}function p0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&kf.enqueueReplaceState(s,s.state,null)}function Ji(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function g0(t){ou(t)}function y0(t){console.error(t)}function b0(t){ou(t)}function ju(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function v0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Of(t,s,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){ju(t,s)},a}function x0(t){return t=Pr(t),t.tag=3,t}function _0(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){v0(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){v0(s,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function JT(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&qa(s,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?qu():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===yu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(i(435,a.tag))}return im(t,l,f),qu(),!1}if(Be)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jh&&(t=Error(i(422),{cause:l}),ll(Vn(t,a)))):(l!==Jh&&(s=Error(i(423),{cause:l}),ll(Vn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=Of(t.stateNode,l,f),uf(t,f),ft!==4&&(ft=2)),!1;var m=Error(i(520),{cause:l});if(m=Vn(m,a),Sl===null?Sl=[m]:Sl.push(m),ft!==4&&(ft=2),s===null)return!0;l=Vn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Of(a.stateNode,l,t),uf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gr===null||!Gr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=x0(f),_0(f,t,a,l),uf(a,f),!1}a=a.return}while(a!==null);return!1}var Mf=Error(i(461)),Ct=!1;function $t(t,s,a,l){s.child=t===null?Ay(s,null,a,l):Xi(s,t.child,a,l)}function E0(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return $i(s),l=gf(t,s,a,v,m,f),T=yf(),t!==null&&!Ct?(bf(t,s,f),nr(t,s,f)):(Be&&T&&Xh(s),s.flags|=1,$t(t,s,l,f),s.child)}function T0(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Qh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,w0(t,s,m,l,f)):(t=du(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Ff(t,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===s.ref)return nr(t,s,f)}return s.flags|=1,t=Xs(m,l),t.ref=s.ref,t.return=s,s.child=t}function w0(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(il(m,l)&&t.ref===s.ref)if(Ct=!1,s.pendingProps=l=m,Ff(t,f))(t.flags&131072)!==0&&(Ct=!0);else return s.lanes=t.lanes,nr(t,s,f)}return Vf(t,s,a,l,f)}function A0(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return N0(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(s,m!==null?m.cachePool:null),m!==null?Cy(s,m):hf(),Ry(s);else return l=s.lanes=536870912,N0(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(pu(s,m.cachePool),Cy(s,m),Br(),s.memoizedState=null):(t!==null&&pu(s,null),hf(),Br());return $t(t,s,f,a),s.child}function xl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function N0(t,s,a,l,f){var m=af();return m=m===null?null:{parent:Nt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&pu(s,null),hf(),Ry(s),t!==null&&qa(t,s,l,!0),s.childLanes=f,null}function Iu(t,s){return s=ku({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function S0(t,s,a){return Xi(s,t.child,null,a),t=Iu(s,s.pendingProps),t.flags|=2,Tn(s),s.memoizedState=null,t}function WT(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Iu(s,l),s.lanes=536870912,xl(null,t);if(mf(s),(t=rt)?(t=zb(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ds,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=s,s.child=a,Ht=s,rt=null)):t=null,t===null)throw Mr(s);return s.lanes=536870912,null}return Iu(s,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(mf(s),f)if(s.flags&256)s.flags&=-257,s=S0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ct||qa(t,s,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=st,l!==null&&(v=Bo(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,qi(t,v),gn(l,t,v),Mf;qu(),s=S0(t,s,a)}else t=m.treeContext,rt=Bn(v.nextSibling),Ht=s,Be=!0,Or=null,zn=!1,t!==null&&fy(s,t),s=Iu(s,l),s.flags|=4096;return s}return t=Xs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Du(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Vf(t,s,a,l,f){return $i(s),a=gf(t,s,a,l,void 0,f),l=yf(),t!==null&&!Ct?(bf(t,s,f),nr(t,s,f)):(Be&&l&&Xh(s),s.flags|=1,$t(t,s,a,f),s.child)}function C0(t,s,a,l,f,m){return $i(s),s.updateQueue=null,a=Iy(s,l,a,f),jy(t),l=yf(),t!==null&&!Ct?(bf(t,s,m),nr(t,s,m)):(Be&&l&&Xh(s),s.flags|=1,$t(t,s,a,m),s.child)}function R0(t,s,a,l,f){if($i(s),s.stateNode===null){var m=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(m=Gt(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=kf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},lf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Gt(v):Pa,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Df(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&kf.enqueueReplaceState(m,m.state,null),pl(s,l,m,f),ml(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,D=Ji(a,T);m.props=D;var B=m.context,Y=a.contextType;v=Pa,typeof Y=="object"&&Y!==null&&(v=Gt(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==v)&&p0(s,m,l,v),Lr=!1;var q=s.memoizedState;m.state=q,pl(s,l,m,f),ml(),B=s.memoizedState,T||q!==B||Lr?(typeof ee=="function"&&(Df(s,a,ee,l),B=s.memoizedState),(D=Lr||m0(s,a,D,l,q,B,v))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=v,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,cf(t,s),v=s.memoizedProps,Y=Ji(a,v),m.props=Y,ee=s.pendingProps,q=m.context,B=a.contextType,D=Pa,typeof B=="object"&&B!==null&&(D=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ee||q!==D)&&p0(s,m,l,D),Lr=!1,q=s.memoizedState,m.state=q,pl(s,l,m,f),ml();var Q=s.memoizedState;v!==ee||q!==Q||Lr||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof T=="function"&&(Df(s,a,T,l),Q=s.memoizedState),(Y=Lr||m0(s,a,Y,l,q,Q,D)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Du(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=Xi(s,t.child,null,f),s.child=Xi(s,null,a,f)):$t(t,s,a,f),s.memoizedState=m.state,t=s.child):t=nr(t,s,f),t}function j0(t,s,a,l){return Hi(),s.flags|=256,$t(t,s,a,l),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:vy()}}function zf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=An),t}function I0(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(f?Ur(s):Br(),(t=rt)?(t=zb(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ds,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=s,s.child=a,Ht=s,rt=null)):t=null,t===null)throw Mr(s);return _m(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Br(),f=s.mode,T=ku({mode:"hidden",children:T},f),l=Fi(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Pf(a),l.childLanes=zf(t,v,a),s.memoizedState=Lf,xl(null,l)):(Ur(s),Uf(s,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)s.flags&256?(Ur(s),s.flags&=-257,s=Bf(t,s,a)):s.memoizedState!==null?(Br(),s.child=t.child,s.flags|=128,s=null):(Br(),T=l.fallback,f=s.mode,l=ku({mode:"visible",children:l.children},f),T=Fi(T,f,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Xi(s,t.child,null,a),l=s.child,l.memoizedState=Pf(a),l.childLanes=zf(t,v,a),s.memoizedState=Lf,s=xl(null,l));else if(Ur(s),_m(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(i(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),s=Bf(t,s,a)}else if(Ct||qa(t,s,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=st,v!==null&&(l=Bo(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,qi(t,l),gn(v,t,l),Mf;xm(T)||qu(),s=Bf(t,s,a)}else xm(T)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,rt=Bn(T.nextSibling),Ht=s,Be=!0,Or=null,zn=!1,t!==null&&fy(s,t),s=Uf(s,l.children),s.flags|=4096);return s}return f?(Br(),T=l.fallback,f=s.mode,D=t.child,B=D.sibling,l=Xs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Xs(B,T):(T=Fi(T,f,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,xl(null,l),l=s.child,T=t.child.memoizedState,T===null?T=Pf(a):(f=T.cachePool,f!==null?(D=Nt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=vy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=zf(t,v,a),s.memoizedState=Lf,xl(t.child,l)):(Ur(s),a=t.child,t=a.sibling,a=Xs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Uf(t,s){return s=ku({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ku(t,s){return t=_n(22,t,null,s),t.lanes=0,t}function Bf(t,s,a){return Xi(s,t.child,null,a),t=Uf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function D0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),tf(t.return,s,a)}function qf(t,s,a,l,f,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function k0(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=bt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,oe(bt,v),$t(t,s,l,a),l=Be?ol:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,a,s);else if(t.tag===19)D0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&_u(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),qf(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&_u(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}qf(s,!0,a,null,m,l);break;case"together":qf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function nr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Hr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(qa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Xs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Xs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ff(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function ew(t,s,a){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),Vr(s,Nt,t.memoizedState.cache),Hi();break;case 27:case 5:wi(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:Vr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?I0(t,s,a):(Ur(s),t=nr(t,s,a),t!==null?t.sibling:null);Ur(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(qa(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return k0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(bt,bt.current),l)break;return null;case 22:return s.lanes=0,A0(t,s,a,s.pendingProps);case 24:Vr(s,Nt,t.memoizedState.cache)}return nr(t,s,a)}function O0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ct=!0;else{if(!Ff(t,a)&&(s.flags&128)===0)return Ct=!1,ew(t,s,a);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(s.flags&1048576)!==0&&hy(s,ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Ki(s.elementType),s.type=t,typeof t=="function")Qh(t)?(l=Ji(t,l),s.tag=1,s=R0(null,s,t,l,a)):(s.tag=0,s=Vf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===he){s.tag=11,s=E0(null,s,t,l,a);break e}else if(f===N){s.tag=14,s=T0(null,s,t,l,a);break e}}throw s=ke(t)||t,Error(i(306,s,""))}}return s;case 0:return Vf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ji(l,s.pendingProps),R0(t,s,l,f,a);case 3:e:{if(kt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,cf(t,s),pl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Vr(s,Nt,l),l!==m.cache&&nf(s,[Nt],a,!0),ml(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=j0(t,s,l,a);break e}else if(l!==f){f=Vn(Error(i(424)),s),ll(f),s=j0(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Bn(t.firstChild),Ht=s,Be=!0,Or=null,zn=!0,a=Ay(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hi(),l===f){s=nr(t,s,a);break e}$t(t,s,l,a)}s=s.child}return s;case 26:return Du(t,s),t===null?(a=Gb(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,l=Yu(je.current).createElement(a),l[Tt]=s,l[Lt]=t,Qt(l,a,t),wt(l),s.stateNode=l):s.memoizedState=Gb(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return wi(s),t===null&&Be&&(l=s.stateNode=qb(s.type,s.pendingProps,je.current),Ht=s,zn=!0,f=rt,Yr(s.type)?(Em=f,rt=Bn(l.firstChild)):rt=f),$t(t,s,s.pendingProps.children,a),Du(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((f=l=rt)&&(l=jw(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ht=s,rt=Bn(l.firstChild),zn=!1,f=!0):f=!1),f||Mr(s)),wi(s),f=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,ym(f,m)?l=null:v!==null&&ym(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=gf(t,s,GT,null,null,a),Ml._currentValue=f),Du(t,s),$t(t,s,l,a),s.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=Iw(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ht=s,rt=null,t=!0):t=!1),t||Mr(s)),null;case 13:return I0(t,s,a);case 4:return kt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Xi(s,null,l,a):$t(t,s,l,a),s.child;case 11:return E0(t,s,s.type,s.pendingProps,a);case 7:return $t(t,s,s.pendingProps,a),s.child;case 8:return $t(t,s,s.pendingProps.children,a),s.child;case 12:return $t(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Vr(s,s.type,l.value),$t(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,$i(s),f=Gt(f),l=l(f),s.flags|=1,$t(t,s,l,a),s.child;case 14:return T0(t,s,s.type,s.pendingProps,a);case 15:return w0(t,s,s.type,s.pendingProps,a);case 19:return k0(t,s,a);case 31:return WT(t,s,a);case 22:return A0(t,s,a,s.pendingProps);case 24:return $i(s),l=Gt(Nt),t===null?(f=af(),f===null&&(f=st,m=sf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},lf(s),Vr(s,Nt,f)):((t.lanes&a)!==0&&(cf(t,s),pl(s,null,null,a),ml()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Vr(s,Nt,l)):(l=m.cache,Vr(s,Nt,l),l!==f.cache&&nf(s,[Nt],a,!0))),$t(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function sr(t){t.flags|=4}function Hf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ob())t.flags|=8192;else throw Yi=yu,of}else t.flags&=-16777217}function M0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xb(s))if(ob())t.flags|=8192;else throw Yi=yu,of}function Ou(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Uc():536870912,t.lanes|=s,eo|=s)}function _l(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function tw(t,s,a){var l=s.pendingProps;switch(Zh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ws(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(s)?sr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wh())),it(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(sr(s),m!==null?(it(s),M0(s,m)):(it(s),Hf(s,f,null,l,a))):m?m!==t.memoizedState?(sr(s),it(s),M0(s,m)):(it(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(s),it(s),Hf(s,f,t,l,a)),null;case 27:if(va(s),a=je.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&sr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}t=ce.current,Ba(s)?my(s):(t=qb(f,l,a),s.stateNode=t,sr(s))}return it(s),null;case 5:if(va(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&sr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(m=ce.current,Ba(s))my(s);else{var v=Yu(je.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[Tt]=s,m[Lt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Qt(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(s)}}return it(s),Hf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&sr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=je.current,Ba(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ib(t.nodeValue,a)),t||Mr(s,!0)}else t=Yu(t).createTextNode(l),t[Tt]=s,s.stateNode=t}return it(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Tt]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),t=!1}else a=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Tn(s),s):(Tn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Tt]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),f=!1}else f=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Tn(s),s):(Tn(s),null)}return Tn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Ou(s,s.updateQueue),it(s),null);case 4:return ot(),t===null&&hm(s.stateNode.containerInfo),it(s),null;case 10:return Ws(s.type),it(s),null;case 19:if(Z(bt),l=s.memoizedState,l===null)return it(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)_l(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=_u(t),m!==null){for(s.flags|=128,_l(l,!1),t=m.updateQueue,s.updateQueue=t,Ou(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)cy(a,t),a=a.sibling;return oe(bt,bt.current&1|2),Be&&Zs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&rn()>zu&&(s.flags|=128,f=!0,_l(l,!1),s.lanes=4194304)}else{if(!f)if(t=_u(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Ou(s,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Be)return it(s),null}else 2*rn()-l.renderingStartTime>zu&&a!==536870912&&(s.flags|=128,f=!0,_l(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=bt.current,oe(bt,f?a&1|2:a&1),Be&&Zs(s,l.treeForkCount),t):(it(s),null);case 22:case 23:return Tn(s),ff(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&Ou(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&Z(Qi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ws(Nt),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nw(t,s){switch(Zh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ws(Nt),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return va(s),null;case 31:if(s.memoizedState!==null){if(Tn(s),s.alternate===null)throw Error(i(340));Hi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Tn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Hi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(bt),null;case 4:return ot(),null;case 10:return Ws(s.type),null;case 22:case 23:return Tn(s),ff(),t!==null&&Z(Qi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ws(Nt),null;case 25:return null;default:return null}}function V0(t,s){switch(Zh(s),s.tag){case 3:Ws(Nt),ot();break;case 26:case 27:case 5:va(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&Tn(s);break;case 13:Tn(s);break;case 19:Z(bt);break;case 10:Ws(s.type);break;case 22:case 23:Tn(s),ff(),t!==null&&Z(Qi);break;case 24:Ws(Nt)}}function El(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(s,s.return,T)}}function qr(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var D=a,B=T;try{B()}catch(Y){Ze(f,D,Y)}}}l=l.next}while(l!==m)}}catch(Y){Ze(s,s.return,Y)}}function L0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Sy(s,a)}catch(l){Ze(t,t.return,l)}}}function P0(t,s,a){a.props=Ji(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,s,l)}}function Tl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ze(t,s,f)}}function Os(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(t,s,f)}else a.current=null}function z0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(t,t.return,f)}}function Gf(t,s,a){try{var l=t.stateNode;ww(l,t.type,a,s),l[Lt]=s}catch(f){Ze(t,t.return,f)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ts));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Qf(t,s,a),t=t.sibling;t!==null;)Qf(t,s,a),t=t.sibling}function Mu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,s,a),t=t.sibling;t!==null;)Mu(t,s,a),t=t.sibling}function B0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,l,a),s[Tt]=t,s[Lt]=a}catch(m){Ze(t,t.return,m)}}var rr=!1,Rt=!1,Kf=!1,q0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function sw(t,s){if(t=t.containerInfo,pm=nd,t=ey(t),Uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,D=-1,B=0,Y=0,ee=t,q=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==m||l!==0&&ee.nodeType!==3||(D=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===a&&++B===f&&(T=v),q===m&&++Y===l&&(D=v),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},nd=!1,zt=s;zt!==null;)if(s=zt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,zt=t;else for(;zt!==null;){switch(s=zt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var de=Ji(a.type,f);t=l.getSnapshotBeforeUpdate(de,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,zt=t;break}zt=s.return}}function F0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),l&4&&El(5,a);break;case 1:if(ar(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var f=Ji(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&L0(a),l&512&&Tl(a,a.return);break;case 3:if(ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sy(t,s)}catch(v){Ze(a,a.return,v)}}break;case 27:s===null&&l&4&&B0(a);case 26:case 5:ar(t,a),s===null&&l&4&&z0(a),l&512&&Tl(a,a.return);break;case 12:ar(t,a);break;case 31:ar(t,a),l&4&&$0(t,a);break;case 13:ar(t,a),l&4&&Q0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hw.bind(null,a),Dw(t,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){s=s!==null&&s.memoizedState!==null||Rt,f=rr;var m=Rt;rr=l,(Rt=s)&&!m?or(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),rr=f,Rt=m}break;case 30:break;default:ar(t,a)}}function H0(t){var s=t.alternate;s!==null&&(t.alternate=null,H0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&wa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function ir(t,s,a){for(a=a.child;a!==null;)G0(t,s,a),a=a.sibling}function G0(t,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Rt||Os(a,s),ir(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Os(a,s);var l=ct,f=hn;Yr(a.type)&&(ct=a.stateNode,hn=!1),ir(t,s,a),Dl(a.stateNode),ct=l,hn=f;break;case 5:Rt||Os(a,s);case 6:if(l=ct,f=hn,ct=null,ir(t,s,a),ct=l,hn=f,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{ct.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:ct!==null&&(hn?(t=ct,Lb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):Lb(ct,a.stateNode));break;case 4:l=ct,f=hn,ct=a.stateNode.containerInfo,hn=!0,ir(t,s,a),ct=l,hn=f;break;case 0:case 11:case 14:case 15:qr(2,a,s),Rt||qr(4,a,s),ir(t,s,a);break;case 1:Rt||(Os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P0(a,s,l)),ir(t,s,a);break;case 21:ir(t,s,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,ir(t,s,a),Rt=l;break;default:ir(t,s,a)}}function $0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){Ze(s,s.return,a)}}}function Q0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){Ze(s,s.return,a)}}function rw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new q0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new q0),s;default:throw Error(i(435,t.tag))}}function Vu(t,s){var a=rw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=fw.bind(null,t,l);l.then(f,f)}})}function fn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Yr(T.type)){ct=T.stateNode,hn=!1;break e}break;case 5:ct=T.stateNode,hn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ct===null)throw Error(i(160));G0(m,v,f),ct=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)K0(s,t),s=s.sibling}var os=null;function K0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(s,t),mn(t),l&4&&(qr(3,t,t.return),El(3,t),qr(5,t,t.return));break;case 1:fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),l&64&&rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=os;if(fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[xs]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Qt(m,l,a),m[Tt]=t,wt(m),l=m;break e;case"link":var v=Kb("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=Kb("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=f.createElement(l),Qt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Tt]=t,wt(m),l=m}t.stateNode=l}else Yb(f,t.type,t.stateNode);else t.stateNode=Qb(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Yb(f,t.type,t.stateNode):Qb(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,t),mn(t),l&512&&(Rt||a===null||Os(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(de){Ze(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kf=!0);break;case 6:if(fn(s,t),mn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ze(t,t.return,de)}}break;case 3:if(Ju=null,f=os,os=Xu(s.containerInfo),fn(s,t),os=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(s.containerInfo)}catch(de){Ze(t,t.return,de)}Kf&&(Kf=!1,Y0(t));break;case 4:l=os,os=Xu(t.stateNode.containerInfo),fn(s,t),mn(t),os=l;break;case 12:fn(s,t),mn(t);break;case 31:fn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:fn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=rr,Y=Rt;if(rr=B||f,Rt=Y||D,fn(s,t),Rt=Y,rr=B,mn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||rr||Rt||Wi(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(de){Ze(D,D.return,de)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(de){Ze(D,D.return,de)}}}else if(s.tag===18){if(a===null){D=s;try{var Q=D.stateNode;f?Pb(Q,!0):Pb(D.stateNode,!1)}catch(de){Ze(D,D.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vu(t,a))));break;case 19:fn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:fn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(U0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=$f(t);Mu(t,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(dn(v,""),a.flags&=-33);var T=$f(t);Mu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=$f(t);Qf(t,B,D);break;default:throw Error(i(161))}}catch(Y){Ze(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Y0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ar(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)F0(t,s.alternate,s),s=s.sibling}function Wi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:qr(4,s,s.return),Wi(s);break;case 1:Os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&P0(s,s.return,a),Wi(s);break;case 27:Dl(s.stateNode);case 26:case 5:Os(s,s.return),Wi(s);break;case 22:s.memoizedState===null&&Wi(s);break;case 30:Wi(s);break;default:Wi(s)}t=t.sibling}}function or(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:or(f,m,a),El(4,m);break;case 1:if(or(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ny(D[f],T)}catch(B){Ze(l,l.return,B)}}a&&v&64&&L0(m),Tl(m,m.return);break;case 27:B0(m);case 26:case 5:or(f,m,a),a&&l===null&&v&4&&z0(m),Tl(m,m.return);break;case 12:or(f,m,a);break;case 31:or(f,m,a),a&&v&4&&$0(f,m);break;case 13:or(f,m,a),a&&v&4&&Q0(f,m);break;case 22:m.memoizedState===null&&or(f,m,a),Tl(m,m.return);break;case 30:break;default:or(f,m,a)}s=s.sibling}}function Yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Xf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&cl(t))}function ls(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X0(t,s,a,l),s=s.sibling}function X0(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ls(t,s,a,l),f&2048&&El(9,s);break;case 1:ls(t,s,a,l);break;case 3:ls(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ls(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(s,s.return,D)}}else ls(t,s,a,l);break;case 31:ls(t,s,a,l);break;case 13:ls(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?ls(t,s,a,l):wl(t,s):m._visibility&2?ls(t,s,a,l):(m._visibility|=2,Za(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Yf(v,s);break;case 24:ls(t,s,a,l),f&2048&&Xf(s.alternate,s);break;default:ls(t,s,a,l)}}function Za(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,T=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Za(m,v,T,D,f),El(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Za(m,v,T,D,f):wl(m,v):(Y._visibility|=2,Za(m,v,T,D,f)),f&&B&2048&&Yf(v.alternate,v);break;case 24:Za(m,v,T,D,f),f&&B&2048&&Xf(v.alternate,v);break;default:Za(m,v,T,D,f)}s=s.sibling}}function wl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Yf(l.alternate,l);break;case 24:wl(a,l),f&2048&&Xf(l.alternate,l);break;default:wl(a,l)}s=s.sibling}}var Al=8192;function Ja(t,s,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Z0(t,s,a),t=t.sibling}function Z0(t,s,a){switch(t.tag){case 26:Ja(t,s,a),t.flags&Al&&t.memoizedState!==null&&Hw(a,os,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,s,a);break;case 3:case 4:var l=os;os=Xu(t.stateNode.containerInfo),Ja(t,s,a),os=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Ja(t,s,a),Al=l):Ja(t,s,a));break;default:Ja(t,s,a)}}function J0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Nl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,eb(l,t)}J0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W0(t),t=t.sibling}function W0(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Lu(t)):Nl(t);break;default:Nl(t)}}function Lu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,eb(l,t)}J0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:qr(8,s,s.return),Lu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(s));break;default:Lu(s)}t=t.sibling}}function eb(t,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(H0(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var iw={getCacheForType:function(t){var s=Gt(Nt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Gt(Nt).controller.signal}},aw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Oe=null,Ve=0,Xe=0,wn=null,Fr=!1,Wa=!1,Zf=!1,lr=0,ft=0,Hr=0,ea=0,Jf=0,An=0,eo=0,Sl=null,pn=null,Wf=!1,Pu=0,tb=0,zu=1/0,Uu=null,Gr=null,Mt=0,$r=null,to=null,cr=0,em=0,tm=null,nb=null,Cl=0,nm=null;function Nn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:K.T!==null?lm():Bc()}function sb(){if(An===0)if((Ve&536870912)===0||Be){var t=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function gn(t,s,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(no(t,0),Qr(t,Ve,An,!1)),Ci(t,a),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(ea|=a),ft===4&&Qr(t,Ve,An,!1)),Ms(t))}function rb(t,s,a){if((Ke&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Jn(t,s),f=l?cw(t,s):rm(t,s,!0),m=l;do{if(f===0){Wa&&!l&&Qr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!ow(a)){f=rm(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=t;f=Sl;var D=T.current.memoizedState.isDehydrated;if(D&&(no(T,v).flags|=256),v=rm(T,v,!1),v!==2){if(Zf&&!D){T.errorRecoveryDisabledLanes|=m,ea|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){no(t,0),Qr(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qr(l,s,An,!Fr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Pu+300-rn(),10<f)){if(Qr(l,s,An,!Fr),ys(l,0,!0)!==0)break e;cr=s,l.timeoutHandle=Mb(ib.bind(null,l,a,pn,Uu,Wf,s,An,ea,eo,Fr,m,"Throttled",-0,0),f);break e}ib(l,a,pn,Uu,Wf,s,An,ea,eo,Fr,m,null,-0,0)}}break}while(!0);Ms(t)}function ib(t,s,a,l,f,m,v,T,D,B,Y,ee,q,Q){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},Z0(s,m,ee);var de=(m&62914560)===m?Pu-rn():(m&4194048)===m?tb-rn():0;if(de=Gw(ee,de),de!==null){cr=m,t.cancelPendingCommit=de(fb.bind(null,t,s,m,a,l,f,v,T,D,Y,ee,null,q,Q)),Qr(t,m,v,!B);return}}fb(t,s,m,a,l,f,v,T,D)}function ow(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qr(t,s,a,l){s&=~Jf,s&=~ea,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-gt(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Ri(t,a,s)}function Bu(){return(Ke&6)===0?(Rl(0),!1):!0}function sm(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Js=Gi=null,vf(t),$a=null,dl=0,t=Oe;for(;t!==null;)V0(t.alternate,t),t=t.return;Oe=null}}function no(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Sw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,sm(),st=t,Oe=a=Xs(t.current,null),Ve=s,Xe=0,wn=null,Fr=!1,Wa=Jn(t,s),Zf=!1,eo=An=Jf=ea=Hr=ft=0,pn=Sl=null,Wf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-gt(l),m=1<<f;s|=t[f],l&=~m}return lr=s,lu(),a}function ab(t,s){Re=null,K.H=vl,s===Ga||s===gu?(s=Ey(),Xe=3):s===of?(s=Ey(),Xe=4):Xe=s===Mf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Oe===null&&(ft=1,ju(t,Vn(s,t.current)))}function ob(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?Un===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Un:!1}function lb(){var t=K.H;return K.H=vl,t===null?vl:t}function cb(){var t=K.A;return K.A=iw,t}function qu(){ft=4,Fr||(Ve&4194048)!==Ve&&En.current!==null||(Wa=!0),(Hr&134217727)===0&&(ea&134217727)===0||st===null||Qr(st,Ve,An,!1)}function rm(t,s,a){var l=Ke;Ke|=2;var f=lb(),m=cb();(st!==t||Ve!==s)&&(Uu=null,no(t,s)),s=!1;var v=ft;e:do try{if(Xe!==0&&Oe!==null){var T=Oe,D=wn;switch(Xe){case 8:sm(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var B=Xe;if(Xe=0,wn=null,so(t,T,D,B),a&&Wa){v=0;break e}break;default:B=Xe,Xe=0,wn=null,so(t,T,D,B)}}lw(),v=ft;break}catch(Y){ab(t,Y)}while(!0);return s&&t.shellSuspendCounter++,Js=Gi=null,Ke=l,K.H=f,K.A=m,Oe===null&&(st=null,Ve=0,lu()),v}function lw(){for(;Oe!==null;)ub(Oe)}function cw(t,s){var a=Ke;Ke|=2;var l=lb(),f=cb();st!==t||Ve!==s?(Uu=null,zu=rn()+500,no(t,s)):Wa=Jn(t,s);e:do try{if(Xe!==0&&Oe!==null){s=Oe;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,so(t,s,m,1);break;case 2:case 9:if(xy(m)){Xe=0,wn=null,db(s);break}s=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Ms(t)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xy(m)?(Xe=0,wn=null,db(s)):(Xe=0,wn=null,so(t,s,m,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(v?Xb(v):T.stateNode.complete){Xe=0,wn=null;var D=T.sibling;if(D!==null)Oe=D;else{var B=T.return;B!==null?(Oe=B,Fu(B)):Oe=null}break t}}Xe=0,wn=null,so(t,s,m,5);break;case 6:Xe=0,wn=null,so(t,s,m,6);break;case 8:sm(),ft=6;break e;default:throw Error(i(462))}}uw();break}catch(Y){ab(t,Y)}while(!0);return Js=Gi=null,K.H=l,K.A=f,Ke=a,Oe!==null?0:(st=null,Ve=0,lu(),ft)}function uw(){for(;Oe!==null&&!kh();)ub(Oe)}function ub(t){var s=O0(t.alternate,t,lr);t.memoizedProps=t.pendingProps,s===null?Fu(t):Oe=s}function db(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=C0(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=C0(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:vf(s);default:V0(a,s),s=Oe=cy(s,lr),s=O0(a,s,lr)}t.memoizedProps=t.pendingProps,s===null?Fu(t):Oe=s}function so(t,s,a,l){Js=Gi=null,vf(s),$a=null,dl=0;var f=s.return;try{if(JT(t,f,s,a,Ve)){ft=1,ju(t,Vn(a,t.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ft=1,ju(t,Vn(a,t.current)),Oe=null;return}s.flags&32768?(Be||l===1?t=!0:Wa||(Ve&536870912)!==0?t=!1:(Fr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),hb(s,t)):Fu(s)}function Fu(t){var s=t;do{if((s.flags&32768)!==0){hb(s,Fr);return}t=s.return;var a=tw(s.alternate,s,lr);if(a!==null){Oe=a;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=t}while(s!==null);ft===0&&(ft=5)}function hb(t,s){do{var a=nw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function fb(t,s,a,l,f,m,v,T,D){t.cancelPendingCommit=null;do Hu();while(Mt!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Gh,Vh(t,a,m,v,T,D),t===st&&(Oe=st=null,Ve=0),to=s,$r=t,cr=a,em=m,tm=f,nb=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mw(Tr,function(){return bb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=W.p,W.p=2,v=Ke,Ke|=4;try{sw(t,s,a)}finally{Ke=v,W.p=f,K.T=l}}Mt=1,mb(),pb(),gb()}}function mb(){if(Mt===1){Mt=0;var t=$r,s=to,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=W.p;W.p=2;var f=Ke;Ke|=4;try{K0(s,t);var m=gm,v=ey(t.containerInfo),T=m.focusedElem,D=m.selectionRange;if(v!==T&&T&&T.ownerDocument&&Wg(T.ownerDocument.documentElement,T)){if(D!==null&&Uh(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var ee=T.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var Q=q.getSelection(),de=T.textContent.length,_e=Math.min(D.start,de),tt=D.end===void 0?_e:Math.min(D.end,de);!Q.extend&&_e>tt&&(v=tt,tt=_e,_e=v);var P=Jg(T,_e),M=Jg(T,tt);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var U=ee.createRange();U.setStart(P.node,P.offset),Q.removeAllRanges(),_e>tt?(Q.addRange(U),Q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),Q.addRange(U))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nd=!!pm,gm=pm=null}finally{Ke=f,W.p=l,K.T=a}}t.current=s,Mt=2}}function pb(){if(Mt===2){Mt=0;var t=$r,s=to,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=W.p;W.p=2;var f=Ke;Ke|=4;try{F0(t,s.alternate,s)}finally{Ke=f,W.p=l,K.T=a}}Mt=3}}function gb(){if(Mt===4||Mt===3){Mt=0,Oc();var t=$r,s=to,a=cr,l=nb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,to=$r=null,yb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),$s(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Zn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,f=W.p,W.p=2,K.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];m(T.value,{componentStack:T.stack})}}finally{K.T=s,W.p=f}}(cr&3)!==0&&Hu(),Ms(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nm?Cl++:(Cl=0,nm=t):Cl=0,Rl(0)}}function yb(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,cl(s)))}function Hu(){return mb(),pb(),gb(),bb()}function bb(){if(Mt!==5)return!1;var t=$r,s=em;em=0;var a=$s(cr),l=K.T,f=W.p;try{W.p=32>a?32:a,K.T=null,a=tm,tm=null;var m=$r,v=cr;if(Mt=0,to=$r=null,cr=0,(Ke&6)!==0)throw Error(i(331));var T=Ke;if(Ke|=4,W0(m.current),X0(m,m.current,v,a),Ke=T,Rl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{W.p=f,K.T=l,yb(t,s)}}function vb(t,s,a){s=Vn(a,s),s=Of(t.stateNode,s,2),t=zr(t,s,2),t!==null&&(Ci(t,2),Ms(t))}function Ze(t,s,a){if(t.tag===3)vb(t,t,a);else for(;s!==null;){if(s.tag===3){vb(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Vn(a,t),a=x0(2),l=zr(s,a,2),l!==null&&(_0(a,l,s,t),Ci(l,2),Ms(l));break}}s=s.return}}function im(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Zf=!0,f.add(a),t=dw.bind(null,t,s,a),s.then(t,t))}function dw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>rn()-Pu?(Ke&2)===0&&no(t,0):Jf|=a,eo===Ve&&(eo=0)),Ms(t)}function xb(t,s){s===0&&(s=Uc()),t=qi(t,s),t!==null&&(Ci(t,s),Ms(t))}function hw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),xb(t,a)}function fw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),xb(t,a)}function mw(t,s){return Ot(t,s)}var Gu=null,ro=null,am=!1,$u=!1,om=!1,Kr=0;function Ms(t){t!==ro&&t.next===null&&(ro===null?Gu=ro=t:ro=ro.next=t),$u=!0,am||(am=!0,gw())}function Rl(t,s){if(!om&&$u){om=!0;do for(var a=!1,l=Gu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=f&~(v&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,wb(l,m))}else m=Ve,m=ys(l,l===st?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Jn(l,m)||(a=!0,wb(l,m));l=l.next}while(a);om=!1}}function pw(){_b()}function _b(){$u=am=!1;var t=0;Kr!==0&&Nw()&&(t=Kr);for(var s=rn(),a=null,l=Gu;l!==null;){var f=l.next,m=Eb(l,s);m===0?(l.next=null,a===null?Gu=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(m&3)!==0)&&($u=!0)),l=f}Mt!==0&&Mt!==5||Rl(t),Kr!==0&&(Kr=0)}function Eb(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-gt(m),T=1<<v,D=f[v];D===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Mh(T,s)):D<=s&&(t.expiredLanes|=T),m&=~T}if(s=st,a=Ve,a=ys(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Er(l),$s(a)){case 2:case 8:a=zo;break;case 32:a=Tr;break;case 268435456:a=Mc;break;default:a=Tr}return l=Tb.bind(null,t),a=Ot(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function Tb(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hu()&&t.callbackNode!==a)return null;var l=Ve;return l=ys(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rb(t,l,s),Eb(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Tb.bind(null,t):null)}function wb(t,s){if(Hu())return null;rb(t,s,!0)}function gw(){Cw(function(){(Ke&6)!==0?Ot(Po,pw):_b()})}function lm(){if(Kr===0){var t=Fa;t===0&&(t=ps,ps<<=1,(ps&261888)===0&&(ps=256)),Kr=t}return Kr}function Ab(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function Nb(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function yw(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=Ab((f[Lt]||null).action),v=l.submitter;v&&(s=(s=v[Lt]||null)?Ab(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var T=new Cs("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var D=v?Nb(f,v):new FormData(f);Cf(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=v?Nb(f,v):new FormData(f),Cf(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var cm=0;cm<Hh.length;cm++){var um=Hh[cm],bw=um.toLowerCase(),vw=um[0].toUpperCase()+um.slice(1);as(bw,"on"+vw)}as(sy,"onAnimationEnd"),as(ry,"onAnimationIteration"),as(iy,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(MT,"onTransitionRun"),as(VT,"onTransitionStart"),as(LT,"onTransitionCancel"),as(ay,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Sb(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Y){ou(Y)}f.currentTarget=null,m=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,B=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Y){ou(Y)}f.currentTarget=null,m=D}}}}function Me(t,s){var a=s[Ta];a===void 0&&(a=s[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Cb(s,t,2,!1),a.add(l))}function dm(t,s,a){var l=0;s&&(l|=4),Cb(a,t,l,s)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function hm(t){if(!t[Qu]){t[Qu]=!0,qo.forEach(function(a){a!=="selectionchange"&&(xw.has(a)||dm(a,!1,t),dm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Qu]||(s[Qu]=!0,dm("selectionchange",!1,s))}}function Cb(t,s,a,l){switch(sv(s)){case 2:var f=Kw;break;case 8:f=Yw;break;default:f=Sm}a=f.bind(null,s,a,t),f=void 0,!Oi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function fm(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=_s(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=m=v;continue e}T=T.parentNode}}l=l.return}Rr(function(){var B=m,Y=Dn(a),ee=[];e:{var q=oy.get(t);if(q!==void 0){var Q=Cs,de=t;switch(t){case"keypress":if(Vi(a)===0)break e;case"keydown":case"keyup":Q=ru;break;case"focusin":de="focus",Q=Pi;break;case"focusout":de="blur",Q=Pi;break;case"beforeblur":case"afterblur":Q=Pi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=b;break;case sy:case ry:case iy:Q=Zc;break;case ay:Q=A;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ys;break;case"toggle":case"beforetoggle":Q=Ce}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),P=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=B,U;M!==null;){var J=M;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||P===null||(J=ns(M,P),J!=null&&_e.push(Il(M,J,U))),tt)break;M=M.return}0<_e.length&&(q=new Q(q,de,null,a,Y),ee.push({event:q,listeners:_e}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==Zo&&(de=a.relatedTarget||a.fromElement)&&(_s(de)||de[vs]))break e;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=B,de=de?_s(de):null,de!==null&&(tt=c(de),_e=de.tag,de!==tt||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(Q=null,de=B),Q!==de)){if(_e=tl,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ys,J="onPointerLeave",P="onPointerEnter",M="pointer"),tt=Q==null?q:bn(Q),U=de==null?q:bn(de),q=new _e(J,M+"leave",Q,a,Y),q.target=tt,q.relatedTarget=U,J=null,_s(Y)===B&&(_e=new _e(P,M+"enter",de,a,Y),_e.target=U,_e.relatedTarget=tt,J=_e),tt=J,Q&&de)t:{for(_e=_w,P=Q,M=de,U=0,J=P;J;J=_e(J))U++;J=0;for(var ye=M;ye;ye=_e(ye))J++;for(;0<U-J;)P=_e(P),U--;for(;0<J-U;)M=_e(M),J--;for(;U--;){if(P===M||M!==null&&P===M.alternate){_e=P;break t}P=_e(P),M=_e(M)}_e=null}else _e=null;Q!==null&&Rb(ee,q,Q,_e,!1),de!==null&&tt!==null&&Rb(ee,tt,de,_e,!0)}}e:{if(q=B?bn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Ge=$g;else if(Hg(q))if(Qg)Ge=DT;else{Ge=jT;var fe=RT}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Sa(B.elementType)&&(Ge=$g):Ge=IT;if(Ge&&(Ge=Ge(t,B))){Gg(ee,Ge,a,Y);break e}fe&&fe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ko(q,"number",q.value)}switch(fe=B?bn(B):window,t){case"focusin":(Hg(fe)||fe.contentEditable==="true")&&(Ma=fe,Bh=B,al=null);break;case"focusout":al=Bh=Ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,ty(ee,a,Y);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":ty(ee,a,Y)}var Ie;if(Qe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Oa?zi(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Is&&a.locale!=="ko"&&(Oa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Oa&&(Ie=Wo()):(Ss=Y,Jo="value"in Ss?Ss.value:Ss.textContent,Oa=!0)),fe=Ku(B,Le),0<fe.length&&(Le=new js(Le,t,null,a,Y),ee.push({event:Le,listeners:fe}),Ie?Le.data=Ie:(Ie=ka(a),Ie!==null&&(Le.data=Ie)))),(Ie=On?AT(t,a):NT(t,a))&&(Le=Ku(B,"onBeforeInput"),0<Le.length&&(fe=new js("onBeforeInput","beforeinput",null,a,Y),ee.push({event:fe,listeners:Le}),fe.data=Ie)),yw(ee,t,B,a,Y)}Sb(ee,s)})}function Il(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Ku(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ns(t,a),f!=null&&l.unshift(Il(t,f,m)),f=ns(t,s),f!=null&&l.push(Il(t,f,m))),t.tag===3)return l;t=t.return}return[]}function _w(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rb(t,s,a,l,f){for(var m=s._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,f?(B=ns(a,m),B!=null&&v.unshift(Il(a,B,D))):f||(B=ns(a,m),B!=null&&v.push(Il(a,B,D)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var Ew=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function jb(t){return(typeof t=="string"?t:""+t).replace(Ew,`
`).replace(Tw,"")}function Ib(t,s){return s=jb(s),jb(t)===s}function et(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Xo(t,l,m);break;case"data":if(s!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",f.name,f,null),et(t,s,"formEncType",f.formEncType,f,null),et(t,s,"formMethod",f.formMethod,f,null),et(t,s,"formTarget",f.formTarget,f,null)):(et(t,s,"encType",f.encType,f,null),et(t,s,"method",f.method,f,null),et(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ts);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Aa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kc.get(a)||a,Aa(t,a,l))}}function mm(t,s,a,l,f,m){switch(a){case"style":Xo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[Lt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Aa(t,a,l)}}}function Qt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,m,v,a,null)}}f&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=m=v=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:et(t,s,l,Y,a,null)}}Gc(t,m,T,D,B,v,f,!1);return;case"select":Me("invalid",t),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,s,f,T,a,null)}s=m,a=v,t.multiple=!!l,s!=null?Ar(t,!!l,s,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Me("invalid",t),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:et(t,s,v,T,a,null)}Nr(t,l,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,s,D,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Me(jl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,B,l,a,null)}return;default:if(Sa(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&mm(t,s,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,s,T,l,a,null))}function ww(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,T=null,D=null,B=null,Y=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||et(t,s,Q,null,l,ee)}}for(var q in l){var Q=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":m=Q;break;case"name":f=Q;break;case"checked":B=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==ee&&et(t,s,q,Q,l,ee)}}Na(t,v,T,D,B,Y,m,f);return;case"select":Q=v=T=q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||et(t,s,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":q=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==D&&et(t,s,f,m,l,D)}s=T,a=v,l=Q,q!=null?Ar(t,!!a,q,!1):!!l!=!!a&&(s!=null?Ar(t,!!a,s,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,s,T,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&et(t,s,v,f,l,m)}$c(t,q,Q);return;case"option":for(var de in a)q=a[de],a.hasOwnProperty(de)&&q!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:et(t,s,de,null,l,q));for(D in l)q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":et(t,s,D,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&et(t,s,_e,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:et(t,s,B,q,l,Q)}return;default:if(Sa(s)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!l.hasOwnProperty(tt)&&mm(t,s,tt,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||mm(t,s,Y,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&et(t,s,P,null,l,q);for(ee in l)q=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||q===Q||q==null&&Q==null||et(t,s,ee,q,l,Q)}function Db(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Aw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,T=f.duration;if(m&&T&&Db(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var Y=D.transferSize,ee=D.initiatorType;Y&&Db(ee)&&(D=D.responseEnd,v+=Y*(D<T?1:(T-B)/(D-B)))}if(--l,s+=8*(m+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function kb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function ym(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function Nw(){var t=window.event;return t&&t.type==="popstate"?t===bm?!1:(bm=t,!0):(bm=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(t){return Vb.resolve(null).then(t).catch(Rw)}:Mb;function Rw(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Lb(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[xs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&Dl(t.ownerDocument.body);a=f}while(a);lo(s)}function Pb(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jw(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Iw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function zb(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function xm(t){return t.data==="$?"||t.data==="$~"}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Dw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Em=null;function Ub(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Bb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function qb(t,s,a){switch(s=Yu(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Dl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wa(t)}var qn=new Map,Fb=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=W.d;W.d={f:kw,r:Ow,D:Mw,C:Vw,L:Lw,m:Pw,X:Uw,S:zw,M:Bw};function kw(){var t=ur.f(),s=Bu();return t||s}function Ow(t){var s=In(t);s!==null&&s.tag===5&&s.type==="form"?a0(s):ur.r(t)}var io=typeof document>"u"?null:document;function Hb(t,s,a){var l=io;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fb.has(f)||(Fb.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qt(s,"link",t),wt(s),l.head.appendChild(s)))}}function Mw(t){ur.D(t),Hb("dns-prefetch",t,null)}function Vw(t,s){ur.C(t,s),Hb("preconnect",t,s)}function Lw(t,s,a){ur.L(t,s,a);var l=io;if(l&&t&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(s){case"style":m=ao(t);break;case"script":m=oo(t)}qn.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),qn.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(kl(m))||s==="script"&&l.querySelector(Ol(m))||(s=l.createElement("link"),Qt(s,"link",t),wt(s),l.head.appendChild(s)))}}function Pw(t,s){ur.m(t,s);var a=io;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(t)}if(!qn.has(m)&&(t=E({rel:"modulepreload",href:t},s),qn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(m)))return}l=a.createElement("link"),Qt(l,"link",t),wt(l),a.head.appendChild(l)}}}function zw(t,s,a){ur.S(t,s,a);var l=io;if(l&&t){var f=Es(l).hoistableStyles,m=ao(t);s=s||"default";var v=f.get(m);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(kl(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=qn.get(m))&&Tm(t,a);var D=v=l.createElement("link");wt(D),Qt(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(m,v)}}}function Uw(t,s){ur.X(t,s);var a=io;if(a&&t){var l=Es(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(Ol(f)),m||(t=E({src:t,async:!0},s),(s=qn.get(f))&&wm(t,s),m=a.createElement("script"),wt(m),Qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Bw(t,s){ur.M(t,s);var a=io;if(a&&t){var l=Es(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(Ol(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=qn.get(f))&&wm(t,s),m=a.createElement("script"),wt(m),Qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Gb(t,s,a,l){var f=(f=je.current)?Xu(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ao(a.href),a=Es(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var m=Es(f).hoistableStyles,v=m.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=f.querySelector(kl(t)))&&!m._p&&(v.instance=m,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),m||qw(f,t,a,v.state))),s&&l===null)throw Error(i(528,""));return v}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oo(a),a=Es(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ao(t){return'href="'+un(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function $b(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qw(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qt(s,"link",a),wt(s),t.head.appendChild(s))}function oo(t){return'[src="'+un(t)+'"]'}function Ol(t){return"script[async]"+t}function Qb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,wt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Qt(l,"style",f),Zu(l,a.precedence,t),s.instance=l;case"stylesheet":f=ao(a.href);var m=t.querySelector(kl(f));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;l=$b(a),(f=qn.get(f))&&Tm(l,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var v=m;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Qt(m,"link",l),s.state.loading|=4,Zu(m,a.precedence,t),s.instance=m;case"script":return m=oo(a.src),(f=t.querySelector(Ol(m)))?(s.instance=f,wt(f),f):(l=a,(f=qn.get(m))&&(l=E({},a),wm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Qt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Zu(l,a.precedence,t));return s.instance}function Zu(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function wm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ju=null;function Kb(t,s,a){if(Ju===null){var l=new Map,f=Ju=new Map;f.set(a,l)}else f=Ju,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[xs]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var T=l.get(v);T?T.push(m):l.set(v,[m])}}return l}function Yb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Fw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hw(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),m=s.querySelector(kl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Wu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=s.ownerDocument||s,l=$b(l),(f=qn.get(f))&&Tm(l,f),m=m.createElement("link"),wt(m);var v=m;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Qt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Am=0;function Gw(t,s){return t.stylesheets&&t.count===0&&td(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&td(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Am===0&&(Am=62500*Aw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&td(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Am?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ed=null;function td(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ed=new Map,s.forEach($w,t),ed=null,Wu.call(t))}function $w(t,s){if(!(s.state.loading&4)){var a=ed.get(t);if(a)var l=a.get(null);else{a=new Map,ed.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Wu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Ml={$$typeof:re,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Qw(t,s,a,l,f,m,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Zb(t,s,a,l,f,m,v,T,D,B,Y,ee){return t=new Qw(t,s,a,v,D,B,Y,ee,T),s=1,m===!0&&(s|=24),m=_n(3,null,null,s),t.current=m,m.stateNode=t,s=sf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},lf(m),t}function Jb(t){return t?(t=Pa,t):Pa}function Wb(t,s,a,l,f,m){f=Jb(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=zr(t,l,s),a!==null&&(gn(a,t,s),fl(a,t,s))}function ev(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Nm(t,s){ev(t,s),(t=t.alternate)&&ev(t,s)}function tv(t){if(t.tag===13||t.tag===31){var s=qi(t,67108864);s!==null&&gn(s,t,67108864),Nm(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var s=Nn();s=ji(s);var a=qi(t,s);a!==null&&gn(a,t,s),Nm(t,s)}}var nd=!0;function Kw(t,s,a,l){var f=K.T;K.T=null;var m=W.p;try{W.p=2,Sm(t,s,a,l)}finally{W.p=m,K.T=f}}function Yw(t,s,a,l){var f=K.T;K.T=null;var m=W.p;try{W.p=8,Sm(t,s,a,l)}finally{W.p=m,K.T=f}}function Sm(t,s,a,l){if(nd){var f=Cm(l);if(f===null)fm(t,s,l,sd,a),rv(t,l);else if(Zw(f,t,s,a,l))l.stopPropagation();else if(rv(t,l),s&4&&-1<Xw.indexOf(t)){for(;f!==null;){var m=In(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=gs(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-gt(v);T.entanglements[1]|=D,v&=~D}Ms(m),(Ke&6)===0&&(zu=rn()+500,Rl(0))}}break;case 31:case 13:T=qi(m,2),T!==null&&gn(T,m,2),Bu(),Nm(m,2)}if(m=Cm(l),m===null&&fm(t,s,l,sd,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else fm(t,s,l,null,a)}}function Cm(t){return t=Dn(t),Rm(t)}var sd=null;function Rm(t){if(sd=null,t=_s(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return sd=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Po:return 2;case zo:return 8;case Tr:case Oh:return 32;case Mc:return 268435456;default:return 32}default:return 32}}var jm=!1,Xr=null,Zr=null,Jr=null,Vl=new Map,Ll=new Map,Wr=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,s){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(s.pointerId)}}function Pl(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=In(s),s!==null&&tv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function Zw(t,s,a,l,f){switch(s){case"focusin":return Xr=Pl(Xr,t,s,a,l,f),!0;case"dragenter":return Zr=Pl(Zr,t,s,a,l,f),!0;case"mouseover":return Jr=Pl(Jr,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,Pl(Vl.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ll.set(m,Pl(Ll.get(m)||null,t,s,a,l,f)),!0}return!1}function iv(t){var s=_s(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){nv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){nv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return s=In(a),s!==null&&tv(s),t.blockedOn=a,!1;s.shift()}return!0}function av(t,s,a){rd(t)&&a.delete(s)}function Jw(){jm=!1,Xr!==null&&rd(Xr)&&(Xr=null),Zr!==null&&rd(Zr)&&(Zr=null),Jr!==null&&rd(Jr)&&(Jr=null),Vl.forEach(av),Ll.forEach(av)}function id(t,s){t.blockedOn===s&&(t.blockedOn=null,jm||(jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jw)))}var ad=null;function ov(t){ad!==t&&(ad=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ad===t&&(ad=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var m=In(a);m!==null&&(t.splice(s,3),s-=3,Cf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function s(D){return id(D,t)}Xr!==null&&id(Xr,t),Zr!==null&&id(Zr,t),Jr!==null&&id(Jr,t),Vl.forEach(s),Ll.forEach(s);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Lt]||null;if(typeof m=="function")v||ov(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Lt]||null)T=v.formAction;else if(Rm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ov(a)}}}function lv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Im(t){this._internalRoot=t}od.prototype.render=Im.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Nn();Wb(a,l,t,s,null,null)},od.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Wb(t.current,2,null,t,null,null),Bu(),s[vs]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var s=Bc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&iv(t)}};var cv=e.version;if(cv!=="19.2.3")throw Error(i(527,cv,"19.2.3"));W.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Ww={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Zn=ld.inject(Ww),qt=ld}catch{}}return Ul.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=g0,m=y0,v=b0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Zb(t,1,!1,null,null,a,l,null,f,m,v,lv),t[vs]=s.current,hm(t),new Im(s)},Ul.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=g0,v=y0,T=b0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Zb(t,1,!0,s,a??null,l,f,D,m,v,T,lv),s.context=Jb(null),a=s.current,l=Nn(),l=ji(l),f=Pr(l),f.callback=null,zr(a,f,l),a=l,s.current.lanes=a,Ci(s,a),Ms(s),t[vs]=s.current,hm(t),new od(s)},Ul.version="19.2.3",Ul}var vv;function c2(){if(vv)return Om.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=l2(),Om.exports}var u2=c2();const d2=l_(u2);var xv="popstate";function h2(r={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=pa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),tp("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:rc(c))}function i(o,c){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return m2(e,n,i,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f2(){return Math.random().toString(36).substring(2,10)}function _v(r,e){return{usr:r.state,key:r.key,idx:e}}function tp(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:n,key:e&&e.key||i||f2()}}function rc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function m2(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,p="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function E(){p="POP";let F=_(),se=F==null?null:F-y;y=F,g&&g({action:p,location:$.location,delta:se})}function S(F,se){p="PUSH";let ne=tp($.location,F,se);n&&n(ne,F),y=_()+1;let re=_v(ne,y),he=$.createHref(ne);try{h.pushState(re,"",he)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(he)}c&&g&&g({action:p,location:$.location,delta:1})}function V(F,se){p="REPLACE";let ne=tp($.location,F,se);n&&n(ne,F),y=_();let re=_v(ne,y),he=$.createHref(ne);h.replaceState(re,"",he),c&&g&&g({action:p,location:$.location,delta:0})}function H(F){return p2(F)}let $={get action(){return p},get location(){return r(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,E),g=F,()=>{o.removeEventListener(xv,E),g=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let se=H(F);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:S,replace:V,go(F){return h.go(F)}};return $}function p2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:rc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function u_(r,e,n="/"){return g2(r,e,n,!1)}function g2(r,e,n,i){let o=typeof e=="string"?pa(e):e,c=pr(o.pathname||"/",n);if(c==null)return null;let h=d_(r);y2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=C2(c);p=N2(h[g],y,i)}return p}function d_(r,e=[],n=[],i="",o=!1){let c=(h,p,g=o,y)=>{let _={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;ut(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=mr([i,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),d_(h.children,e,S,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:w2(E,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of h_(h.path))c(h,p,!0,g)}),e}function h_(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let h=h_(i.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function y2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:A2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var b2=/^:[\w-]+$/,v2=3,x2=2,_2=1,E2=10,T2=-2,Ev=r=>r==="*";function w2(r,e){let n=r.split("/"),i=n.length;return n.some(Ev)&&(i+=T2),e&&(i+=x2),n.filter(o=>!Ev(o)).reduce((o,c)=>o+(b2.test(c)?v2:c===""?_2:E2),i)}function A2(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function N2(r,e,n=!1){let{routesMeta:i}=r,o={},c="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,_=c==="/"?e:e.slice(c.length)||"/",E=Dd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),S=g.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=Dd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:mr([c,E.pathname]),pathnameBase:D2(mr([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=mr([c,E.pathnameBase]))}return h}function Dd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=S2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},S)=>{if(_==="*"){let H=p[S]||"";h=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const V=p[S];return E&&!V?y[_]=void 0:y[_]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function S2(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function C2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R2=r=>f_.test(r);function j2(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?pa(r):r,c;if(n)if(R2(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=Tv(n.substring(1),"/"):c=Tv(n,e)}else c=e;return{pathname:c,search:k2(i),hash:O2(o)}}function Tv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m_(r){let e=I2(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function p_(r,e,n,i=!1){let o;typeof r=="string"?o=pa(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=j2(o,p),y=h&&h!=="/"&&h.endsWith("/"),_=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),D2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),k2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,M2=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function V2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function L2(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var g_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y_(r,e){let n=r;if(typeof n!="string"||!f_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(g_)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=pr(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b_=["POST","PUT","PATCH","DELETE"];new Set(b_);var P2=["GET",...b_];new Set(P2);var So=L.createContext(null);So.displayName="DataRouter";var sh=L.createContext(null);sh.displayName="DataRouterState";var z2=L.createContext(!1),v_=L.createContext({isTransitioning:!1});v_.displayName="ViewTransition";var U2=L.createContext(new Map);U2.displayName="Fetchers";var B2=L.createContext(null);B2.displayName="Await";var Xn=L.createContext(null);Xn.displayName="Navigation";var gc=L.createContext(null);gc.displayName="Location";var fs=L.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var jp=L.createContext(null);jp.displayName="RouteError";var x_="REACT_ROUTER_ERROR",q2="REDIRECT",F2="ROUTE_ERROR_RESPONSE";function H2(r){if(r.startsWith(`${x_}:${q2}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function G2(r){if(r.startsWith(`${x_}:${F2}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new M2(e.status,e.statusText,e.data)}catch{}}function $2(r,{relative:e}={}){ut(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(Xn),{hash:o,pathname:c,search:h}=bc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:mr([n,c])),i.createHref({pathname:p,search:h,hash:o})}function yc(){return L.useContext(gc)!=null}function Hs(){return ut(yc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(gc).location}var __="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(r){L.useContext(Xn).static||L.useLayoutEffect(r)}function Co(){let{isDataRoute:r}=L.useContext(fs);return r?oA():Q2()}function Q2(){ut(yc(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(So),{basename:e,navigator:n}=L.useContext(Xn),{matches:i}=L.useContext(fs),{pathname:o}=Hs(),c=JSON.stringify(m_(i)),h=L.useRef(!1);return E_(()=>{h.current=!0}),L.useCallback((g,y={})=>{if(Yn(h.current,__),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=p_(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:mr([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,r])}var K2=L.createContext(null);function Y2(r){let e=L.useContext(fs).outlet;return L.useMemo(()=>e&&L.createElement(K2.Provider,{value:r},e),[e,r])}function Ip(){let{matches:r}=L.useContext(fs),e=r[r.length-1];return e?e.params:{}}function bc(r,{relative:e}={}){let{matches:n}=L.useContext(fs),{pathname:i}=Hs(),o=JSON.stringify(m_(n));return L.useMemo(()=>p_(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function X2(r,e){return T_(r,e)}function T_(r,e,n,i,o){ut(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Xn),{matches:h}=L.useContext(fs),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",E=p&&p.route;{let ne=E&&E.path||"";A_(y,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=Hs(),V;if(e){let ne=typeof e=="string"?pa(e):e;ut(_==="/"||ne.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=S;let H=V.pathname||"/",$=H;if(_!=="/"){let ne=_.replace(/^\//,"").split("/");$="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let F=u_(r,{pathname:$});Yn(E||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Yn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=tA(F&&F.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:mr([_,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?_:mr([_,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,i,o);return e&&se?L.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},se):se}function Z2(){let r=aA(),e=V2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var J2=L.createElement(Z2,null),w_=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=G2(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(fs.Provider,{value:this.props.routeContext},L.createElement(jp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(W2,{error:r},e):e}};w_.contextType=z2;var zm=new WeakMap;function W2({children:r,error:e}){let{basename:n}=L.useContext(Xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=H2(e.digest);if(i){let o=zm.get(e);if(o)throw o;let c=y_(i.location,n);if(g_&&!zm.get(e))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw zm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function eA({routeContext:r,match:e,children:n}){let i=L.useContext(So);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(fs.Provider,{value:r},n)}function tA(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let _=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,g=-1;if(n)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=_),E.route.id){let{loaderData:S,errors:V}=n,H=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||H){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&i?(_,E)=>{i(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:L2(n.matches),errorInfo:E})}:void 0;return c.reduceRight((_,E,S)=>{let V,H=!1,$=null,F=null;n&&(V=h&&E.route.id?h[E.route.id]:void 0,$=E.route.errorElement||J2,p&&(g<0&&S===0?(A_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):g===S&&(H=!0,F=E.route.hydrateFallbackElement||null)));let se=e.concat(c.slice(0,S+1)),ne=()=>{let re;return V?re=$:H?re=F:E.route.Component?re=L.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=_,L.createElement(eA,{match:E,routeContext:{outlet:_,matches:se,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?L.createElement(w_,{location:n.location,revalidation:n.revalidation,component:$,error:V,children:ne(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:y}):ne()},null)}function Dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(r){let e=L.useContext(So);return ut(e,Dp(r)),e}function sA(r){let e=L.useContext(sh);return ut(e,Dp(r)),e}function rA(r){let e=L.useContext(fs);return ut(e,Dp(r)),e}function kp(r){let e=rA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iA(){return kp("useRouteId")}function aA(){let r=L.useContext(jp),e=sA("useRouteError"),n=kp("useRouteError");return r!==void 0?r:e.errors?.[n]}function oA(){let{router:r}=nA("useNavigate"),e=kp("useNavigate"),n=L.useRef(!1);return E_(()=>{n.current=!0}),L.useCallback(async(o,c={})=>{Yn(n.current,__),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var wv={};function A_(r,e,n){!e&&!wv[r]&&(wv[r]=!0,Yn(!1,n))}L.memo(lA);function lA({routes:r,future:e,state:n,onError:i}){return T_(r,void 0,n,i,e)}function cA(r){return Y2(r.context)}function Fn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uA({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ut(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=pa(n));let{pathname:y="/",search:_="",hash:E="",state:S=null,key:V="default"}=n,H=L.useMemo(()=>{let $=pr(y,p);return $==null?null:{location:{pathname:$,search:_,hash:E,state:S,key:V},navigationType:i}},[p,y,_,E,S,V,i]);return Yn(H!=null,`<Router basename="${p}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:L.createElement(Xn.Provider,{value:g},L.createElement(gc.Provider,{children:e,value:H}))}function dA({children:r,location:e}){return X2(np(r),e)}function np(r,e=[]){let n=[];return L.Children.forEach(r,(i,o)=>{if(!L.isValidElement(i))return;let c=[...e,o];if(i.type===L.Fragment){n.push.apply(n,np(i.props.children,c));return}ut(i.type===Fn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=np(i.props.children,c)),n.push(h)}),n}var xd="get",_d="application/x-www-form-urlencoded";function rh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function hA(r){return rh(r)&&r.tagName.toLowerCase()==="button"}function fA(r){return rh(r)&&r.tagName.toLowerCase()==="form"}function mA(r){return rh(r)&&r.tagName.toLowerCase()==="input"}function pA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gA(r,e){return r.button===0&&(!e||e==="_self")&&!pA(r)}var cd=null;function yA(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(r){return r!=null&&!bA.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):r}function vA(r,e){let n,i,o,c,h;if(fA(r)){let p=r.getAttribute("action");i=p?pr(p,e):null,n=r.getAttribute("method")||xd,o=Um(r.getAttribute("enctype"))||_d,c=new FormData(r)}else if(hA(r)||mA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?pr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||xd,o=Um(r.getAttribute("formenctype"))||Um(p.getAttribute("enctype"))||_d,c=new FormData(p,r),!yA()){let{name:y,type:_,value:E}=r;if(_==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xd,i=null,o=_d,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xA(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&pr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function _A(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TA(r,e,n){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await _A(c,n);return h.links?h.links():[]}return[]}));return SA(i.flat(1).filter(EA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(r,e,n,i,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function wA(r,e,{includeHydrateFallback:n}={}){return AA(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function AA(r){return[...new Set(r)]}function NA(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function SA(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(NA(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function N_(){let r=L.useContext(So);return Op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function CA(){let r=L.useContext(sh);return Op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mp=L.createContext(void 0);Mp.displayName="FrameworkContext";function S_(){let r=L.useContext(Mp);return Op(r,"You must render this element inside a <HydratedRouter> element"),r}function RA(r,e){let n=L.useContext(Mp),[i,o]=L.useState(!1),[c,h]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=se=>{se.forEach(ne=>{h(ne.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),L.useEffect(()=>{if(i){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[i]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Bl(p,V),onBlur:Bl(g,H),onMouseEnter:Bl(y,V),onMouseLeave:Bl(_,H),onTouchStart:Bl(E,V)}]:[!1,S,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function jA({page:r,...e}){let{router:n}=N_(),i=L.useMemo(()=>u_(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?L.createElement(DA,{page:r,matches:i,...e}):null}function IA(r){let{manifest:e,routeModules:n}=S_(),[i,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return TA(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),i}function DA({page:r,matches:e,...n}){let i=Hs(),{future:o,manifest:c,routeModules:h}=S_(),{basename:p}=N_(),{loaderData:g,matches:y}=CA(),_=L.useMemo(()=>Av(r,e,y,c,i,"data"),[r,e,y,c,i]),E=L.useMemo(()=>Av(r,e,y,c,i,"assets"),[r,e,y,c,i]),S=L.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let $=new Set,F=!1;if(e.forEach(ne=>{let re=c.routes[ne.route.id];!re||!re.hasLoader||(!_.some(he=>he.route.id===ne.route.id)&&ne.route.id in g&&h[ne.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:$.add(ne.route.id))}),$.size===0)return[];let se=xA(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&$.size>0&&se.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[se.pathname+se.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,c,_,e,r,h]),V=L.useMemo(()=>wA(E,c),[E,c]),H=IA(E);return L.createElement(L.Fragment,null,S.map($=>L.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),V.map($=>L.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),H.map(({key:$,link:F})=>L.createElement("link",{key:$,nonce:n.nonce,...F})))}function kA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.12.0")}catch{}function MA({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=L.useRef();o.current==null&&(o.current=h2({window:i,v5Compat:!0}));let c=o.current,[h,p]=L.useState({action:c.action,location:c.location}),g=L.useCallback(y=>{n===!1?p(y):L.startTransition(()=>p(y))},[n]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.createElement(uA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H){let{basename:$,unstable_useTransitions:F}=L.useContext(Xn),se=typeof y=="string"&&C_.test(y),ne=y_(y,$);y=ne.to;let re=$2(y,{relative:o}),[he,ve,ge]=RA(i,V),N=zA(y,{replace:h,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function C(R){e&&e(R),R.defaultPrevented||N(R)}let w=L.createElement("a",{...V,...ge,href:ne.absoluteURL||re,onClick:ne.isExternal||c?e:C,ref:kA(H,ve),target:g,"data-discover":!se&&n==="render"?"true":void 0});return he&&!se?L.createElement(L.Fragment,null,w,L.createElement(jA,{page:re})):w});Gn.displayName="Link";var VA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},_){let E=bc(h,{relative:y.relative}),S=Hs(),V=L.useContext(sh),{navigator:H,basename:$}=L.useContext(Xn),F=V!=null&&HA(E)&&p===!0,se=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,ne=S.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,se=se.toLowerCase()),re&&$&&(re=pr(re,$)||re);const he=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let ve=ne===se||!o&&ne.startsWith(se)&&ne.charAt(he)==="/",ge=re!=null&&(re===se||!o&&re.startsWith(se)&&re.charAt(se.length)==="/"),N={isActive:ve,isPending:ge,isTransitioning:F},C=ve?e:void 0,w;typeof i=="function"?w=i(N):w=[i,ve?"active":null,ge?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(N):c;return L.createElement(Gn,{...y,"aria-current":C,className:w,ref:_,style:R,to:h,viewTransition:p},typeof g=="function"?g(N):g)});VA.displayName="NavLink";var LA=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:c,method:h=xd,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H)=>{let{unstable_useTransitions:$}=L.useContext(Xn),F=qA(),se=FA(p,{relative:y}),ne=h.toLowerCase()==="get"?"get":"post",re=typeof p=="string"&&C_.test(p),he=ve=>{if(g&&g(ve),ve.defaultPrevented)return;ve.preventDefault();let ge=ve.nativeEvent.submitter,N=ge?.getAttribute("formmethod")||h,C=()=>F(ge||ve.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S});$&&n!==!1?L.startTransition(()=>C()):C()};return L.createElement("form",{ref:H,method:ne,action:se,onSubmit:i?g:he,...V,"data-discover":!re&&r==="render"?"true":void 0})});LA.displayName="Form";function PA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R_(r){let e=L.useContext(So);return ut(e,PA(r)),e}function zA(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Co(),_=Hs(),E=bc(r,{relative:c});return L.useCallback(S=>{if(gA(S,e)){S.preventDefault();let V=n!==void 0?n:rc(_)===rc(E),H=()=>y(r,{replace:V,state:i,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?L.startTransition(()=>H()):H()}},[_,y,E,n,i,e,r,o,c,h,p,g])}var UA=0,BA=()=>`__${String(++UA)}__`;function qA(){let{router:r}=R_("useSubmit"),{basename:e}=L.useContext(Xn),n=iA(),i=r.fetch,o=r.navigate;return L.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:_,body:E}=vA(c,e);if(h.navigate===!1){let S=h.fetcherKey||BA();await i(S,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,o,e,n])}function FA(r,{relative:e}={}){let{basename:n}=L.useContext(Xn),i=L.useContext(fs);ut(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...bc(r||".",{relative:e})},h=Hs();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let _=p.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:mr([n,c.pathname])),rc(c)}function HA(r,{relative:e}={}){let n=L.useContext(v_);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R_("useViewTransitionState"),o=bc(r,{relative:e});if(!n.isTransitioning)return!1;let c=pr(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Dd(o.pathname,h)!=null||Dd(o.pathname,c)!=null}var GA=c_();const $A=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Nv=r=>{const e=QA(r);return e.charAt(0).toUpperCase()+e.slice(1)},j_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),KA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XA=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...p},g)=>L.createElement("svg",{ref:g,...YA,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:j_("lucide",o),...!c&&!KA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>L.createElement(y,_)),...Array.isArray(c)?c:[c]]));const be=(r,e)=>{const n=L.forwardRef(({className:i,...o},c)=>L.createElement(XA,{ref:c,iconNode:e,className:j_(`lucide-${$A(Nv(r))}`,`lucide-${r}`,i),...o}));return n.displayName=Nv(r),n};const ZA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ih=be("arrow-left",ZA);const JA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],I_=be("arrow-right",JA);const WA=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],D_=be("bed-double",WA);const eN=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Vp=be("box",eN);const tN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],k_=be("briefcase",tN);const nN=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],sN=be("building-2",nN);const rN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Sv=be("calculator",rN);const iN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lp=be("calendar",iN);const aN=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],oN=be("car-front",aN);const lN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],cN=be("car",lN);const uN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O_=be("chevron-down",uN);const dN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],M_=be("chevron-up",dN);const hN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pp=be("circle-alert",hN);const fN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ah=be("circle-check-big",fN);const mN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ql=be("circle-check",mN);const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Cv=be("circle-plus",pN);const gN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yN=be("clipboard-list",gN);const bN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zp=be("clock",bN);const vN=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],oh=be("cloud-upload",vN);const xN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_N=be("credit-card",xN);const EN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TN=be("dollar-sign",EN);const wN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],AN=be("facebook",wN);const NN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oa=be("file-text",NN);const SN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],CN=be("heart",SN);const RN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Up=be("house",RN);const jN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],V_=be("image",jN);const IN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],DN=be("instagram",IN);const kN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ON=be("layout-dashboard",kN);const MN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VN=be("lock",MN);const LN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PN=be("log-out",LN);const zN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UN=be("mail",zN);const BN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gr=be("map-pin",BN);const qN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],FN=be("maximize-2",qN);const HN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],GN=be("menu",HN);const $N=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Bp=be("message-circle",$N);const QN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],di=be("package",QN);const KN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YN=be("pen-line",KN);const XN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],L_=be("pen-tool",XN);const ZN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lh=be("phone",ZN);const JN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WN=be("plus",JN);const eS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ch=be("printer",eS);const tS=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nS=be("receipt",tS);const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rS=be("save",sS);const iS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=be("search",iS);const oS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],P_=be("share-2",oS);const lS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z_=be("shield-check",lS);const cS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],U_=be("shield",cS);const uS=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],B_=be("sofa",uS);const dS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xl=be("trash-2",dS);const hS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hi=be("truck",hS);const fS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mS=be("user",fS);const pS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gS=be("users",pS);const yS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],q_=be("utensils",yS);const bS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vc=be("x",bS);const vS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xS=be("zap",vS),ic="/mudanzas-cadena-web/assets/logo-3D4rlzNO.PNG",_S=()=>{const[r,e]=L.useState(!1),n=Co(),i=Hs(),o=p=>{e(!1);const g=y=>{if(y==="inicio"){window.scrollTo({top:0,behavior:"smooth"});return}const _=document.getElementById(y);if(_){const V=_.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:V,behavior:"smooth"})}};i.pathname!=="/"?(n("/"),setTimeout(()=>g(p),100)):g(p)},c="bg-transparent border-none cursor-pointer text-gray-600 hover:text-cadena-pink font-bold text-xs lg:text-sm uppercase tracking-wide transition whitespace-nowrap",h="flex flex-col items-center justify-center gap-1 w-full py-4 text-lg font-bold text-slate-700 bg-white/40 backdrop-blur-md hover:bg-white/80 hover:text-cadena-pink hover:scale-[1.02] rounded-2xl transition-all duration-300 border border-white/50 shadow-sm";return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"bg-white/90 backdrop-blur-lg border-b border-white/40 shadow-sm fixed w-full z-50 top-0 left-0 h-20 transition-all duration-300",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:u.jsxs("div",{className:"flex justify-between items-center h-full gap-2",children:[u.jsx("button",{onClick:()=>o("inicio"),className:"flex items-center gap-2 cursor-pointer bg-transparent border-none outline-none group shrink-0 mr-auto",children:u.jsx("img",{src:ic,alt:"Mudanzas Cadena Logo",className:"h-14 md:h-20 w-auto object-contain transition-transform duration-300 group-hover:scale-105 mt-6"})}),u.jsxs("div",{className:"hidden md:flex items-center gap-3 lg:gap-6",children:[u.jsx("button",{onClick:()=>o("inicio"),className:c,children:"Inicio"}),u.jsx("button",{onClick:()=>o("servicios"),className:c,children:"Servicios"}),u.jsx("button",{onClick:()=>o("galeria"),className:c,children:"Galera"}),u.jsx("button",{onClick:()=>o("contacto"),className:c,children:"Contacto"}),u.jsx(Gn,{to:"/rastreo",className:c,children:"Rastreo"}),u.jsx(Gn,{to:"/cotizar",className:"bg-cadena-blue text-white px-4 py-2 lg:px-6 lg:py-2.5 rounded-full font-bold hover:bg-ocean-dark transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 whitespace-nowrap text-xs lg:text-sm shrink-0",children:"Cotizar Ahora"})]}),u.jsx("div",{className:"md:hidden",children:u.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-xl bg-white/40 backdrop-blur-md border border-white/50 text-slate-700 shadow-sm transition hover:bg-white hover:text-cadena-pink",children:u.jsx(GN,{size:32})})})]})})}),u.jsxs("div",{className:`md:hidden fixed inset-0 z-[60] bg-white/95 backdrop-blur-xl flex flex-col transition-transform duration-500 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[u.jsx("img",{src:ic,alt:"Mudanzas Cadena",className:"h-12 w-auto object-contain"}),u.jsx("button",{onClick:()=>e(!1),className:"p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-red-50 hover:text-red-500 transition shadow-sm",children:u.jsx(vc,{size:28})})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start pt-6 px-6 overflow-y-auto space-y-3",children:[u.jsxs(Gn,{to:"/cotizar",onClick:()=>e(!1),className:"flex items-center justify-center gap-3 w-full bg-gradient-to-r from-cadena-pink to-pink-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl shadow-pink-200/50 hover:scale-[1.02] transition transform active:scale-95 mb-4",children:[u.jsx(di,{size:24}),"COTIZAR AHORA"]}),u.jsxs("button",{onClick:()=>o("inicio"),className:h,children:[u.jsx(Up,{size:24,className:"opacity-60 mb-1"})," Inicio"]}),u.jsxs("button",{onClick:()=>o("servicios"),className:h,children:[u.jsx(hi,{size:24,className:"opacity-60 mb-1"})," Servicios"]}),u.jsxs("button",{onClick:()=>o("galeria"),className:h,children:[u.jsx(V_,{size:24,className:"opacity-60 mb-1"})," Galera"]}),u.jsxs("button",{onClick:()=>o("contacto"),className:h,children:[u.jsx(lh,{size:24,className:"opacity-60 mb-1"})," Contacto"]}),u.jsxs(Gn,{to:"/rastreo",onClick:()=>e(!1),className:h,children:[u.jsx(gr,{size:24,className:"opacity-60 mb-1"})," Rastreo"]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"})]})]})},F_=({isOpen:r,onClose:e})=>r?GA.createPortal(u.jsx("div",{className:"fixed inset-0 bg-black/80 z-[9999] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white text-gray-800 w-full max-w-3xl rounded-2xl shadow-2xl max-h-[90vh] flex flex-col animate-fade-in-up relative",children:[u.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-2xl shrink-0",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-cadena-dark",children:"Aviso de Privacidad Integral"}),u.jsx("p",{className:"text-xs text-gray-500",children:"ltima actualizacin: Febrero 2026"})]}),u.jsx("button",{onClick:e,className:"p-2 bg-white rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 transition shadow-sm",children:u.jsx(vc,{size:24})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto text-sm leading-relaxed space-y-6",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Mudanzas Cadena"}),' (en adelante, "El Responsable"), con domicilio en ',u.jsx("strong",{children:"Valle del Eufrates 37, CTM 14, Ecatepec de Morelos, Mxico"}),", es responsable de recabar sus datos personales, del uso que se le d a los mismos y de su proteccin, de conformidad con la Ley Federal de Proteccin de Datos Personales en Posesin de los Particulares (LFPDPPP)."]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-2",children:"1. DATOS PERSONALES Y PATRIMONIALES RECABADOS"}),u.jsx("p",{className:"mb-2",children:"Para la prestacin de servicios de logstica, mudanza y transporte, recabamos:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Datos de Identificacin:"})," Nombre completo e identificacin oficial."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Datos de Contacto:"})," Nmero de telfono (WhatsApp), correo electrnico."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Datos de Ubicacin:"})," Direccin completa de origen y destino."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Datos Patrimoniales:"})," Inventario de bienes, valor estimativo de carga y detalles de acceso."]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-2",children:"2. FINALIDADES DEL TRATAMIENTO"}),u.jsx("p",{children:"Sus datos sern utilizados para las siguientes finalidades necesarias:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-600 mt-2",children:[u.jsx("li",{children:"Generacin de presupuestos y cotizaciones precisas."}),u.jsx("li",{children:"Planificacin logstica y asignacin de rutas."}),u.jsxs("li",{children:["Uso del ",u.jsx("strong",{children:"Sistema de Gestin y Rastreo"})," para que visualice su mudanza."]}),u.jsx("li",{children:"Validacin de identidad por seguridad en la entrega."}),u.jsx("li",{children:"Gestin de seguros de transporte (en caso de contratarse)."})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-2",children:"3. SEGURIDAD Y TECNOLOGAS"}),u.jsxs("p",{children:['"El Responsable" utiliza una plataforma basada en ',u.jsx("strong",{children:"Google Firebase"}),", garantizando que su inventario y estatus estn protegidos con seguridad de nivel empresarial. Utilizamos almacenamiento local seguro para mantener su sesin activa en el panel de clientes."]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-2",children:"4. TRANSFERENCIA DE DATOS"}),u.jsx("p",{children:"Sus datos no se comparten con terceros, salvo con aseguradoras (si aplica) o autoridades competentes si es requerido estrictamente por ley durante el trnsito."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-2",children:"5. DERECHOS ARCO"}),u.jsxs("p",{children:["Usted tiene derecho a Acceder, Rectificar, Cancelar u Oponerse al tratamiento de sus datos. Para ejercer estos derechos, contacte al rea administrativa a travs de: ",u.jsx("a",{href:"mailto:mudanzascadenamx@gmail.com",className:"text-blue-600 underline",children:"mudanzascadenamx@gmail.com"}),"."]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[u.jsx("h4",{className:"font-bold text-cadena-blue mb-1",children:"6. ACEPTACIN DIGITAL"}),u.jsx("p",{className:"text-xs text-blue-800",children:"Al solicitar una cotizacin o ingresar al panel de gestin, usted reconoce que ha ledo y acepta los trminos del presente Aviso de Privacidad. El uso del sistema implica su consentimiento explcito."})]})]}),u.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end rounded-b-2xl shrink-0",children:u.jsx("button",{onClick:e,className:"px-6 py-2 bg-cadena-dark text-white rounded-lg hover:bg-black transition font-bold text-sm",children:"Entendido, cerrar"})})]})}),document.body):null,ES=()=>{const[r,e]=L.useState(!1);return u.jsxs("footer",{id:"contacto",className:"bg-cadena-dark text-white pt-12 pb-6 relative z-10",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["MUDANZAS ",u.jsx("span",{className:"text-cadena-pink",children:"CADENA"})]}),u.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Ms de 60 aos cuidando tu patrimonio. Hacemos de tu mudanza algo fcil y sencillo, con disciplina y puntualidad."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"https://www.facebook.com/share/17eb7PMnCq/?mibextid=wwXIfr",target:"_blank",rel:"noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-blue transition",children:u.jsx(AN,{size:20})}),u.jsx("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",rel:"noreferrer",className:"p-2 bg-gray-800 rounded-full hover:bg-cadena-pink transition",children:u.jsx(DN,{size:20})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Contacto"}),u.jsxs("ul",{className:"space-y-3 text-gray-300 text-sm",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(gr,{className:"text-cadena-pink mt-1",size:18}),u.jsxs("span",{children:["Valle del Eufrates 37, CTM 14,",u.jsx("br",{}),"55235 Ecatepec de Morelos, Mx."]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(lh,{className:"text-cadena-blue",size:18}),u.jsx("a",{href:"tel:+529994154957",className:"hover:text-white transition",children:"+52 999 415 4957"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(UN,{className:"text-cadena-blue",size:18}),u.jsx("a",{href:"mailto:mudanzascadenamx@gmail.com",className:"hover:text-white transition",children:"mudanzascadenamx@gmail.com"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold mb-4 border-b border-cadena-blue inline-block pb-1",children:"Horario de Atencin"}),u.jsx("ul",{className:"space-y-2 text-gray-300 text-sm mb-6",children:u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:"Lunes - Domingo:"}),u.jsx("span",{className:"text-white font-medium",children:"8:00 hrs - 22:00 hrs"})]})}),u.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"block w-full text-center border border-gray-600 text-gray-300 py-2 rounded hover:border-white hover:text-white transition text-sm",children:"Descargar Catlogo PDF"})]})]}),u.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-6 text-xs text-gray-500",children:[u.jsx("div",{className:"w-full md:w-auto flex justify-center md:justify-start order-2 md:order-1",children:u.jsxs(Gn,{to:"/admin",className:"flex items-center gap-2 hover:text-white transition opacity-50 hover:opacity-100 py-2 px-4 border border-gray-800 rounded-lg md:border-none",children:[u.jsx(VN,{size:12})," Acceso Administrativo"]})}),u.jsx("div",{className:"order-1 md:order-2",children:u.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 text-gray-300 hover:text-cadena-blue transition bg-gray-900/50 px-4 py-2 rounded-full border border-gray-700 hover:border-cadena-blue",children:[u.jsx(U_,{size:14}),u.jsx("span",{className:"font-medium",children:"Leer Aviso de Privacidad"})]})}),u.jsxs("div",{className:"text-center md:text-right order-3",children:[u.jsxs("p",{children:[" ",new Date().getFullYear()," Mudanzas Cadena."]}),u.jsx("p",{className:"opacity-50 mt-1",children:"Todos los derechos reservados."})]})]})]}),u.jsx(F_,{isOpen:r,onClose:()=>e(!1)})]})},TS=()=>u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsx(_S,{}),u.jsx("main",{className:"flex-grow",children:u.jsx(cA,{})}),u.jsx(ES,{})]}),wS="/mudanzas-cadena-web/assets/hero-truck-C7CiCazc.mp4",AS="/mudanzas-cadena-web/assets/truck-side-C-DMYrQ-.jpg",uh="/mudanzas-cadena-web/assets/mascota-CSwWRtNs.png",H_=()=>u.jsxs("div",{className:"py-12 bg-slate-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-16",children:[u.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Tipos de Servicio"}),u.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:"Elige tu Modalidad Ideal"}),u.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Nos adaptamos a tu presupuesto y urgencia. Prefieres velocidad o economa?"})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-10 border border-white/60 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-cadena-blue text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-200",children:u.jsx(hi,{size:32})}),u.jsx("span",{className:"bg-cadena-blue/10 text-cadena-blue text-xs font-bold px-3 py-1 rounded-full border border-blue-100 uppercase",children:"La ms rpida"})]}),u.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Exclusiva"}),u.jsx("p",{className:"text-cadena-blue font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Directo  Camin Completo"}),u.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"El camin es 100% para ti. T eliges la fecha y hora exacta de salida. Vamos directo de puerta a puerta sin escalas ni desvos."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(xS,{size:20,className:"text-yellow-500"})," Entrega rpida."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(ql,{size:20,className:"text-blue-400"})," T defines el horario."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(ql,{size:20,className:"text-blue-400"})," Espacio exclusivo para ti."]})]})]})]}),u.jsxs("div",{className:"bg-white/40 backdrop-blur-lg rounded-[2.5rem] p-10 border border-white/50 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.05)] relative overflow-hidden group hover:scale-[1.02] transition-all duration-500",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-white text-cadena-pink rounded-2xl flex items-center justify-center shadow-md",children:u.jsx(gS,{size:32})}),u.jsx("span",{className:"bg-cadena-pink/10 text-cadena-pink text-xs font-bold px-3 py-1 rounded-full border border-pink-100 uppercase",children:"Ahorra"})]}),u.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-2",children:"Mudanza Compartida"}),u.jsx("p",{className:"text-cadena-pink font-medium mb-6 text-sm uppercase tracking-wide",children:"Servicio Consolidado  Econmico"}),u.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:"Tu mudanza viaja junto con otras, dividiendo los gastos de transporte. Perfecto si eres flexible con la fecha de entrega."}),u.jsxs("ul",{className:"space-y-4 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(zp,{size:20,className:"text-gray-400"})," Entrega de 5 a 15 das hbiles."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(ql,{size:20,className:"text-pink-400"})," Precio mucho ms accesible."]}),u.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[u.jsx(ql,{size:20,className:"text-pink-400"})," Ideal para cargas medianas."]})]})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h3",{className:"text-3xl font-extrabold text-slate-800",children:"Soluciones Especializadas"}),u.jsx("p",{className:"text-slate-500 mt-2",children:"Todo lo que necesitas para completar tu traslado."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:u.jsx(sN,{size:28}),title:"Corporativo",desc:"Logstica para oficinas sin detener tu operacin.",color:"bg-blue-500",shadow:"shadow-blue-200",bg:"bg-blue-50"},{icon:u.jsx(cN,{size:28}),title:"Traslado de Autos",desc:"Llevamos tu coche sin rodar (Madrina/Caja).",color:"bg-purple-500",shadow:"shadow-purple-200",bg:"bg-purple-50"},{icon:u.jsx(Vp,{size:28}),title:"Empaque",desc:"Cajas, playo y burbuja para cuidar lo frgil.",color:"bg-orange-500",shadow:"shadow-orange-200",bg:"bg-orange-50"},{icon:u.jsx(z_,{size:28}),title:"Seguro de Carga",desc:"Pliza contra todo riesgo (CHUBB, AIG).",color:"bg-green-500",shadow:"shadow-green-200",bg:"bg-green-50"}].map((r,e)=>u.jsxs("div",{className:"group bg-white rounded-3xl p-6 border border-slate-100 hover:border-transparent hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br ${r.bg} to-transparent pointer-events-none`}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsx("div",{className:`w-14 h-14 mx-auto ${r.color} text-white rounded-2xl flex items-center justify-center shadow-lg ${r.shadow} mb-4 transform group-hover:scale-110 transition-transform duration-300`,children:r.icon}),u.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2 group-hover:text-black",children:r.title}),u.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed group-hover:text-slate-700",children:r.desc})]})]},e))})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"bg-white/40 backdrop-blur-xl border border-white/60 rounded-[3rem] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-pink-100/40 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),u.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-8",children:["Por qu elegir ",u.jsx("span",{className:"text-cadena-blue",children:"Mudanzas Cadena"}),"?"]}),u.jsx("ul",{className:"space-y-4",children:["Unidades con rampa hidrulica y GPS 24/7.","Volado de muebles y maniobras especiales.","Personal capacitado y de confianza.","Facturacin electrnica disponible.","Cobertura en rutas del Pacfico y Sureste (Mrida, Cancn)."].map((r,e)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(ql,{className:"text-cadena-pink flex-shrink-0 mt-1",size:20}),u.jsx("span",{className:"text-gray-700 font-medium",children:r})]},e))}),u.jsx("div",{className:"mt-8",children:u.jsx("a",{href:"/mudanzas-cadena-web/catalogo.pdf",target:"_blank",rel:"noopener noreferrer",download:!0,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-cadena-dark hover:bg-gray-800 transition",children:"Descargar Catlogo Completo (PDF)"})})]}),u.jsxs("div",{className:"bg-white/50 backdrop-blur-md rounded-3xl p-8 text-center border border-white/60 shadow-inner",children:[u.jsx("div",{className:"w-32 h-32 md:w-56 md:h-56 mx-auto mb-6 rounded-full overflow-hidden border-4 border-white shadow-2xl relative bg-blue-50 group cursor-pointer",children:u.jsx("img",{src:uh,alt:"Mascota",className:"w-full h-full object-cover object-top scale-125 group-hover:scale-100 transition-transform duration-500"})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Listo para mudarte?"}),u.jsx("p",{className:"text-slate-600 mb-6 text-sm font-medium",children:"Djanos los detalles pesados a nosotros. Cotiza tu servicio hoy mismo."}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-400/50",children:[u.jsx(Bp,{size:20}),"Pedir Cotizacin por WhatsApp"]}),u.jsxs(Gn,{to:"/cotizar",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-cadena-blue hover:bg-blue-700 text-white font-bold rounded-xl transition shadow-lg hover:shadow-blue-400/50",children:[u.jsx(oa,{size:20}),"Cotizar en Lnea (Formulario)"]})]})]})]})]})})]}),NS="/mudanzas-cadena-web/assets/mudanza1-BdTyaUqM.jpeg",SS="/mudanzas-cadena-web/assets/mudanza2-Ckuonxg8.jpeg",CS="/mudanzas-cadena-web/assets/mudanza3-D3EG-M9j.jpeg",RS="/mudanzas-cadena-web/assets/mudanza4-C6YfTQQ9.jpeg",jS="/mudanzas-cadena-web/assets/mudanza5-Dhq4noZh.jpeg",IS="/mudanzas-cadena-web/assets/mudanza6-B5NQVteP.jpeg",DS="/mudanzas-cadena-web/assets/mudanza7-y8hG9Qrc.jpeg",kS="/mudanzas-cadena-web/assets/mudanza8-CdYmO3EG.jpeg",OS="/mudanzas-cadena-web/assets/mudanza9-CuV-hVYp.jpeg",MS="/mudanzas-cadena-web/assets/mudanza10-DBVQKhKd.jpeg",VS="/mudanzas-cadena-web/assets/mudanza11-C5WH2O-v.jpeg",LS="/mudanzas-cadena-web/assets/mudanza12-BQFl8PZH.jpeg",PS=()=>{const r=[{src:NS,span:"md:col-span-2 md:row-span-2",title:"Nuestras Unidades"},{src:SS,span:"md:col-span-1 md:row-span-1",title:"Carga Segura"},{src:CS,span:"md:col-span-1 md:row-span-2",title:"Maniobras de Altura"},{src:RS,span:"md:col-span-1 md:row-span-1",title:"Personal Uniformado"},{src:jS,span:"md:col-span-2 md:row-span-1",title:"Emplayado Profesional"},{src:IS,span:"md:col-span-1 md:row-span-1",title:"Cuidado al Detalle"},{src:DS,span:"md:col-span-1 md:row-span-1",title:"Logstica"},{src:kS,span:"md:col-span-1 md:row-span-2",title:"Volado de Muebles"},{src:OS,span:"md:col-span-2 md:row-span-2",title:"Servicio Residencial"},{src:MS,span:"md:col-span-1 md:row-span-1",title:"Empaque Delicado"},{src:VS,span:"md:col-span-1 md:row-span-1",title:"Transporte Nacional"},{src:LS,span:"md:col-span-4 md:row-span-1",title:"Listos para tu mudanza"}];return u.jsx("div",{className:"py-24 relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"bg-white/50 px-4 py-1 rounded-full text-cadena-pink font-bold tracking-widest uppercase text-xs border border-white/40 shadow-sm",children:"Galera"}),u.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 mt-4 mb-6",children:["As trabajamos en ",u.jsx("span",{className:"text-cadena-blue",children:"Cadena"})]}),u.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Cada mudanza es una historia de xito. Mira cmo cuidamos el patrimonio de nuestros clientes."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[200px]",children:r.map((e,n)=>u.jsx("div",{className:`relative group rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow duration-300 border border-white/40 ${e.span}`,children:u.jsx("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-in-out"})},n))}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs("a",{href:"https://www.instagram.com/mudanzas.cadena",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-cadena-pink font-bold hover:text-pink-700 transition",children:[u.jsx(V_,{size:20})," Ver ms en Instagram"]})})]})})},zS=()=>{const[r,e]=L.useState(!1),n=L.useRef(null);return L.useEffect(()=>{n.current&&n.current.play().catch(i=>{console.log("El navegador bloque el autoplay (normal en mviles/ahorro de batera):",i)})},[]),u.jsxs("div",{className:"flex flex-col w-full bg-slate-50 relative overflow-hidden pt-20",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-cadena-pink/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute top-[800px] left-0 w-[600px] h-[600px] bg-cadena-blue/20 rounded-full blur-3xl -translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-[700px] h-[700px] bg-blue-200/30 rounded-full blur-3xl translate-y-1/4 pointer-events-none z-0"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{id:"inicio",className:"relative h-[600px] flex items-center scroll-mt-24 overflow-hidden bg-gray-900",children:[u.jsx("img",{src:AS,alt:"Fondo Mudanzas Cadena",className:"absolute inset-0 w-full h-full object-cover z-0 opacity-80"}),u.jsx("video",{ref:n,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onPlay:()=>e(!0),className:`absolute inset-0 z-10 w-full h-full object-cover transition-opacity duration-700 ${r?"opacity-100":"opacity-0"}`,children:u.jsx("source",{src:wS,type:"video/mp4"})}),u.jsx("div",{className:"absolute inset-0 bg-black/60 z-20"}),u.jsxs("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left",children:[u.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-cadena-pink/90 backdrop-blur-sm text-white text-sm font-bold mb-4 tracking-wider border border-white/20 shadow-lg animate-fade-in",children:"MUDANZAS Y FLETES NACIONALES"}),u.jsxs("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-6 drop-shadow-lg",children:["Tu patrimonio en las ",u.jsx("br",{}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-pink-200",children:"mejores manos"})]}),u.jsx("p",{className:"text-xl text-gray-100 mb-8 max-w-2xl drop-shadow-md",children:"Hacemos de tu mudanza algo fcil y sencillo. Ms de 60 aos cuidando lo que ms te importa."}),u.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 justify-center sm:justify-start",children:[u.jsxs(Gn,{to:"/cotizar",className:"px-6 py-4 bg-cadena-pink hover:bg-pink-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-pink-500/50 flex items-center justify-center gap-2",children:[u.jsx(oa,{size:20})," Cotizar en Lnea"]}),u.jsxs("a",{href:"https://wa.me/529994154957",target:"_blank",rel:"noreferrer",className:"px-6 py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition shadow-lg hover:shadow-green-500/50 flex items-center justify-center gap-2",children:[u.jsx(Bp,{size:20})," WhatsApp"]}),u.jsxs(Gn,{to:"/rastreo",className:"px-6 py-4 bg-white/10 backdrop-blur-md border border-white/30 hover:bg-white/20 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 shadow-lg",children:[u.jsx(gr,{size:20})," Rastrear"]})]})]})]}),u.jsx("div",{className:"py-16",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[{icon:u.jsx(U_,{size:32}),title:"Seguridad Total",text:"Rastreo 24/7 y seguro con CHUBB.",color:"text-cadena-blue"},{icon:u.jsx(zp,{size:32}),title:"Puntualidad",text:"Llegamos cuando decimos. Disciplina pura.",color:"text-cadena-pink"},{icon:u.jsx(CN,{size:32}),title:"Trato Humano",text:"Empresa familiar. Entendemos el valor sentimental.",color:"text-purple-500"}].map((i,o)=>u.jsxs("div",{className:"p-8 rounded-3xl bg-white/40 backdrop-blur-xl border border-white/50 shadow-xl hover:-translate-y-2 transition duration-300",children:[u.jsx("div",{className:`w-16 h-16 ${i.color} bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm`,children:i.icon}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:i.title}),u.jsx("p",{className:"text-gray-600 font-medium",children:i.text})]},o))})})}),u.jsx("section",{id:"servicios",className:"scroll-mt-24",children:u.jsx(H_,{})}),u.jsx("section",{id:"galeria",children:u.jsx(PS,{})}),u.jsx("div",{className:"py-24",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"bg-white/30 backdrop-blur-xl border border-white/60 rounded-[3rem] p-12 shadow-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-cadena-dark mb-6",children:"Nuestra Filosofa"}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-cadena-blue mb-2",children:"Misin"}),u.jsx("p",{className:"text-gray-700",children:"Hacer de tu mudanza algo fcil, cuidando tu patrimonio de principio a fin."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-cadena-pink mb-2",children:"Visin"}),u.jsx("p",{className:"text-gray-700",children:"Llegar a cada rincn de la Repblica Mexicana con la misma eficiencia."})]})]}),u.jsx("div",{className:"h-64 bg-gradient-to-br from-cadena-blue to-purple-900 rounded-3xl shadow-inner flex items-center justify-center text-white p-8 text-center border border-white/20",children:u.jsxs("div",{children:[u.jsx("span",{className:"text-6xl font-black block mb-2 drop-shadow-lg",children:"+60"}),u.jsx("span",{className:"text-xl font-medium tracking-widest uppercase",children:"Aos de experiencia"})]})})]})})})})]})]})},US=()=>{};var Rv={};const G_=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},BS=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,V=y&63;g||(V=64,h||(S=64)),i.push(n[_],n[E],n[S],n[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new qS;const S=c<<2|p>>4;if(i.push(S),y!==64){const V=p<<4&240|y>>2;if(i.push(V),E!==64){const H=y<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(r){const e=G_(r);return $_.encodeByteArray(e,!0)},kd=function(r){return FS(r).replace(/\./g,"")},Q_=function(r){try{return $_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GS=()=>HS().__FIREBASE_DEFAULTS__,$S=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q_(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return US()||GS()||$S()||QS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},K_=r=>dh()?.emulatorHosts?.[r],Y_=r=>{const e=K_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},X_=()=>dh()?.config,Z_=r=>dh()?.[`_${r}`];class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function _i(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(r){return(await fetch(r,{credentials:"include"})).ok}function J_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kd(JSON.stringify(n)),kd(JSON.stringify(h)),""].join(".")}const Zl={};function YS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function XS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jv=!1;function Fp(r,e){if(typeof window>"u"||typeof document>"u"||!_i(window.location.host)||Zl[r]===e||Zl[r]||jv)return;Zl[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",c=YS().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{jv=!0,h()},S}function _(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=XS(i),V=n("text"),H=document.getElementById(V)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),se=n("preprendIcon"),ne=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;p(re),_(F,$);const he=y();g(ne,se),re.append(ne,H,F,he),document.body.appendChild(re)}c?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function JS(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nC(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sC(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aC="FirebaseError";class Gs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aC,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?oC(c,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Gs(o,p,i)}}function oC(r,e){return r.replace(lC,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const lC=/\{\$([^}]+)}/g;function cC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function la(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=r[o],h=e[o];if(Iv(c)&&Iv(h)){if(!la(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Iv(r){return r!==null&&typeof r=="object"}function _c(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uC(r,e){const n=new dC(r,e);return n.subscribe.bind(n)}class dC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Bm(){}function pt(r){return r&&r._delegate?r._delegate:r}class fi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class fC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new KS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mC(r){return r===ta?void 0:r}function pC(r){return r.instantiationMode==="EAGER"}class gC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const yC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},bC=Pe.INFO,vC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},xC=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=vC[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=bC,this._logHandler=xC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const _C=(r,e)=>e.some(n=>r instanceof n);let Dv,kv;function EC(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W_=new WeakMap,sp=new WeakMap,e1=new WeakMap,qm=new WeakMap,Gp=new WeakMap;function wC(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ai(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&W_.set(n,r)}).catch(()=>{}),Gp.set(e,r),e}function AC(r){if(sp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});sp.set(r,e)}let rp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||e1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NC(r){rp=r(rp)}function SC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Fm(this),e,...n);return e1.set(i,e.sort?e.sort():[e]),ai(i)}:TC().includes(r)?function(...e){return r.apply(Fm(this),e),ai(W_.get(this))}:function(...e){return ai(r.apply(Fm(this),e))}}function CC(r){return typeof r=="function"?SC(r):(r instanceof IDBTransaction&&AC(r),_C(r,EC())?new Proxy(r,rp):r)}function ai(r){if(r instanceof IDBRequest)return wC(r);if(qm.has(r))return qm.get(r);const e=CC(r);return e!==r&&(qm.set(r,e),Gp.set(e,r)),e}const Fm=r=>Gp.get(r);function RC(r,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),p=ai(h);return i&&h.addEventListener("upgradeneeded",g=>{i(ai(h.result),g.oldVersion,g.newVersion,ai(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const jC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],Hm=new Map;function Ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=IC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||jC.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Hm.set(e,c),c}NC(r=>({...r,get:(e,n,i)=>Ov(e,n)||r.get(e,n,i),has:(e,n)=>!!Ov(e,n)||r.has(e,n)}));class DC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kC(r){return r.getComponent()?.type==="VERSION"}const ip="@firebase/app",Mv="0.14.7";const yr=new Hp("@firebase/app"),OC="@firebase/app-compat",MC="@firebase/analytics-compat",VC="@firebase/analytics",LC="@firebase/app-check-compat",PC="@firebase/app-check",zC="@firebase/auth",UC="@firebase/auth-compat",BC="@firebase/database",qC="@firebase/data-connect",FC="@firebase/database-compat",HC="@firebase/functions",GC="@firebase/functions-compat",$C="@firebase/installations",QC="@firebase/installations-compat",KC="@firebase/messaging",YC="@firebase/messaging-compat",XC="@firebase/performance",ZC="@firebase/performance-compat",JC="@firebase/remote-config",WC="@firebase/remote-config-compat",eR="@firebase/storage",tR="@firebase/storage-compat",nR="@firebase/firestore",sR="@firebase/ai",rR="@firebase/firestore-compat",iR="firebase",aR="12.8.0";const ap="[DEFAULT]",oR={[ip]:"fire-core",[OC]:"fire-core-compat",[VC]:"fire-analytics",[MC]:"fire-analytics-compat",[PC]:"fire-app-check",[LC]:"fire-app-check-compat",[zC]:"fire-auth",[UC]:"fire-auth-compat",[BC]:"fire-rtdb",[qC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[HC]:"fire-fn",[GC]:"fire-fn-compat",[$C]:"fire-iid",[QC]:"fire-iid-compat",[KC]:"fire-fcm",[YC]:"fire-fcm-compat",[XC]:"fire-perf",[ZC]:"fire-perf-compat",[JC]:"fire-rc",[WC]:"fire-rc-compat",[eR]:"fire-gcs",[tR]:"fire-gcs-compat",[nR]:"fire-fst",[rR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const Od=new Map,lR=new Map,op=new Map;function Vv(r,e){try{r.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(op.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,r);for(const n of Od.values())Vv(n,r);for(const n of lR.values())Vv(n,r);return!0}function hh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new xc("app","Firebase",cR);class uR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const ga=aR;function t1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:ap,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw oi.create("bad-app-name",{appName:String(o)});if(n||(n=X_()),!n)throw oi.create("no-options");const c=Od.get(o);if(c){if(la(n,c.options)&&la(i,c.config))return c;throw oi.create("duplicate-app",{appName:o})}const h=new gC(o);for(const g of op.values())h.addComponent(g);const p=new uR(n,i,h);return Od.set(o,p),p}function $p(r=ap){const e=Od.get(r);if(!e&&r===ap&&X_())return t1();if(!e)throw oi.create("no-app",{appName:r});return e}function Ls(r,e,n){let i=oR[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}ca(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dR="firebase-heartbeat-database",hR=1,ac="firebase-heartbeat-store";let Gm=null;function n1(){return Gm||(Gm=RC(dR,hR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(r=>{throw oi.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function fR(r){try{const n=(await n1()).transaction(ac),i=await n.objectStore(ac).get(s1(r));return await n.done,i}catch(e){if(e instanceof Gs)yr.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function Lv(r,e){try{const i=(await n1()).transaction(ac,"readwrite");await i.objectStore(ac).put(e,s1(r)),await i.done}catch(n){if(n instanceof Gs)yr.warn(n.message);else{const i=oi.create("idb-set",{originalErrorMessage:n?.message});yr.warn(i.message)}}}function s1(r){return`${r.name}!${r.options.appId}`}const mR=1024,pR=30;class gR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>pR){const o=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pv(),{heartbeatsToSend:n,unsentEntries:i}=yR(this._heartbeatsCache.heartbeats),o=kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function yR(r,e=mR){const n=[];let i=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),zv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rC()?iC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zv(r){return kd(JSON.stringify({version:2,heartbeats:r})).length}function vR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function xR(r){ca(new fi("platform-logger",e=>new DC(e),"PRIVATE")),ca(new fi("heartbeat",e=>new gR(e),"PRIVATE")),Ls(ip,Mv,r),Ls(ip,Mv,"esm2020"),Ls("fire-js","")}xR("");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var li,r1;(function(){var r;function e(N,C){function w(){}w.prototype=C.prototype,N.F=C.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(R,j,k){for(var I=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)I[ke-2]=arguments[ke];return C.prototype[j].apply(R,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,w){w||(w=0);const R=Array(16);if(typeof C=="string")for(var j=0;j<16;++j)R[j]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(j=0;j<16;++j)R[j]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=N.g[0],w=N.g[1],j=N.g[2];let k=N.g[3],I;I=C+(k^w&(j^k))+R[0]+3614090360&4294967295,C=w+(I<<7&4294967295|I>>>25),I=k+(j^C&(w^j))+R[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=j+(w^k&(C^w))+R[2]+606105819&4294967295,j=k+(I<<17&4294967295|I>>>15),I=w+(C^j&(k^C))+R[3]+3250441966&4294967295,w=j+(I<<22&4294967295|I>>>10),I=C+(k^w&(j^k))+R[4]+4118548399&4294967295,C=w+(I<<7&4294967295|I>>>25),I=k+(j^C&(w^j))+R[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=j+(w^k&(C^w))+R[6]+2821735955&4294967295,j=k+(I<<17&4294967295|I>>>15),I=w+(C^j&(k^C))+R[7]+4249261313&4294967295,w=j+(I<<22&4294967295|I>>>10),I=C+(k^w&(j^k))+R[8]+1770035416&4294967295,C=w+(I<<7&4294967295|I>>>25),I=k+(j^C&(w^j))+R[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=j+(w^k&(C^w))+R[10]+4294925233&4294967295,j=k+(I<<17&4294967295|I>>>15),I=w+(C^j&(k^C))+R[11]+2304563134&4294967295,w=j+(I<<22&4294967295|I>>>10),I=C+(k^w&(j^k))+R[12]+1804603682&4294967295,C=w+(I<<7&4294967295|I>>>25),I=k+(j^C&(w^j))+R[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=j+(w^k&(C^w))+R[14]+2792965006&4294967295,j=k+(I<<17&4294967295|I>>>15),I=w+(C^j&(k^C))+R[15]+1236535329&4294967295,w=j+(I<<22&4294967295|I>>>10),I=C+(j^k&(w^j))+R[1]+4129170786&4294967295,C=w+(I<<5&4294967295|I>>>27),I=k+(w^j&(C^w))+R[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=j+(C^w&(k^C))+R[11]+643717713&4294967295,j=k+(I<<14&4294967295|I>>>18),I=w+(k^C&(j^k))+R[0]+3921069994&4294967295,w=j+(I<<20&4294967295|I>>>12),I=C+(j^k&(w^j))+R[5]+3593408605&4294967295,C=w+(I<<5&4294967295|I>>>27),I=k+(w^j&(C^w))+R[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=j+(C^w&(k^C))+R[15]+3634488961&4294967295,j=k+(I<<14&4294967295|I>>>18),I=w+(k^C&(j^k))+R[4]+3889429448&4294967295,w=j+(I<<20&4294967295|I>>>12),I=C+(j^k&(w^j))+R[9]+568446438&4294967295,C=w+(I<<5&4294967295|I>>>27),I=k+(w^j&(C^w))+R[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=j+(C^w&(k^C))+R[3]+4107603335&4294967295,j=k+(I<<14&4294967295|I>>>18),I=w+(k^C&(j^k))+R[8]+1163531501&4294967295,w=j+(I<<20&4294967295|I>>>12),I=C+(j^k&(w^j))+R[13]+2850285829&4294967295,C=w+(I<<5&4294967295|I>>>27),I=k+(w^j&(C^w))+R[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=j+(C^w&(k^C))+R[7]+1735328473&4294967295,j=k+(I<<14&4294967295|I>>>18),I=w+(k^C&(j^k))+R[12]+2368359562&4294967295,w=j+(I<<20&4294967295|I>>>12),I=C+(w^j^k)+R[5]+4294588738&4294967295,C=w+(I<<4&4294967295|I>>>28),I=k+(C^w^j)+R[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=j+(k^C^w)+R[11]+1839030562&4294967295,j=k+(I<<16&4294967295|I>>>16),I=w+(j^k^C)+R[14]+4259657740&4294967295,w=j+(I<<23&4294967295|I>>>9),I=C+(w^j^k)+R[1]+2763975236&4294967295,C=w+(I<<4&4294967295|I>>>28),I=k+(C^w^j)+R[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=j+(k^C^w)+R[7]+4139469664&4294967295,j=k+(I<<16&4294967295|I>>>16),I=w+(j^k^C)+R[10]+3200236656&4294967295,w=j+(I<<23&4294967295|I>>>9),I=C+(w^j^k)+R[13]+681279174&4294967295,C=w+(I<<4&4294967295|I>>>28),I=k+(C^w^j)+R[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=j+(k^C^w)+R[3]+3572445317&4294967295,j=k+(I<<16&4294967295|I>>>16),I=w+(j^k^C)+R[6]+76029189&4294967295,w=j+(I<<23&4294967295|I>>>9),I=C+(w^j^k)+R[9]+3654602809&4294967295,C=w+(I<<4&4294967295|I>>>28),I=k+(C^w^j)+R[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=j+(k^C^w)+R[15]+530742520&4294967295,j=k+(I<<16&4294967295|I>>>16),I=w+(j^k^C)+R[2]+3299628645&4294967295,w=j+(I<<23&4294967295|I>>>9),I=C+(j^(w|~k))+R[0]+4096336452&4294967295,C=w+(I<<6&4294967295|I>>>26),I=k+(w^(C|~j))+R[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=j+(C^(k|~w))+R[14]+2878612391&4294967295,j=k+(I<<15&4294967295|I>>>17),I=w+(k^(j|~C))+R[5]+4237533241&4294967295,w=j+(I<<21&4294967295|I>>>11),I=C+(j^(w|~k))+R[12]+1700485571&4294967295,C=w+(I<<6&4294967295|I>>>26),I=k+(w^(C|~j))+R[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=j+(C^(k|~w))+R[10]+4293915773&4294967295,j=k+(I<<15&4294967295|I>>>17),I=w+(k^(j|~C))+R[1]+2240044497&4294967295,w=j+(I<<21&4294967295|I>>>11),I=C+(j^(w|~k))+R[8]+1873313359&4294967295,C=w+(I<<6&4294967295|I>>>26),I=k+(w^(C|~j))+R[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=j+(C^(k|~w))+R[6]+2734768916&4294967295,j=k+(I<<15&4294967295|I>>>17),I=w+(k^(j|~C))+R[13]+1309151649&4294967295,w=j+(I<<21&4294967295|I>>>11),I=C+(j^(w|~k))+R[4]+4149444226&4294967295,C=w+(I<<6&4294967295|I>>>26),I=k+(w^(C|~j))+R[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=j+(C^(k|~w))+R[2]+718787259&4294967295,j=k+(I<<15&4294967295|I>>>17),I=w+(k^(j|~C))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+k&4294967295}i.prototype.v=function(N,C){C===void 0&&(C=N.length);const w=C-this.blockSize,R=this.C;let j=this.h,k=0;for(;k<C;){if(j==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<C;)if(R[j++]=N.charCodeAt(k++),j==this.blockSize){o(this,R),j=0;break}}else for(;k<C;)if(R[j++]=N[k++],j==this.blockSize){o(this,R),j=0;break}}this.h=j,this.o+=C},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,w=0;w<4;++w)for(let R=0;R<32;R+=8)N[C++]=this.g[w]>>>R&255;return N};function c(N,C){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=C(N)}function h(N,C){this.h=C;const w=[];let R=!0;for(let j=N.length-1;j>=0;j--){const k=N[j]|0;R&&k==C||(w[j]=k,R=!1)}this.g=w}var p={};function g(N){return-128<=N&&N<128?c(N,function(C){return new h([C|0],C<0?-1:0)}):new h([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return F(y(-N));const C=[];let w=1;for(let R=0;N>=w;R++)C[R]=N/w|0,w*=4294967296;return new h(C,0)}function _(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return F(_(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(C,8));let R=E;for(let k=0;k<N.length;k+=8){var j=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+j),C);j<8?(j=y(Math.pow(C,j)),R=R.j(j).add(y(I))):(R=R.j(w),R=R.add(y(I)))}return R}var E=g(0),S=g(1),V=g(16777216);r=h.prototype,r.m=function(){if($(this))return-F(this).m();let N=0,C=1;for(let w=0;w<this.g.length;w++){const R=this.i(w);N+=(R>=0?R:4294967296+R)*C,C*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if($(this))return"-"+F(this).toString(N);const C=y(Math.pow(N,6));var w=this;let R="";for(;;){const j=he(w,C).g;w=se(w,j.j(C));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=j,H(w))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=se(this,N),$(N)?-1:H(N)?0:1};function F(N){const C=N.g.length,w=[];for(let R=0;R<C;R++)w[R]=~N.g[R];return new h(w,~N.h).add(S)}r.abs=function(){return $(this)?F(this):this},r.add=function(N){const C=Math.max(this.g.length,N.g.length),w=[];let R=0;for(let j=0;j<=C;j++){let k=R+(this.i(j)&65535)+(N.i(j)&65535),I=(k>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);R=I>>>16,k&=65535,I&=65535,w[j]=I<<16|k}return new h(w,w[w.length-1]&-2147483648?-1:0)};function se(N,C){return N.add(F(C))}r.j=function(N){if(H(this)||H(N))return E;if($(this))return $(N)?F(this).j(F(N)):F(F(this).j(N));if($(N))return F(this.j(F(N)));if(this.l(V)<0&&N.l(V)<0)return y(this.m()*N.m());const C=this.g.length+N.g.length,w=[];for(var R=0;R<2*C;R++)w[R]=0;for(R=0;R<this.g.length;R++)for(let j=0;j<N.g.length;j++){const k=this.i(R)>>>16,I=this.i(R)&65535,ke=N.i(j)>>>16,De=N.i(j)&65535;w[2*R+2*j]+=I*De,ne(w,2*R+2*j),w[2*R+2*j+1]+=k*De,ne(w,2*R+2*j+1),w[2*R+2*j+1]+=I*ke,ne(w,2*R+2*j+1),w[2*R+2*j+2]+=k*ke,ne(w,2*R+2*j+2)}for(N=0;N<C;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=C;N<2*C;N++)w[N]=0;return new h(w,0)};function ne(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function re(N,C){this.g=N,this.h=C}function he(N,C){if(H(C))throw Error("division by zero");if(H(N))return new re(E,E);if($(N))return C=he(F(N),C),new re(F(C.g),F(C.h));if($(C))return C=he(N,F(C)),new re(F(C.g),C.h);if(N.g.length>30){if($(N)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var w=S,R=C;R.l(N)<=0;)w=ve(w),R=ve(R);var j=ge(w,1),k=ge(R,1);for(R=ge(R,2),w=ge(w,2);!H(R);){var I=k.add(R);I.l(N)<=0&&(j=j.add(w),k=I),R=ge(R,1),w=ge(w,1)}return C=se(N,j.j(C)),new re(j,C)}for(j=E;N.l(C)>=0;){for(w=Math.max(1,Math.floor(N.m()/C.m())),R=Math.ceil(Math.log(w)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=y(w),I=k.j(C);$(I)||I.l(N)>0;)w-=R,k=y(w),I=k.j(C);H(k)&&(k=S),j=j.add(k),N=se(N,I)}return new re(j,N)}r.B=function(N){return he(this,N).h},r.and=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let R=0;R<C;R++)w[R]=this.i(R)&N.i(R);return new h(w,this.h&N.h)},r.or=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let R=0;R<C;R++)w[R]=this.i(R)|N.i(R);return new h(w,this.h|N.h)},r.xor=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let R=0;R<C;R++)w[R]=this.i(R)^N.i(R);return new h(w,this.h^N.h)};function ve(N){const C=N.g.length+1,w=[];for(let R=0;R<C;R++)w[R]=N.i(R)<<1|N.i(R-1)>>>31;return new h(w,N.h)}function ge(N,C){const w=C>>5;C%=32;const R=N.g.length-w,j=[];for(let k=0;k<R;k++)j[k]=C>0?N.i(k+w)>>>C|N.i(k+w+1)<<32-C:N.i(k+w);return new h(j,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,r1=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,li=h}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,$l,a1,Ed,lp,o1,l1,c1;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var b=0;b<d.length;++b){var x=d[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function o(d,b){if(b)e:{var x=i;d=d.split(".");for(var A=0;A<d.length-1;A++){var z=d[A];if(!(z in x))break e;x=x[z]}d=d[d.length-1],A=x[d],b=b(A),b!=A&&b!=null&&e(x,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var x=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&x.push([A,b[A]]);return x}});var c=c||{},h=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,x){return d.call.apply(d.bind,arguments)}function y(d,b,x){return y=g,y.apply(null,arguments)}function _(d,b){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function E(d,b){function x(){}x.prototype=b.prototype,d.Z=b.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(A,z,G){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return b.prototype[z].apply(A,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function V(d){const b=d.length;if(b>0){const x=Array(b);for(let A=0;A<b;A++)x[A]=d[A];return x}return[]}function H(d,b){for(let A=1;A<arguments.length;A++){const z=arguments[A];var x=typeof z;if(x=x!="object"?x:z?Array.isArray(z)?"array":x:"null",x=="array"||x=="object"&&typeof z.length=="number"){x=d.length||0;const G=z.length||0;d.length=x+G;for(let ae=0;ae<G;ae++)d[x+ae]=z[ae]}else d.push(z)}}class ${constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(d){h.setTimeout(()=>{throw d},0)}function se(){var d=N;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ne{constructor(){this.h=this.g=null}add(b,x){const A=re.get();A.set(b,x),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new $(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ge=!1,N=new ne,C=()=>{const d=Promise.resolve(void 0);ve=()=>{d.then(w)}};function w(){for(var d;d=se();){try{d.h.call(d.g)}catch(x){F(x)}var b=re;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}ge=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};h.addEventListener("test",x,b),h.removeEventListener("test",x,b)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function ke(d,b){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}E(ke,j),ke.prototype.init=function(d,b){const x=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(x=="mouseover"?b=d.fromElement:x=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),K=0;function W(d,b,x,A,z){this.listener=d,this.proxy=null,this.src=b,this.type=x,this.capture=!!A,this.ha=z,this.key=++K,this.da=this.fa=!1}function ie(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d,b,x){for(const A in d)b.call(x,d[A],A,d)}function Se(d,b){for(const x in d)b.call(void 0,d[x],x,d)}function O(d){const b={};for(const x in d)b[x]=d[x];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,b){let x,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(x in A)d[x]=A[x];for(let G=0;G<Z.length;G++)x=Z[G],Object.prototype.hasOwnProperty.call(A,x)&&(d[x]=A[x])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,b,x,A,z){const G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);const ae=je(d,b,A,z);return ae>-1?(b=d[ae],x||(b.fa=!1)):(b=new W(b,this.src,G,!!A,z),b.fa=x,d.push(b)),b};function Te(d,b){const x=b.type;if(x in d.g){var A=d.g[x],z=Array.prototype.indexOf.call(A,b,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(ie(b),d.g[x].length==0&&(delete d.g[x],d.h--))}}function je(d,b,x,A){for(let z=0;z<d.length;++z){const G=d[z];if(!G.da&&G.listener==b&&G.capture==!!x&&G.ha==A)return z}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(d,b,x,A,z){if(Array.isArray(b)){for(let G=0;G<b.length;G++)ot(d,b[G],x,A,z);return null}return x=Lo(x),d&&d[De]?d.J(b,x,p(A)?!!A.capture:!1,z):wi(d,b,x,!1,A,z)}function wi(d,b,x,A,z,G){if(!b)throw Error("Invalid event type");const ae=p(z)?!!z.capture:!!z;let Ce=Ai(d);if(Ce||(d[qe]=Ce=new ce(d)),x=Ce.add(b,x,A,ae,G),x.proxy)return x;if(A=va(),x.proxy=A,A.src=d,A.listener=x,d.addEventListener)k||(z=ae),z===void 0&&(z=!1),d.addEventListener(b.toString(),A,z);else if(d.attachEvent)d.attachEvent(ms(b.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function va(){function d(x){return b.call(d.src,d.listener,x)}const b=Mo;return d}function xa(d,b,x,A,z){if(Array.isArray(b))for(var G=0;G<b.length;G++)xa(d,b[G],x,A,z);else A=p(A)?!!A.capture:!!A,x=Lo(x),d&&d[De]?(d=d.i,G=String(b).toString(),G in d.g&&(b=d.g[G],x=je(b,x,A,z),x>-1&&(ie(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete d.g[G],d.h--)))):d&&(d=Ai(d))&&(b=d.g[b.toString()],d=-1,b&&(d=je(b,x,A,z)),(x=d>-1?b[d]:null)&&_a(x))}function _a(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[De])Te(b.i,d);else{var x=d.type,A=d.proxy;b.removeEventListener?b.removeEventListener(x,A,d.capture):b.detachEvent?b.detachEvent(ms(x),A):b.addListener&&b.removeListener&&b.removeListener(A),(x=Ai(b))?(Te(x,d),x.h==0&&(x.src=null,b[qe]=null)):ie(d)}}}function ms(d){return d in kt?kt[d]:kt[d]="on"+d}function Mo(d,b){if(d.da)d=!0;else{b=new ke(b,this);const x=d.listener,A=d.ha||d.src;d.fa&&_a(d),d=x.call(A,b)}return d}function Ai(d){return d=d[qe],d instanceof ce?d:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(d){return typeof d=="function"?d:(d[Vo]||(d[Vo]=function(b){return d.handleEvent(b)}),d[Vo])}function _t(){R.call(this),this.i=new ce(this),this.M=this,this.G=null}E(_t,R),_t.prototype[De]=!0,_t.prototype.removeEventListener=function(d,b,x,A){xa(this,d,b,x,A)};function Ot(d,b){var x,A=d.G;if(A)for(x=[];A;A=A.G)x.push(A);if(d=d.M,A=b.type||b,typeof b=="string")b=new j(b,d);else if(b instanceof j)b.target=b.target||d;else{var z=b;b=new j(A,d),oe(b,z)}z=!0;let G,ae;if(x)for(ae=x.length-1;ae>=0;ae--)G=b.g=x[ae],z=Er(G,A,!0,b)&&z;if(G=b.g=d,z=Er(G,A,!0,b)&&z,z=Er(G,A,!1,b)&&z,x)for(ae=0;ae<x.length;ae++)G=b.g=x[ae],z=Er(G,A,!1,b)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const x=d.g[b];for(let A=0;A<x.length;A++)ie(x[A]);delete d.g[b],d.h--}}this.G=null},_t.prototype.J=function(d,b,x,A){return this.i.add(String(d),b,!1,x,A)},_t.prototype.K=function(d,b,x,A){return this.i.add(String(d),b,!0,x,A)};function Er(d,b,x,A){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let z=!0;for(let G=0;G<b.length;++G){const ae=b[G];if(ae&&!ae.da&&ae.capture==x){const Ce=ae.listener,yt=ae.ha||ae.src;ae.fa&&Te(d.i,ae),z=Ce.call(yt,A)!==!1&&z}}return z&&!A.defaultPrevented}function kh(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(d,b||0)}function Oc(d){d.g=kh(()=>{d.g=null,d.i&&(d.i=!1,Oc(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class rn extends R{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Oc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(d){R.call(this),this.h=d,this.g={}}E(Ni,R);var Po=[];function zo(d){me(d.g,function(b,x){this.g.hasOwnProperty(x)&&_a(b)},d),d.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),zo(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,Oh=h.JSON.parse,Mc=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Vc(){}function Lc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){j.call(this,"d")}E(qt,j);function jn(){j.call(this,"c")}E(jn,j);var gt={},Pc=null;function Ea(){return Pc=Pc||new _t}gt.Ia="serverreachability";function zc(d){j.call(this,gt.Ia,d)}E(zc,j);function ps(d){const b=Ea();Ot(b,new zc(b))}gt.STAT_EVENT="statevent";function Si(d,b){j.call(this,gt.STAT_EVENT,d),this.stat=b}E(Si,j);function Et(d){const b=Ea();Ot(b,new Si(b,d))}gt.Ja="timingevent";function gs(d,b){j.call(this,gt.Ja,d),this.size=b}E(gs,j);function ys(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},b)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Mh(d,b,x,A,z,G){d.info(function(){if(d.g)if(G){var ae="",Ce=G.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var yt=Ce[Qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const On=lt.split("_");ae=On.length>=2&&On[1]=="type"?ae+(lt+"="+yt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+b+`
`+x+`
`+ae})}function Uc(d,b,x,A,z,G,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+b+`
`+x+`
`+G+" "+ae})}function bs(d,b,x,A){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Vh(d,x)+(A?" "+A:"")})}function Ci(d,b){d.info(function(){return"TIMEOUT: "+b})}Jn.prototype.info=function(){};function Vh(d,b){if(!d.g)return b;if(!b)return null;try{const G=JSON.parse(b);if(G){for(d=0;d<G.length;d++)if(Array.isArray(G[d])){var x=G[d];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Tr(G)}catch{return b}}var Ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function ji(){}E(ji,Vc),ji.prototype.g=function(){return new XMLHttpRequest},Bo=new ji;function $s(d){return encodeURIComponent(String(d))}function Bc(d){var b=1;d=d.split(":");const x=[];for(;b>0&&d.length;)x.push(d.shift()),b--;return d.length&&x.push(d.join(":")),x}function Wn(d,b,x,A){this.j=d,this.i=b,this.l=x,this.S=A||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new es}function es(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function vs(d,b,x){d.M=1,d.A=Ii(At(b)),d.u=x,d.R=!0,Ta(d,null)}function Ta(d,b){d.F=Date.now(),xs(d),d.B=At(d.A);var x=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),Sa(x.i,"t",A),d.C=0,x=d.j.L,d.h=new es,d.g=nu(d.j,x?b:null,!d.u),d.P>0&&(d.O=new rn(y(d.Y,d,d.g),d.P)),b=d.V,x=d.g,A=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let G=0;G<z.length;G++){const ae=ot(x,z[G],A||b.handleEvent,!1,b.h||b);if(!ae)break;b.g[ae.key]=ae}b=d.J?O(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),ps(),Mh(d.i,d.v,d.B,d.l,d.S,d.u)}Wn.prototype.ba=function(d){d=d.target;const b=this.O;b&&ss(d)==3?b.j():this.Y(d)},Wn.prototype.Y=function(d){try{if(d==this.g)e:{const Ce=ss(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Qe<=0?ps(3):ps(2)),_s(this);var b=this.g.ca();this.X=b;var x=Lh(this);if(this.o=b==200,Uc(this.i,this.v,this.B,this.l,this.S,Ce,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(d=G)bs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Es(this,d);else{this.o=!1,this.m=3,Et(12),bn(this),In(this);break e}}if(this.R){d=!0;let lt;for(;!this.K&&this.C<x.length;)if(lt=Fc(this,x),lt==Lt){Ce==4&&(this.m=4,Et(14),d=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),bs(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else bs(this.i,this.l,lt,null),Es(this,lt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||x.length!=0||this.h.h||(this.m=1,Et(16),d=!1),this.o=this.o&&d,!d)bs(this.i,this.l,x,"[Invalid Chunked Response]"),bn(this),In(this);else if(x.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),nl(ae),ae.P=!0,Et(11))}}else bs(this.i,this.l,x,null),Es(this,x);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?Jc(this.j,this):(this.o=!1,xs(this)))}else Ks(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),bn(this),In(this)}}}catch{}};function Lh(d){if(!qc(d))return d.g.la();const b=Ft(d.g);if(b==="")return"";let x="";const A=b.length,z=ss(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return bn(d),In(d),"";d.h.i=new h.TextDecoder}for(let G=0;G<A;G++)d.h.h=!0,x+=d.h.i.decode(b[G],{stream:!(z&&G==A-1)});return b.length=0,d.h.g+=x,d.C=0,d.h.g}function qc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Fc(d,b){var x=d.C,A=b.indexOf(`
`,x);return A==-1?Lt:(x=Number(b.substring(x,A)),isNaN(x)?Tt:(A+=1,A+x>b.length?Lt:(b=b.slice(A,A+x),d.C=A+x,b)))}Wn.prototype.cancel=function(){this.K=!0,bn(this)};function xs(d){d.T=Date.now()+d.H,wa(d,d.H)}function wa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ys(y(d.aa,d),b)}function _s(d){d.D&&(h.clearTimeout(d.D),d.D=null)}Wn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ci(this.i,this.B),this.M!=2&&(ps(),Et(17)),bn(this),this.m=2,In(this)):wa(this,this.T-d)};function In(d){d.j.I==0||d.K||Jc(d.j,d)}function bn(d){_s(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,zo(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Es(d,b){try{var x=d.j;if(x.I!=0&&(x.g==d||ws(x.h,d))){if(!d.L&&ws(x.h,d)&&x.I==3){try{var A=x.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)Da(x),Ir(x);else break e;Pi(x),Et(18)}}else x.xa=z[1],0<x.xa-x.K&&z[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ys(y(x.Va,x),6e3));Ts(x.h)<=1&&x.ta&&(x.ta=void 0)}else js(x,11)}else if((d.L||x.g==d)&&Da(x),!I(b))for(z=x.Ba.g.parse(b),b=0;b<z.length;b++){let Qe=z[b];const lt=Qe[0];if(!(lt<=x.K))if(x.K=lt,Qe=Qe[1],x.I==2)if(Qe[0]=="c"){x.M=Qe[1],x.ba=Qe[2];const On=Qe[3];On!=null&&(x.ka=On,x.j.info("VER="+x.ka));const Is=Qe[4];Is!=null&&(x.za=Is,x.j.info("SVER="+x.za));const rs=Qe[5];rs!=null&&typeof rs=="number"&&rs>0&&(A=1.5*rs,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const is=d.g;if(is){const zi=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var G=A.h;G.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ho(G,G.h),G.h=null))}if(A.G){const ka=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,Ye(A.J,A.G,ka))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var ae=d;if(A.na=tu(A,A.L?A.ba:null,A.W),ae.L){Go(A.h,ae);var Ce=ae,yt=A.O;yt&&(Ce.H=yt),Ce.D&&(_s(Ce),xs(Ce)),A.g=ae}else Xc(A);x.i.length>0&&Rs(x)}else Qe[0]!="stop"&&Qe[0]!="close"||js(x,7);else x.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?js(x,7):el(x):Qe[0]!="noop"&&x.l&&x.l.qa(Qe),x.A=0)}}ps(4)}catch{}}var wt=class{constructor(d,b){this.g=d,this.map=b}};function qo(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ts(d){return d.h?1:d.g?d.g.size:0}function ws(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Ho(d,b){d.g?d.g.add(b):d.h=b}function Go(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $o(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const x of d.g.values())b=b.concat(x.G);return b}return V(d.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(d,b){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const A=d[x].indexOf("=");let z,G=null;A>=0?(z=d[x].substring(0,A),G=d[x].substring(A+1)):z=d[x],b(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof vn?(this.l=d.l,Pt(this,d.j),this.o=d.o,this.g=d.g,wr(this,d.u),this.h=d.h,Qo(this,Kc(d.i)),this.m=d.m):d&&(b=String(d).match(Hc))?(this.l=!1,Pt(this,b[1]||"",!0),this.o=As(b[2]||""),this.g=As(b[3]||"",!0),wr(this,b[4]),this.h=As(b[5]||"",!0),Qo(this,b[6]||"",!0),this.m=As(b[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}vn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Di(b,Na,!0),":");var x=this.g;return(x||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Di(b,Na,!0),"@"),d.push($s(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Di(x,x.charAt(0)=="/"?Ko:Gc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Di(x,$c)),d.join("")},vn.prototype.resolve=function(d){const b=At(this);let x=!!d.j;x?Pt(b,d.j):x=!!d.o,x?b.o=d.o:x=!!d.g,x?b.g=d.g:x=d.u!=null;var A=d.h;if(x)wr(b,d.u);else if(x=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=b.h.lastIndexOf("/");z!=-1&&(A=b.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ae=0;ae<z.length;){const Ce=z[ae++];Ce=="."?A&&ae==z.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ae==z.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=z}return x?b.h=A:x=d.i.toString()!=="",x?Qo(b,Kc(d.i)):x=!!d.m,x&&(b.m=d.m),b};function At(d){return new vn(d)}function Pt(d,b,x){d.j=x?As(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function wr(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Qo(d,b,x){b instanceof Nr?(d.i=b,Ca(d.i,d.l)):(x||(b=Di(b,Ar)),d.i=new Nr(b,d.l))}function Ye(d,b,x){d.i.set(b,x)}function Ii(d){return Ye(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function As(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Di(d,b,x){return typeof d=="string"?(d=encodeURI(d).replace(b,un),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function un(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Na=/[#\/\?@]/g,Gc=/[#\?:]/g,Ko=/[#\?]/g,Ar=/[#\?@]/g,$c=/#/g;function Nr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function dn(d){d.g||(d.g=new Map,d.h=0,d.i&&Aa(d.i,function(b,x){d.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}r=Nr.prototype,r.add=function(d,b){dn(this),this.i=null,d=Sr(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(b),this.h+=1,this};function Qc(d,b){dn(d),b=Sr(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Yo(d,b){return dn(d),b=Sr(d,b),d.g.has(b)}r.forEach=function(d,b){dn(this),this.g.forEach(function(x,A){x.forEach(function(z){d.call(b,z,A,this)},this)},this)};function Xo(d,b){dn(d);let x=[];if(typeof b=="string")Yo(d,b)&&(x=x.concat(d.g.get(Sr(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)x=x.concat(d[b]);return x}r.set=function(d,b){return dn(this),this.i=null,d=Sr(this,d),Yo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=Xo(this,d),d.length>0?String(d[0]):b):b};function Sa(d,b,x){Qc(d,b),x.length>0&&(d.i=null,d.g.set(Sr(d,b),V(x)),d.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var x=b[A];const z=$s(x);x=Xo(this,x);for(let G=0;G<x.length;G++){let ae=z;x[G]!==""&&(ae+="="+$s(x[G])),d.push(ae)}}return this.i=d.join("&")};function Kc(d){const b=new Nr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Sr(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Ca(d,b){b&&!d.j&&(dn(d),d.i=null,d.g.forEach(function(x,A){const z=A.toLowerCase();A!=z&&(Qc(this,A),Sa(this,z,x))},d)),d.j=b}function ts(d,b){const x=new Jn;if(h.Image){const A=new Image;A.onload=_(Dn,x,"TestLoadImage: loaded",!0,b,A),A.onerror=_(Dn,x,"TestLoadImage: error",!1,b,A),A.onabort=_(Dn,x,"TestLoadImage: abort",!1,b,A),A.ontimeout=_(Dn,x,"TestLoadImage: timeout",!1,b,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else b(!1)}function Zo(d,b){const x=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Dn(x,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Dn(x,"TestPingServer: ok",!0,b):Dn(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(z),Dn(x,"TestPingServer: error",!1,b)})}function Dn(d,b,x,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(x)}catch{}}function Cr(){this.g=new Mc}function Ns(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ns,Vc),Ns.prototype.g=function(){return new ki(this.i,this.h)};function ki(d,b){_t.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ki,_t),r=ki.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,ns(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Rr(this):ns(this),this.readyState==3&&Ra(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Rr(this))},r.Na=function(d){this.g&&(this.response=d,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ns(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=b.next();return d.join(`\r
`)};function ns(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function kn(d){let b="";return me(d,function(x,A){b+=A,b+=":",b+=x,b+=`\r
`}),b}function Oi(d,b,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=kn(x),typeof d=="string"?x!=null&&$s(x):Ye(d,b,x))}function Je(d){_t.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,_t);var Ss=/^https?$/i,Jo=["POST","PUT"];r=Je.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(G){Mi(this,G);return}if(d=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)x.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())x.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(Jo,b,void 0)>=0)||A||z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of x)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(G){Mi(this,G)}};function Mi(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Wo(d),Qs(d)}function Wo(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ot(this,"complete"),Ot(this,"abort"),Qs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vi(this):this.Xa())},r.Xa=function(){Vi(this)};function Vi(d){if(d.h&&typeof c<"u"){if(d.v&&ss(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ot(d,"readystatechange"),ss(d)==4){d.h=!1;try{const G=d.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var A;if(A=G===0){let ae=String(d.D).match(Hc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!Ss.test(ae?ae.toLowerCase():"")}x=A}if(x)Ot(d,"complete"),Ot(d,"success");else{d.o=6;try{var z=ss(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",Wo(d)}}finally{Qs(d)}}}}function Qs(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,b||Ot(d,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}r.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Oh(b)}};function Ft(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(d){const b={};d=(d.g&&ss(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(I(d[A]))continue;var x=Bc(d[A]);const z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=b[z]||[];b[z]=G,G.push(x)}Se(b,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(d,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||b}function jr(d){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,d),this.Za=Cs("retryDelaySeedMs",1e4,d),this.Ta=Cs("forwardChannelMaxRetries",2,d),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(d&&d.concurrentRequestLimit),this.Ba=new Cr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=jr.prototype,r.ka=8,r.I=1,r.connect=function(d,b,x,A){Et(0),this.W=d,this.H=b||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=tu(this,null,this.W),Rs(this)};function el(d){if(ja(d),d.I==3){var b=d.V++,x=At(d.J);if(Ye(x,"SID",d.M),Ye(x,"RID",b),Ye(x,"TYPE","terminate"),Li(d,x),b=new Wn(d,d.j,b),b.M=2,b.A=Ii(At(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&h.Image&&(new Image().src=b.A,x=!0),x||(b.g=nu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),xs(b)}eu(d)}function Ir(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function ja(d){Ir(d),d.v&&(h.clearTimeout(d.v),d.v=null),Da(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Rs(d){if(!Fo(d.h)&&!d.m){d.m=!0;var b=d.Ea;ve||C(),ge||(ve(),ge=!0),N.add(b,d),d.D=0}}function Ia(d,b){return Ts(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ys(y(d.Ea,d,b),Wc(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new Wn(this,this.j,d);let G=this.o;if(this.U&&(G?(G=O(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Yc(this,z,b),x=At(this.J),Ye(x,"RID",d),Ye(x,"CVER",22),this.G&&Ye(x,"X-HTTP-Session-Id",this.G),Li(this,x),G&&(this.R?b="headers="+$s(kn(G))+"&"+b:this.u&&Oi(x,this.u,G)),Ho(this.h,z),this.Ra&&Ye(x,"TYPE","init"),this.S?(Ye(x,"$req",b),Ye(x,"SID","null"),z.U=!0,vs(z,x,null)):vs(z,x,b),this.I=2}}else this.I==3&&(d?tl(this,d):this.i.length==0||Fo(this.h)||tl(this))};function tl(d,b){var x;b?x=b.l:x=d.V++;const A=At(d.J);Ye(A,"SID",d.M),Ye(A,"RID",x),Ye(A,"AID",d.K),Li(d,A),d.u&&d.o&&Oi(A,d.u,d.o),x=new Wn(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Yc(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ho(d.h,x),vs(x,A,b)}function Li(d,b){d.H&&me(d.H,function(x,A){Ye(b,A,x)}),d.l&&me({},function(x,A){Ye(b,A,x)})}function Yc(d,b,x){x=Math.min(d.i.length,x);const A=d.l?y(d.l.Ka,d.l,d):null;e:{var z=d.i;let Ce=-1;for(;;){const yt=["count="+x];Ce==-1?x>0?(Ce=z[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Qe=!0;for(let lt=0;lt<x;lt++){var G=z[lt].g;const On=z[lt].map;if(G-=Ce,G<0)Ce=Math.max(0,z[lt].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var ae=On instanceof Map?On:Object.entries(On);for(const[Is,rs]of ae){let is=rs;p(rs)&&(is=Tr(rs)),yt.push(G+Is+"="+encodeURIComponent(is))}}catch(Is){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Is}}catch{A&&A(On)}}if(Qe){ae=yt.join("&");break e}}ae=void 0}return d=d.i.splice(0,x),b.G=d,ae}function Xc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;ve||C(),ge||(ve(),ge=!0),N.add(b,d),d.A=0}}function Pi(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ys(y(d.Da,d),Wc(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ys(y(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ir(this),Zc(this))};function nl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Zc(d){d.g=new Wn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=At(d.na);Ye(b,"RID","rpc"),Ye(b,"SID",d.M),Ye(b,"AID",d.K),Ye(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ye(b,"TO",d.ia),Ye(b,"TYPE","xmlhttp"),Li(d,b),d.u&&d.o&&Oi(b,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Ii(At(b)),x.u=null,x.R=!0,Ta(x,d)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Pi(this),Et(19))};function Da(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Jc(d,b){var x=null;if(d.g==b){Da(d),nl(d),d.g=null;var A=2}else if(ws(d.h,b))x=b.G,Go(d.h,b),A=1;else return;if(d.I!=0){if(b.o)if(A==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var z=d.D;A=Ea(),Ot(A,new gs(A,x)),Rs(d)}else Xc(d);else if(z=b.m,z==3||z==0&&b.X>0||!(A==1&&Ia(d,b)||A==2&&Pi(d)))switch(x&&x.length>0&&(b=d.h,b.i=b.i.concat(x)),z){case 1:js(d,5);break;case 4:js(d,10);break;case 3:js(d,6);break;default:js(d,2)}}}function Wc(d,b){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*b}function js(d,b){if(d.j.info("Error code "+b),b==2){var x=y(d.bb,d),A=d.Ua;const z=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(A,"https"),Ii(A),z?ts(A.toString(),x):Zo(A.toString(),x)}else Et(2);d.I=0,d.l&&d.l.pa(b),eu(d),ja(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function eu(d){if(d.I=0,d.ja=[],d.l){const b=$o(d.h);(b.length!=0||d.i.length!=0)&&(H(d.ja,b),H(d.ja,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.oa()}}function tu(d,b,x){var A=x instanceof vn?At(x):new vn(x);if(A.g!="")b&&(A.g=b+"."+A.g),wr(A,A.u);else{var z=h.location;A=z.protocol,b=b?b+"."+z.hostname:z.hostname,z=+z.port;const G=new vn(null);A&&Pt(G,A),b&&(G.g=b),z&&wr(G,z),x&&(G.h=x),A=G}return x=d.G,b=d.wa,x&&b&&Ye(A,x,b),Ye(A,"VER",d.ka),Li(d,A),A}function nu(d,b,x){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Je(new Ns({ab:x})):new Je(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(d,b){return new an(d,b)};function an(d,b){_t.call(this),this.g=new jr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!I(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ys(this)}E(an,_t),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){el(this.g)},an.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Tr(d),d=x);b.i.push(new wt(b.Ya++,d)),b.I==3&&Rs(b)},an.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,an.Z.N.call(this)};function ru(d){qt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const x in b){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}E(ru,qt);function iu(){jn.call(this),this.status=1}E(iu,jn);function Ys(d){this.g=d}E(Ys,su),Ys.prototype.ra=function(){Ot(this.g,"a")},Ys.prototype.qa=function(d){Ot(this.g,new ru(d))},Ys.prototype.pa=function(d){Ot(this.g,new iu)},Ys.prototype.oa=function(){Ot(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,c1=function(){return new Dr},l1=function(){return Ea()},o1=gt,lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Ed=Ri,Uo.COMPLETE="complete",a1=Uo,Lc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,$l=Lc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,i1=Je}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Ro="12.8.0";function _R(r){Ro=r}const ua=new Hp("@firebase/firestore");function co(){return ua.logLevel}function ue(r,...e){if(ua.logLevel<=Pe.DEBUG){const n=e.map(Qp);ua.debug(`Firestore (${Ro}): ${r}`,...n)}}function br(r,...e){if(ua.logLevel<=Pe.ERROR){const n=e.map(Qp);ua.error(`Firestore (${Ro}): ${r}`,...n)}}function xo(r,...e){if(ua.logLevel<=Pe.WARN){const n=e.map(Qp);ua.warn(`Firestore (${Ro}): ${r}`,...n)}}function Qp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,u1(r,i,n)}function u1(r,e,n){let i=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw br(i),new Error(i)}function He(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||u1(e,o,i)}function Ae(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class d1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class TR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ps,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ps)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new d1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class AR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new AR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const i=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=CR(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function cp(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return $m(o)===$m(c)?ze(o,c):$m(o)?1:-1}return ze(r.length,e.length)}const RR=55296,jR=57343;function $m(r){const e=r.charCodeAt(0);return e>=RR&&e<=jR}function _o(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const qv="__name__";class Vs{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=Vs.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const i=Vs.isNumericId(e),o=Vs.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class nt extends Vs{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Vs{construct(e,n,i){return new Yt(e,n,i)}static isValidIdentifier(e){return IR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Yt([qv])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(c(),o++)}if(c(),h)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function h1(r,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DR(r,e,n,i){if(e===!0&&i===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Fv(r){if(!pe.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hv(r){if(pe.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function f1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Qn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ec(r,e){if(!f1(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new le(X.INVALID_ARGUMENT,n);return!0}const Gv=-62135596800,$v=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*$v);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gv)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oc=-1;function kR(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new mi(o,pe.empty(),e)}function OR(r){return new mi(r.readTime,r.key,oc)}class mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new mi(Ee.min(),pe.empty(),oc)}static max(){return new mi(Ee.max(),pe.empty(),oc)}}function MR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==VR)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,i)=>{n(e)}))}static reject(e){return new te(((n,i)=>{i(e)}))}static waitFor(e){return new te(((n,i)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>i(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next((o=>o?te.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new te(((i,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++p,p===c&&i(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new te(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function PR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Yp=-1;function Tc(r){return r==null}function Md(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!Md(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const m1="";function UR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Qv(e)),e=BR(r.get(n),e);return Qv(e)}function BR(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case m1:n+="";break;default:n+=c}}return n}function Qv(r){return r+m1+""}function Kv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ei(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function p1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new Kt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g1("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=qR.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gi(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}const y1="server_timestamp",b1="__type__",v1="__previous_value__",x1="__local_write_time__";function Xp(r){return(r?.mapValue?.fields||{})[b1]?.stringValue===y1}function ph(r){const e=r.mapValue.fields[v1];return Xp(e)?ph(e):e}function lc(r){const e=pi(r.mapValue.fields[x1].timestampValue);return new at(e.seconds,e.nanos)}class FR{constructor(e,n,i,o,c,h,p,g,y,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_,this.apiKey=E}}const Vd="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}function HR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(r.options.projectId,e)}const _1="__type__",GR="__max__",hd={mapValue:{}},E1="__vector__",Ld="value";function yi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:QR(r)?9007199254740991:$R(r)?10:11:xe(28295,{value:r})}function qs(r,e){if(r===e)return!0;const n=yi(r);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lc(r).isEqual(lc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=pi(o.timestampValue),p=pi(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return gi(o.bytesValue).isEqual(gi(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return xt(o.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xt(o.integerValue)===xt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=xt(o.doubleValue),p=xt(c.doubleValue);return h===p?Md(h)===Md(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Kv(h)!==Kv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!qs(h[g],p[g])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function uc(r,e){return(r.values||[]).find((n=>qs(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=yi(r),i=yi(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=xt(c.integerValue||c.doubleValue),g=xt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return Xv(r.timestampValue,e.timestampValue);case 4:return Xv(lc(r),lc(e));case 5:return cp(r.stringValue,e.stringValue);case 6:return(function(c,h){const p=gi(c),g=gi(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=ze(p[y],g[y]);if(_!==0)return _}return ze(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=ze(xt(c.latitude),xt(h.latitude));return p!==0?p:ze(xt(c.longitude),xt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Zv(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Ld]?.arrayValue,_=g[Ld]?.arrayValue,E=ze(y?.values?.length||0,_?.values?.length||0);return E!==0?E:Zv(y,_)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===hd.mapValue&&h===hd.mapValue)return 0;if(c===hd.mapValue)return 1;if(h===hd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const S=cp(g[E],_[E]);if(S!==0)return S;const V=Eo(p[g[E]],y[_[E]]);if(V!==0)return V}return ze(g.length,_.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=pi(r),i=pi(e),o=ze(n.seconds,i.seconds);return o!==0?o:ze(n.nanos,i.nanos)}function Zv(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=Eo(n[o],i[o]);if(c)return c}return ze(n.length,i.length)}function To(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=pi(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gi(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=up(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${up(n.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Td(r){switch(yi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+Td(e):16;case 5:return 2*r.stringValue.length;case 6:return gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Td(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ei(i.fields,((c,h)=>{o+=c.length+Td(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function Jv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dp(r){return!!r&&"integerValue"in r}function Zp(r){return!!r&&"arrayValue"in r}function Wv(r){return!!r&&"nullValue"in r}function ex(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wd(r){return!!r&&"mapValue"in r}function $R(r){return(r?.mapValue?.fields||{})[_1]?.stringValue===E1}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ei(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Jl(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return{...r}}function QR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Yt.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=Jl(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];wd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ei(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new ln(Jl(this.value))}}function T1(r){const e=[];return Ei(r.fields,((n,i)=>{const o=new Yt([n]);if(wd(i)){const c=T1(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class Bt{constructor(e,n,i,o,c,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Bt(e,0,Ee.min(),Ee.min(),Ee.min(),ln.empty(),0)}static newFoundDocument(e,n,i,o){return new Bt(e,1,n,Ee.min(),i,o,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ee.min(),Ee.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ee.min(),Ee.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function tx(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?i=pe.comparator(pe.fromName(h.referenceValue),n.key):i=Eo(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function nx(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qs(r.position[n],e.position[n]))return!1;return!0}class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class w1{}class It extends w1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new XR(e,n,i):n==="array-contains"?new WR(e,i):n==="in"?new ej(e,i):n==="not-in"?new tj(e,i):n==="array-contains-any"?new nj(e,i):new It(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ZR(e,i):new JR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends w1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return A1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A1(r){return r.op==="and"}function N1(r){return YR(r)&&A1(r)}function YR(r){for(const e of r.filters)if(e instanceof hs)return!1;return!0}function hp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+To(r.value);if(N1(r))return r.filters.map((e=>hp(e))).join(",");{const e=r.filters.map((n=>hp(n))).join(",");return`${r.op}(${e})`}}function S1(r,e){return r instanceof It?(function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&qs(i.value,o.value)})(r,e):r instanceof hs?(function(i,o){return o instanceof hs&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,h,p)=>c&&S1(h,o.filters[p])),!0):!1})(r,e):void xe(19439)}function C1(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof hs?(function(n){return n.op.toString()+" {"+n.getFilters().map(C1).join(" ,")+"}"})(r):"Filter"}class XR extends It{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZR extends It{constructor(e,n){super(e,"in",n),this.keys=R1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JR extends It{constructor(e,n){super(e,"not-in",n),this.keys=R1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function R1(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class WR extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&uc(n.arrayValue,this.value)}}class ej extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class tj extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class nj extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>uc(this.value.arrayValue,i)))}}class sj{constructor(e,n=null,i=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function sx(r,e=null,n=[],i=[],o=null,c=null,h=null){return new sj(r,e,n,i,o,c,h)}function Jp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>hp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>To(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>To(i))).join(",")),e.Te=n}return e.Te}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!S1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nx(r.startAt,e.startAt)&&nx(r.endAt,e.endAt)}function fp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,i=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rj(r,e,n,i,o,c,h,p){return new Do(r,e,n,i,o,c,h,p)}function gh(r){return new Do(r)}function rx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ij(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function j1(r){return r.collectionGroup!==null}function Wl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Vt(Yt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dc(c,i))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new dc(Yt.keyField(),i))}return e.Ie}function zs(r){const e=Ae(r);return e.Ee||(e.Ee=aj(e,Wl(r))),e.Ee}function aj(r,e){if(r.limitType==="F")return sx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dc(o.field,c)}));const n=r.endAt?new Pd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Pd(r.startAt.position,r.startAt.inclusive):null;return sx(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function mp(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function oj(r,e){const n=r.explicitOrderBy.concat([e]);return new Do(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function zd(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function yh(r,e){return Wp(zs(r),zs(e))&&r.limitType===e.limitType}function I1(r){return`${Jp(zs(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>C1(o))).join(", ")}]`),Tc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${i})`})(zs(r))}; limitType=${r.limitType})`}function bh(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):pe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of Wl(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=tx(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,Wl(i),o)||i.endAt&&!(function(h,p,g){const y=tx(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,Wl(i),o))})(r,e)}function lj(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function D1(r){return(e,n)=>{let i=!1;for(const o of Wl(r)){const c=cj(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function cj(r,e,n){const i=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Eo(g,y):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:r.dir})}}class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}const uj=new dt(pe.comparator);function vr(){return uj}const k1=new dt(pe.comparator);function Ql(...r){let e=k1;for(const n of r)e=e.insert(n.key,n);return e}function O1(r){let e=k1;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function na(){return ec()}function M1(){return ec()}function ec(){return new ya((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dj=new dt(pe.comparator),hj=new Vt(pe.comparator);function Ue(...r){let e=hj;for(const n of r)e=e.add(n);return e}const fj=new Vt(ze);function mj(){return fj}function eg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function V1(r){return{integerValue:""+r}}function pj(r,e){return zR(e)?V1(e):eg(r,e)}class vh{constructor(){this._=void 0}}function gj(r,e,n){return r instanceof Ud?(function(o,c){const h={fields:{[b1]:{stringValue:y1},[x1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xp(c)&&(c=ph(c)),c&&(h.fields[v1]=c),{mapValue:h}})(n,e):r instanceof hc?P1(r,e):r instanceof fc?z1(r,e):(function(o,c){const h=L1(o,c),p=ix(h)+ix(o.Ae);return dp(h)&&dp(o.Ae)?V1(p):eg(o.serializer,p)})(r,e)}function yj(r,e,n){return r instanceof hc?P1(r,e):r instanceof fc?z1(r,e):n}function L1(r,e){return r instanceof Bd?(function(i){return dp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Ud extends vh{}class hc extends vh{constructor(e){super(),this.elements=e}}function P1(r,e){const n=U1(e);for(const i of r.elements)n.some((o=>qs(o,i)))||n.push(i);return{arrayValue:{values:n}}}class fc extends vh{constructor(e){super(),this.elements=e}}function z1(r,e){let n=U1(e);for(const i of r.elements)n=n.filter((o=>!qs(o,i)));return{arrayValue:{values:n}}}class Bd extends vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ix(r){return xt(r.integerValue||r.doubleValue)}function U1(r){return Zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bj(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof hc&&o instanceof hc||i instanceof fc&&o instanceof fc?_o(i.elements,o.elements,qs):i instanceof Bd&&o instanceof Bd?qs(i.Ae,o.Ae):i instanceof Ud&&o instanceof Ud})(r.transform,e.transform)}class vj{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xh{}function B1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _h(r.key,cn.none()):new wc(r.key,r.data,cn.none());{const n=r.data,i=ln.empty();let o=new Vt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Ti(r.key,i,new Cn(o.toArray()),cn.none())}}function xj(r,e,n){r instanceof wc?(function(o,c,h){const p=o.value.clone(),g=ox(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ti?(function(o,c,h){if(!Ad(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=ox(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(q1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tc(r,e,n,i){return r instanceof wc?(function(c,h,p,g){if(!Ad(c.precondition,h))return p;const y=c.value.clone(),_=lx(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ti?(function(c,h,p,g){if(!Ad(c.precondition,h))return p;const y=lx(c.fieldTransforms,g,h),_=h.data;return _.setAll(q1(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(c,h,p){return Ad(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function _j(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=L1(i.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(i.field,c))}return n||null}function ax(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&_o(i,o,((c,h)=>bj(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wc extends xh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ti extends xh{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function q1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function ox(r,e,n){const i=new Map;He(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,p=e.data.field(c.field);i.set(c.field,yj(h,p,n[o]))}return i}function lx(r,e,n){const i=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);i.set(o.field,gj(c,h,e))}return i}class _h extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F1 extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ej{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xj(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=tc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=tc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=M1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=B1(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,i)=>ax(n,i)))&&_o(this.baseMutations,e.baseMutations,((n,i)=>ax(n,i)))}}class tg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){He(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return dj})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new tg(e,n,i,o)}}class Tj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wj{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Fe;function H1(r){switch(r){case X.OK:return xe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function G1(r){if(r===void 0)return br("GRPC error has no .code"),X.UNKNOWN;switch(r){case jt.OK:return X.OK;case jt.CANCELLED:return X.CANCELLED;case jt.UNKNOWN:return X.UNKNOWN;case jt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case jt.INTERNAL:return X.INTERNAL;case jt.UNAVAILABLE:return X.UNAVAILABLE;case jt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case jt.NOT_FOUND:return X.NOT_FOUND;case jt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case jt.ABORTED:return X.ABORTED;case jt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case jt.DATA_LOSS:return X.DATA_LOSS;default:return xe(39323,{code:r})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Aj(){return new TextEncoder}const Nj=new li([4294967295,4294967295],0);function cx(r){const e=Aj().encode(r),n=new r1;return n.update(e),new Uint8Array(n.digest())}function ux(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new li([n,i],0),new li([o,c],0)]}class ng{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(i<0)throw new Kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(li.fromNumber(i)));return o.compare(Nj)===1&&(o=new li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cx(e),[i,o]=ux(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new ng(c,o,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=cx(e),[i,o]=ux(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Eh(Ee.min(),o,new dt(ze),vr(),Ue())}}class Ac{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ac(i,n,Ue(),Ue(),Ue())}}class Nd{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class $1{constructor(e,n){this.targetId=e,this.Ce=n}}class Q1{constructor(e,n,i=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class dx{constructor(){this.ve=0,this.Fe=hx(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:xe(38017,{changeType:c})}})),new Ac(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=hx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Sj{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.He=fd(),this.Je=fd(),this.Ze=new dt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(fp(c))if(i===0){const h=new pe(c.path);this.et(n,h,Bt.newNoDocument(h,Ee.min()))}else He(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=gi(i).toUint8Array()}catch(g){if(g instanceof g1)return xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ng(h,o,c)}catch(g){return xo(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&fp(p.target)){const g=new pe(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Bt.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let i=Ue();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Eh(e,n,this.Ze,this.je,i);return this.je=vr(),this.He=fd(),this.Je=fd(),this.Ze=new dt(ze),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new dx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fd(){return new dt(pe.comparator)}function hx(){return new dt(pe.comparator)}const Cj={asc:"ASCENDING",desc:"DESCENDING"},Rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jj={and:"AND",or:"OR"};class Ij{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(r,e){return r.useProto3Json||Tc(e)?e:{value:e}}function qd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dj(r,e){return qd(r,e.toTimestamp())}function Rn(r){return He(!!r,49232),Ee.fromTimestamp((function(n){const i=pi(n);return new at(i.seconds,i.nanos)})(r))}function sg(r,e){return gp(r,e).canonicalString()}function gp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Y1(r){const e=nt.fromString(r);return He(tE(e),10190,{key:e.toString()}),e}function Fd(r,e){return sg(r.databaseId,e.path)}function nc(r,e){const n=Y1(e);if(n.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(Z1(n))}function X1(r,e){return sg(r.databaseId,e)}function kj(r){const e=Y1(r);return e.length===4?nt.emptyPath():Z1(e)}function yp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z1(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fx(r,e,n){return{name:Fd(r,e),fields:n.value.mapValue.fields}}function Oj(r,e){return"found"in e?(function(i,o){He(!!o.found,43571),o.found.name,o.found.updateTime;const c=nc(i,o.found.name),h=Rn(o.found.updateTime),p=o.found.createTime?Rn(o.found.createTime):Ee.min(),g=new ln({mapValue:{fields:o.found.fields}});return Bt.newFoundDocument(c,h,p,g)})(r,e):"missing"in e?(function(i,o){He(!!o.missing,3894),He(!!o.readTime,22933);const c=nc(i,o.missing),h=Rn(o.readTime);return Bt.newNoDocument(c,h)})(r,e):xe(7234,{result:e})}function Mj(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(He(_===void 0||typeof _=="string",58123),Zt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Zt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?X.UNKNOWN:G1(y.code);return new le(_,y.message||"")})(h);n=new Q1(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=nc(r,i.document.name),c=Rn(i.document.updateTime),h=i.document.createTime?Rn(i.document.createTime):Ee.min(),p=new ln({mapValue:{fields:i.document.fields}}),g=Bt.newFoundDocument(o,c,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Nd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=nc(r,i.document),c=i.readTime?Rn(i.readTime):Ee.min(),h=Bt.newNoDocument(o,c),p=i.removedTargetIds||[];n=new Nd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=nc(r,i.document),c=i.removedTargetIds||[];n=new Nd([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new wj(o,c),p=i.targetId;n=new $1(p,h)}}return n}function J1(r,e){let n;if(e instanceof wc)n={update:fx(r,e.key,e.value)};else if(e instanceof _h)n={delete:Fd(r,e.key)};else if(e instanceof Ti)n={update:fx(r,e.key,e.data),updateMask:Hj(e.fieldMask)};else{if(!(e instanceof F1))return xe(16599,{dt:e.type});n={verify:Fd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const p=h.transform;if(p instanceof Ud)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Dj(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(r,e.precondition)),n}function Vj(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?Rn(o.updateTime):Rn(c);return h.isEqual(Ee.min())&&(h=Rn(c)),new vj(h,o.transformResults||[])})(n,e)))):[]}function Lj(r,e){return{documents:[X1(r,e.path)]}}function Pj(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=X1(r,o);const c=(function(y){if(y.length!==0)return eE(hs.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:ho(S.field),direction:Bj(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=pp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function zj(r){let e=kj(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){He(i===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const S=W1(E);return S instanceof hs&&N1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(H){return new dc(fo(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,Tc(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,V=E.values||[];return new Pd(V,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,V=E.values||[];return new Pd(V,S)})(n.endAt)),rj(e,o,h,c,p,"F",g,y)}function Uj(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function W1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=fo(n.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return hs.create(n.compositeFilter.filters.map((i=>W1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function Bj(r){return Cj[r]}function qj(r){return Rj[r]}function Fj(r){return jj[r]}function ho(r){return{fieldPath:r.canonicalString()}}function fo(r){return Yt.fromServerFormat(r.fieldPath)}function eE(r){return r instanceof It?(function(n){if(n.op==="=="){if(ex(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ex(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:qj(n.op),value:n.value}}})(r):r instanceof hs?(function(n){const i=n.getFilters().map((o=>eE(o)));return i.length===1?i[0]:{compositeFilter:{op:Fj(n.op),filters:i}}})(r):xe(54877,{filter:r})}function Hj(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ii{constructor(e,n,i,o,c=Ee.min(),h=Ee.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gj{constructor(e){this.yt=e}}function $j(r){const e=zj({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}class Qj{constructor(){this.Sn=new Kj}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(mi.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Kj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Vt(nt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(sE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const px="LruGarbageCollector",Yj=1048576;function gx([r,e],[n,i]){const o=ze(r,n);return o===0?ze(e,i):o}class Xj{constructor(e){this.Pr=e,this.buffer=new Vt(gx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();gx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(px,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?ue(px,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ar(3e5)}))}}class Jj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(mh.ce);const i=new Xj(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(mx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),co()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function Wj(r,e){return new Jj(r,e)}class eI{constructor(){this.changes=new ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&tc(i.mutation,o,Cn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let h=Ql();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=na();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,o){let c=vr();const h=ec(),p=(function(){return ec()})();return n.forEach(((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ti)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),tc(_.mutation,y,_.mutation.getFieldMask(),at.now())):h.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>p.set(y,new tI(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=ec();let o=new dt(((h,p)=>h-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||Cn.empty();_=p.applyToLocalView(y,_),i.set(g,_);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=M1();_.forEach((S=>{if(!c.has(S)){const V=B1(n.get(S),i.get(S));V!==null&&E.set(S,V),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return ij(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):te.resolve(na());let p=oc,g=c;return h.next((y=>te.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((_=>({batchId:p,changes:O1(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((i=>{let o=Ql();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,S){return new Do(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Bt.newInvalidDocument(_)))}));let p=Ql();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&tc(_.mutation,y,Cn.empty(),at.now()),bh(n,y)&&(p=p.insert(g,y))})),p}))}}class sI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Rn(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:$j(o.bundledQuery),readTime:Rn(o.readTime)}})(n)),te.resolve()}}class rI{constructor(){this.overlays=new dt(pe.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=na();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=na(),c=n.length+1,h=new pe(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new dt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=na(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=na(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return te.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Tj(n,i));let c=this.Lr.get(n);c===void 0&&(c=Ue(),this.Lr.set(n,c)),this.Lr.set(n,c.add(i.key))}}class iI{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class rg{constructor(){this.kr=new Vt(Ut.Kr),this.qr=new Vt(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Ut(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Ut(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new pe(new nt([])),i=new Ut(n,e),o=new Ut(n,e+1),c=[];return this.qr.forEachInRange([i,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new nt([])),i=new Ut(n,e),o=new Ut(n,e+1);let c=Ue();return this.qr.forEachInRange([i,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ut(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class aI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Ut.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ej(c,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new Ut(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Yp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([i,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vt(ze);return n.forEach((o=>{const c=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{i=i.add(p.Hr)}))})),te.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;pe.isDocumentKey(c)||(c=c.child(""));const h=new Ut(new pe(c),0);let p=new Vt(ze);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),te.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return te.forEach(n.mutations,(o=>{const c=new Ut(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Ut(n,0),o=this.Jr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oI{constructor(e){this.ti=e,this.docs=(function(){return new dt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let i=vr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Bt.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=vr();const h=n.path,p=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||MR(OR(_),i)<=0||(o.has(_.key)||bh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,o){xe(9500)}ni(e,n){return te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new lI(this)}getSize(e){return te.resolve(this.size)}}class lI extends eI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class cI{constructor(e){this.persistence=e,this.ri=new ya((n=>Jp(n)),Wp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),te.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class rE{constructor(e,n){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new iI,this.referenceDelegate=e(this),this.li=new cI(this),this.indexManager=new Qj,this.remoteDocumentCache=(function(o){return new oI(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Gj(n),this.Pi=new sI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new aI(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const o=new uI(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class uI extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new ig(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(i=>{const o=pe.fromPath(i);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.fi=new ya((i=>UR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=Wj(this,n)}static Vi(e,n){return new Hd(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(i++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Td(e.data.value)),n}wr(e,n,i){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ag(e,n.fromCache,i,o)}}class dI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sC()?8:PR(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new dI;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(co()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(co()<=Pe.DEBUG&&ue("QueryEngine","Query:",uo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(co()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):te.resolve())}gs(e,n){if(rx(n))return te.resolve(null);let i=zs(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zd(n,null,"F"),i=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=Ue(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,zd(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return rx(n)||o.isEqual(Ee.min())?te.resolve(null):this.fs.getDocuments(e,i).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,i,o)?te.resolve(null):(co()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.Ds(e,h,n,kR(o,oc)).next((p=>p)))}))}bs(e,n){let i=new Vt(D1(e));return n.forEach(((o,c)=>{bh(e,c)&&(i=i.add(c))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,i){return co()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",uo(n)),this.fs.getDocumentsMatchingQuery(e,n,mi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const og="LocalStore",fI=3e8;class mI{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new dt(ze),this.Fs=new ya((c=>Jp(c)),Wp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function pI(r,e,n,i){return new mI(r,e,n,i)}async function iE(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],p=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function gI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,S=E.keys();let V=te.resolve();return S.forEach((H=>{V=V.next((()=>_.getEntry(g,H))).next(($=>{const F=y.docVersions.get(H);He(F!==null,48541),$.version.compareTo(F)<0&&(E.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),_.addEntry($)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function aE(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function yI(r,e){const n=Ae(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;p.push(n.li.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,_.addedDocuments,E))));let V=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(Zt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,i)),o=o.insert(E,V),(function($,F,se){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=fI?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(S,V,_)&&p.push(n.li.updateTargetData(c,V))}));let g=vr(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(bI(c,h,e.documentUpdates).next((_=>{g=_.Bs,y=_.Ls}))),!i.isEqual(Ee.min())){const _=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(_)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function bI(r,e,n){let i=Ue(),o=Ue();return n.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let h=vr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ue(og,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function vI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function xI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(i).next((h=>(o=new ii(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function bp(r,e,n){const i=Ae(r),o=i.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;ue(og,`Failed to update sequence numbers for target ${e}: ${h}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function yx(r,e,n){const i=Ae(r);let o=Ee.min(),c=Ue();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const E=Ae(g),S=E.Fs.get(_);return S!==void 0?te.resolve(E.vs.get(S)):E.li.getTargetData(y,_)})(i,h,zs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?c:Ue()))).next((p=>(_I(i,lj(e),p),{documents:p,ks:c})))))}function _I(r,e,n){let i=r.Ms.get(e)||Ee.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Ms.set(e,i)}class bx{constructor(){this.activeTargetIds=mj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.vo=new bx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TI{Mo(e){}shutdown(){}}const vx="ConnectivityMonitor";class xx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(vx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(vx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let md=null;function vp(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}const Qm="RestConnection",wI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Vd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,c){const h=vp(),p=this.Qo(e,n.toUriEncodedString());ue(Qm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),_=_i(y);return this.zo(e,p,g,i,_).then((E=>(ue(Qm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw xo(Qm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}jo(e,n,i,o,c,h){return this.Wo(e,n,i,o,c)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const i=wI[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class NI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const tn="WebChannelConnection",Fl=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class po extends AI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!po.c_){const e=l1();Fl(e,o1.STAT_EVENT,(n=>{n.stat===lp.PROXY?ue(tn,"STAT_EVENT: detected buffering proxy"):n.stat===lp.NOPROXY&&ue(tn,"STAT_EVENT: detected no buffering proxy")})),po.c_=!0}}zo(e,n,i,o,c){const h=vp();return new Promise(((p,g)=>{const y=new i1;y.setWithCredentials(!0),y.listenOnce(a1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ed.NO_ERROR:const E=y.getResponseJson();ue(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Ed.TIMEOUT:ue(tn,`RPC '${e}' ${h} timed out`),g(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const S=y.getStatus();if(ue(tn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const $=(function(se){const ne=se.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ne)>=0?ne:X.UNKNOWN})(H.status);g(new le($,H.message))}else g(new le(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(X.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(tn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ue(tn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const o=vp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=c.join("");ue(tn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const _=h.createWebChannel(y,p);this.I_(_);let E=!1,S=!1;const V=new NI({Ho:H=>{S?ue(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(E||(ue(tn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),ue(tn,`RPC '${e}' stream ${o} sending:`,H),_.send(H))},Jo:()=>_.close()});return Fl(_,$l.EventType.OPEN,(()=>{S||(ue(tn,`RPC '${e}' stream ${o} transport opened.`),V.i_())})),Fl(_,$l.EventType.CLOSE,(()=>{S||(S=!0,ue(tn,`RPC '${e}' stream ${o} transport closed`),V.o_(),this.E_(_))})),Fl(_,$l.EventType.ERROR,(H=>{S||(S=!0,xo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new le(X.UNAVAILABLE,"The operation could not be completed")))})),Fl(_,$l.EventType.MESSAGE,(H=>{if(!S){const $=H.data[0];He(!!$,16349);const F=$,se=F?.error||F[0]?.error;if(se){ue(tn,`RPC '${e}' stream ${o} received error:`,se);const ne=se.status;let re=(function(ge){const N=jt[ge];if(N!==void 0)return G1(N)})(ne),he=se.message;re===void 0&&(re=X.INTERNAL,he="Unknown error status: "+ne+" with message "+se.message),S=!0,V.o_(new le(re,he)),_.close()}else ue(tn,`RPC '${e}' stream ${o} received:`,$),V.__($)}})),po.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return c1()}}function SI(r){return new po(r)}function Km(){return typeof document<"u"?document:null}function Th(r){return new Ij(r,!0)}po.c_=!1;class lg{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _x="PersistentStream";class oE{constructor(e,n,i,o,c,h,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(_x,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(_x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CI extends oE{constructor(e,n,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Mj(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Rn(h.readTime):Ee.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=yp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=fp(g)?{documents:Lj(c,g)}:{query:Pj(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=K1(c,h.resumeToken);const y=pp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=qd(c,h.snapshotVersion.toTimestamp());const y=pp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=Uj(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.K_(n)}}class RI extends oE{constructor(e,n,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Vj(e.writeResults,e.commitTime),i=Rn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=yp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>J1(this.serializer,i)))};this.K_(n)}}class jI{}class II extends jI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,gp(n,i),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(X.UNKNOWN,c.toString())}))}jo(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,gp(n,i),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DI(r,e,n,i){return new II(r,e,n,i)}class kI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class OI{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{i.enqueueAndForget((async()=>{ba(this)&&(ue(da,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await Nc(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new kI(i,o)}}async function wh(r){if(ba(r))for(const e of r.Ra)await e(!0)}async function Nc(r){for(const e of r.Ra)await e(!1)}function lE(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hg(n)?dg(n):ko(n).O_()&&ug(n,e))}function cg(r,e){const n=Ae(r),i=ko(n);n.Ia.delete(e),i.O_()&&cE(n,e),n.Ia.size===0&&(i.O_()?i.L_():ba(n)&&n.Va.set("Unknown"))}function ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Z_(e)}function cE(r,e){r.da.$e(e),ko(r).X_(e)}function dg(r){r.da=new Sj({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Va.ua()}function hg(r){return ba(r)&&!ko(r).x_()&&r.Ia.size>0}function ba(r){return Ae(r).Ea.size===0}function uE(r){r.da=void 0}async function MI(r){r.Va.set("Online")}async function VI(r){r.Ia.forEach(((e,n)=>{ug(r,e)}))}async function LI(r,e){uE(r),hg(r)?(r.Va.ha(e),dg(r)):r.Va.set("Unknown")}async function PI(r,e,n){if(r.Va.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){ue(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gd(r,i)}else if(e instanceof Nd?r.da.Xe(e):e instanceof $1?r.da.st(e):r.da.tt(e),!n.isEqual(Ee.min()))try{const i=await aE(r.localStore);n.compareTo(i)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),cE(c,g);const E=new ii(_.target,g,y,_.sequenceNumber);ug(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){ue(da,"Failed to raise snapshot:",i),await Gd(r,i)}}async function Gd(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await Nc(r),r.Va.set("Offline"),n||(n=()=>aE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wh(r)}))}function dE(r,e){return e().catch((n=>Gd(r,n,e)))}async function Ah(r){const e=Ae(r),n=bi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;zI(e);)try{const o=await vI(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,UI(e,o)}catch(o){await Gd(e,o)}hE(e)&&fE(e)}function zI(r){return ba(r)&&r.Ta.length<10}function UI(r,e){r.Ta.push(e);const n=bi(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function hE(r){return ba(r)&&!bi(r).x_()&&r.Ta.length>0}function fE(r){bi(r).start()}async function BI(r){bi(r).ra()}async function qI(r){const e=bi(r);for(const n of r.Ta)e.ea(n.mutations)}async function FI(r,e,n){const i=r.Ta.shift(),o=tg.from(i,e,n);await dE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ah(r)}async function HI(r,e){e&&bi(r).Y_&&await(async function(i,o){if((function(h){return H1(h)&&h!==X.ABORTED})(o.code)){const c=i.Ta.shift();bi(i).B_(),await dE(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ah(i)}})(r,e),hE(r)&&fE(r)}async function Ex(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(da,"RemoteStore received new credentials");const i=ba(n);n.Ea.add(3),await Nc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function GI(r,e){const n=Ae(r);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await Nc(n),n.Va.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,i,o){const c=Ae(n);return c.sa(),new CI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:MI.bind(null,r),Yo:VI.bind(null,r),t_:LI.bind(null,r),J_:PI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),hg(r)?dg(r):r.Va.set("Unknown")):(await r.ma.stop(),uE(r))}))),r.ma}function bi(r){return r.fa||(r.fa=(function(n,i,o){const c=Ae(n);return c.sa(),new RI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BI.bind(null,r),t_:HI.bind(null,r),ta:qI.bind(null,r),na:FI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class fg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const h=Date.now()+i,p=new fg(e,n,h,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(r,e){if(br("AsyncQueue",`${e}: ${r}`),Io(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||pe.comparator(n.key,i.key):(n,i)=>pe.comparator(n.key,i.key),this.keyedMap=Ql(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Tx{constructor(){this.ga=new dt(pe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ao{constructor(e,n,i,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Ao(e,n,go.emptySet(n),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class $I{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class QI{constructor(){this.queries=wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ae(n),c=o.queries;o.queries=wx(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function wx(){return new ya((r=>I1(r)),yh)}async function pg(r,e){const n=Ae(r);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(i=2):(c=new $I,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=mg(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&yg(n)}async function gg(r,e){const n=Ae(r),i=e.query;let o=3;const c=n.queries.get(i);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function KI(r,e){const n=Ae(r);let i=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(i=!0);h.wa=o}}i&&yg(n)}function YI(r,e,n){const i=Ae(r),o=i.queries.get(e);if(o)for(const c of o.ba)c.onError(n);i.queries.delete(e)}function yg(r){r.Ca.forEach((e=>{e.next()}))}var xp,Ax;(Ax=xp||(xp={})).Ma="default",Ax.Cache="cache";class bg{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ao(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}class mE{constructor(e){this.key=e}}class pE{constructor(e){this.key=e}}class XI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=D1(e),this.tu=new go(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new Tx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const S=o.get(_),V=bh(this.query,E)?E:null,H=!!S&&this.mutatedKeys.has(S.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?H!==$&&(i.track({type:3,doc:V}),F=!0):this.su(S,V)||(i.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!S&&V?(i.track({type:0,doc:V}),F=!0):S&&!V&&(i.track({type:1,doc:S}),F=!0,(g||y)&&(p=!0)),F&&(V?(h=h.add(V),c=$?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,E)=>(function(V,H){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:F})}};return $(V)-$(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new pE(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new mE(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vg="SyncEngine";class ZI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class JI{constructor(e){this.key=e,this.hu=!1}}class WI{constructor(e,n,i,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ya((p=>I1(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(pe.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e4(r,e,n=!0){const i=_E(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await gE(i,e,n,!0),o}async function t4(r,e){const n=_E(r);await gE(n,e,!0,!1)}async function gE(r,e,n,i){const o=await xI(r.localStore,zs(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await n4(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&lE(r.remoteStore,o),p}async function n4(r,e,n,i,o){r.pu=(E,S,V)=>(async function($,F,se,ne){let re=F.view.ru(se);re.Ss&&(re=await yx($.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,re))));const he=ne&&ne.targetChanges.get(F.targetId),ve=ne&&ne.targetMismatches.get(F.targetId)!=null,ge=F.view.applyChanges(re,$.isPrimaryClient,he,ve);return Sx($,F.targetId,ge.au),ge.snapshot})(r,E,S,V);const c=await yx(r.localStore,e,!0),h=new XI(e,c.ks),p=h.ru(c.documents),g=Ac.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);Sx(r,n,y.au);const _=new ZI(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function s4(r,e,n){const i=Ae(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((h=>!yh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&cg(i.remoteStore,o.targetId),_p(i,o.targetId)})).catch(jo)):(_p(i,o.targetId),await bp(i.localStore,o.targetId,!0))}async function r4(r,e){const n=Ae(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cg(n.remoteStore,i.targetId))}async function i4(r,e,n){const i=h4(r);try{const o=await(function(h,p){const g=Ae(h),y=at.now(),_=p.reduce(((V,H)=>V.add(H.key)),Ue());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=vr(),$=Ue();return g.xs.getEntries(V,_).next((F=>{H=F,H.forEach(((se,ne)=>{ne.isValidDocument()||($=$.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,H))).next((F=>{E=F;const se=[];for(const ne of p){const re=_j(ne,E.get(ne.key).overlayedDocument);re!=null&&se.push(new Ti(ne.key,re,T1(re.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,se,p)})).next((F=>{S=F;const se=F.applyToLocalDocumentSet(E,$);return g.documentOverlayCache.saveOverlays(V,F.batchId,se)}))})).then((()=>({batchId:S.batchId,changes:O1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new dt(ze)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(i,o.batchId,n),await Sc(i,o.changes),await Ah(i.remoteStore)}catch(o){const c=mg(o,"Failed to persist write");n.reject(c)}}async function yE(r,e){const n=Ae(r);try{const i=await yI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),await Sc(n,i,e)}catch(i){await jo(i)}}function Nx(r,e,n){const i=Ae(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ae(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const S of E.ba)S.va(p)&&(y=!0)})),y&&yg(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a4(r,e,n){const i=Ae(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new dt(pe.comparator);h=h.insert(c,Bt.newNoDocument(c,Ee.min()));const p=Ue().add(c),g=new Eh(Ee.min(),new Map,new dt(ze),h,p);await yE(i,g),i.Ru=i.Ru.remove(c),i.Au.delete(e),xg(i)}else await bp(i.localStore,e,!1).then((()=>_p(i,e,n))).catch(jo)}async function o4(r,e){const n=Ae(r),i=e.batch.batchId;try{const o=await gI(n.localStore,e);vE(n,i,null),bE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Sc(n,o)}catch(o){await jo(o)}}async function l4(r,e,n){const i=Ae(r);try{const o=await(function(h,p){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(He(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);vE(i,e,n),bE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Sc(i,o)}catch(o){await jo(o)}}function bE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function vE(r,e,n){const i=Ae(r);let o=i.du[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function _p(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||xE(r,i)}))}function xE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(cg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),xg(r))}function Sx(r,e,n){for(const i of n)i instanceof mE?(r.Vu.addReference(i.key,e),c4(r,i)):i instanceof pE?(ue(vg,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||xE(r,i.key)):xe(19791,{wu:i})}function c4(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(ue(vg,"New document in limbo: "+n),r.Eu.add(i),xg(r))}function xg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),i=r.fu.next();r.Au.set(i,new JI(n)),r.Ru=r.Ru.insert(n,i),lE(r.remoteStore,new ii(zs(gh(n.path)),i,"TargetPurposeLimboResolution",mh.ce))}}async function Sc(r,e,n){const i=Ae(r),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=ag.Es(g.targetId,y);c.push(_)}})))})),await Promise.all(h),i.Pu.J_(o),await(async function(g,y){const _=Ae(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(S=>te.forEach(S.Ts,(V=>_.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>te.forEach(S.Is,(V=>_.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!Io(E))throw E;ue(og,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const V=_.vs.get(S),H=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(S,$)}}})(i.localStore,c))}async function u4(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(vg,"User change. New user:",e.toKey());const i=await iE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(X.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sc(n,i.Ns)}}function d4(r,e){const n=Ae(r),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function _E(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a4.bind(null,e),e.Pu.J_=KI.bind(null,e.eventManager),e.Pu.yu=YI.bind(null,e.eventManager),e}function h4(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l4.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pI(this.persistence,new hI,e.initialUser,this.serializer)}Cu(e){return new rE(ig.Vi,this.serializer)}Du(e){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class f4 extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Hd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Zj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new rE((i=>Hd.Vi(i,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),await GI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QI})()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),i=SI(e.databaseInfo);return DI(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,h,p){return new OI(i,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Nx(this.syncEngine,n,0)),(function(){return xx.v()?new xx:new TI})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,_){const E=new WI(o,c,h,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);ue(da,"RemoteStore shutting down."),i.Ea.add(5),await Nc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let m4=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const h=Ae(o),p={documents:c.map((E=>Fd(h.serializer,E)))},g=await h.jo("BatchGetDocuments",h.serializer.databaseId,nt.emptyPath(),p,c.length),y=new Map;g.forEach((E=>{const S=Oj(h.serializer,E);y.set(S.key.toString(),S)}));const _=[];return c.forEach((E=>{const S=y.get(E.toString());He(!!S,55234,{key:E}),_.push(S)})),_})(this.datastore,e);return n.forEach((i=>this.recordVersion(i))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new _h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,i)=>{const o=pe.fromPath(i);this.mutations.push(new F1(o,this.precondition(o)))})),await(async function(i,o){const c=Ae(i),h={writes:o.map((p=>J1(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,nt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Gu:e.constructor.name});n=Ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new le(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new le(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class p4{constructor(e,n,i,o,c){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=o,this.deferred=c,this.zu=i.maxAttempts,this.M_=new lg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new m4(this.datastore),n=this.Ju(e);n&&n.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((o=>{this.Zu(o)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Tc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!H1(n)}return!1}}const vi="FirestoreClient";class g4{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{ue(vi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ue(vi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=mg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ym(r,e){r.asyncQueue.verifyOperationInProgress(),ue(vi,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await iE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Cx(r,e){r.asyncQueue.verifyOperationInProgress();const n=await y4(r);ue(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>Ex(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Ex(e.remoteStore,o))),r._onlineComponents=e}async function y4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(vi,"Using user provided OfflineComponentProvider");try{await Ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Ym(r,new $d)}}else ue(vi,"Using default OfflineComponentProvider"),await Ym(r,new f4(void 0));return r._offlineComponents}async function Eg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(vi,"Using user provided OnlineComponentProvider"),await Cx(r,r._uninitializedComponentsProvider._online)):(ue(vi,"Using default OnlineComponentProvider"),await Cx(r,new Ep))),r._onlineComponents}function b4(r){return Eg(r).then((e=>e.syncEngine))}function v4(r){return Eg(r).then((e=>e.datastore))}async function Qd(r){const e=await Eg(r),n=e.eventManager;return n.onListen=e4.bind(null,e.syncEngine),n.onUnlisten=s4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),n}function x4(r,e,n,i){const o=new _g(i),c=new bg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>pg(await Qd(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>gg(await Qd(r),c)))}}function _4(r,e,n={}){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new _g({next:S=>{_.Nu(),h.enqueueAndForget((()=>gg(c,E)));const V=S.docs.has(p);!V&&S.fromCache?y.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&g&&g.source==="server"?y.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new bg(gh(p.path),_,{includeMetadataChanges:!0,Ka:!0});return pg(c,E)})(await Qd(r),r.asyncQueue,e,n,i))),i.promise}function E4(r,e,n={}){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new _g({next:S=>{_.Nu(),h.enqueueAndForget((()=>gg(c,E))),S.fromCache&&g.source==="server"?y.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new bg(p,_,{includeMetadataChanges:!0,Ka:!0});return pg(c,E)})(await Qd(r),r.asyncQueue,e,n,i))),i.promise}function T4(r,e){const n=new Ps;return r.asyncQueue.enqueueAndForget((async()=>i4(await b4(r),e,n))),n.promise}function w4(r,e,n){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>{const o=await v4(r);new p4(r.asyncQueue,o,n,e,i).ju()})),i.promise}function EE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const A4="ComponentProvider",Rx=new Map;function N4(r,e,n,i,o){return new FR(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,EE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const TE="firestore.googleapis.com",jx=!0;class Ix{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TE,this.ssl=jx}else this.host=e.host,this.ssl=e.ssl??jx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yj)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ix({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ix(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ER;switch(i.type){case"firstParty":return new NR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Rx.get(n);i&&(ue(A4,"Removing Datastore"),Rx.delete(n),i.terminate())})(this),Promise.resolve()}}function S4(r,e,n,i={}){r=Qn(r,Nh);const o=_i(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(qp(`https://${p}`),Fp("Firestore",!0)),c.host!==TE&&c.host!==p&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:i};if(!la(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=nn.MOCK_USER;else{y=J_(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(E)}r._authCredentials=new TR(new d1(y,_))}}class _r{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _r(this.firestore,e,this._query)}}class mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ec(n,mt._jsonSchema))return new mt(e,i||null,new pe(nt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class ci extends _r{constructor(e,n,i){super(e,n,gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function mc(r,e,...n){if(r=pt(r),h1("collection","path",e),r instanceof Nh){const i=nt.fromString(e,...n);return Hv(i),new ci(r,null,i)}{if(!(r instanceof mt||r instanceof ci))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return Hv(i),new ci(r.firestore,null,i)}}function Kn(r,e,...n){if(r=pt(r),arguments.length===1&&(e=Kp.newId()),h1("doc","path",e),r instanceof Nh){const i=nt.fromString(e,...n);return Fv(i),new mt(r,null,new pe(i))}{if(!(r instanceof mt||r instanceof ci))throw new le(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return Fv(i),new mt(r.firestore,r instanceof ci?r.converter:null,new pe(i))}}const Dx="AsyncQueue";class kx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lg(this,"async_queue_retry"),this._c=()=>{const i=Km();i&&ue(Dx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;ue(Dx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",Ox(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=fg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Ox(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ox(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xi extends Nh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new kx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kx(e),this._firestoreClient=void 0,await e}}}function C4(r,e){const n=typeof r=="object"?r:$p(),i=typeof r=="string"?r:Vd,o=hh(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=Y_("firestore");c&&S4(o,...c)}return o}function Cc(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||R4(r),r._firestoreClient}function R4(r){const e=r._freezeSettings(),n=N4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new g4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Zt.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:Dt("string",Sn._jsonSchemaVersion),bytes:Dt("string")};class Sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tg{constructor(e){this._methodName=e}}class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:Dt("string",Us._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new us(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Dt("string",us._jsonSchemaVersion),vectorValues:Dt("object")};const j4=/^__.*__$/;class I4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class wE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class wg{constructor(e,n,i,o,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AE(this.dataSource)&&j4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class D4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Th(e)}createContext(e,n,i,o=!1){return new wg({dataSource:e,methodName:n,targetDoc:i,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(r){const e=r._freezeSettings(),n=Th(r._databaseId);return new D4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function k4(r,e,n,i,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Ng("Data must be an object, but it was:",h,i);const p=CE(i,h);let g,y;if(c.merge)g=new Cn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const S=ha(e,E,n);if(!h.contains(S))throw new le(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);IE(_,S)||_.push(S)}g=new Cn(_),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new I4(new ln(p),g,y)}class Rc extends Tg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}function NE(r,e,n,i){const o=r.createContext(1,e,n);Ng("Data must be an object, but it was:",o,i);const c=[],h=ln.empty();Ei(i,((g,y)=>{const _=jE(e,g,n);y=pt(y);const E=o.childContextForFieldPath(_);if(y instanceof Rc)c.push(_);else{const S=jc(y,E);S!=null&&(c.push(_),h.set(_,S))}}));const p=new Cn(c);return new wE(h,p,o.fieldTransforms)}function SE(r,e,n,i,o,c){const h=r.createContext(1,e,n),p=[ha(e,i,n)],g=[o];if(c.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(ha(e,c[S])),g.push(c[S+1]);const y=[],_=ln.empty();for(let S=p.length-1;S>=0;--S)if(!IE(y,p[S])){const V=p[S];let H=g[S];H=pt(H);const $=h.childContextForFieldPath(V);if(H instanceof Rc)y.push(V);else{const F=jc(H,$);F!=null&&(y.push(V),_.set(V,F))}}const E=new Cn(y);return new wE(_,E,h.fieldTransforms)}function O4(r,e,n,i=!1){return jc(n,r.createContext(i?4:3,e))}function jc(r,e){if(RE(r=pt(r)))return Ng("Unsupported field value:",e,r),CE(r,e);if(r instanceof Tg)return(function(i,o){if(!AE(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const c=[];let h=0;for(const p of i){let g=jc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pj(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=at.fromDate(i);return{timestampValue:qd(o.serializer,c)}}if(i instanceof at){const c=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qd(o.serializer,c)}}if(i instanceof Us)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sn)return{bytesValue:K1(o.serializer,i._byteString)};if(i instanceof mt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof us)return(function(h,p){const g=h instanceof us?h.toArray():h;return{mapValue:{fields:{[_1]:{stringValue:E1},[Ld]:{arrayValue:{values:g.map((_=>{if(typeof _!="number")throw p.createError("VectorValues must only contain numeric values.");return eg(p.serializer,_)}))}}}}}})(i,o);if(nE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${fh(i)}`)})(r,e)}function CE(r,e){const n={};return p1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(r,((i,o)=>{const c=jc(o,e.childContextForField(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function RE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Us||r instanceof Sn||r instanceof mt||r instanceof Tg||r instanceof us||nE(r))}function Ng(r,e,n){if(!RE(n)||!f1(n)){const i=fh(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ha(r,e,n){if((e=pt(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return jE(r,e);throw Kd("Field path arguments must be of type string or ",r,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function jE(r,e,n){if(e.search(M4)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sh(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kd(r,e,n,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new le(X.INVALID_ARGUMENT,p+r+g)}function IE(r,e){return r.some((n=>n.isEqual(e)))}class DE{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ei(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[Ld].arrayValue?.values?.map((i=>xt(i.doubleValue)));return new us(n)}convertGeoPoint(e){return new Us(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=pi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);He(tE(i),9688,{name:e});const o=new cc(i.get(1),i.get(3)),c=new pe(i.popFirst(5));return o.isEqual(n)||br(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Ch extends DE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function V4(){return new Rc("deleteField")}const Mx="@firebase/firestore",Vx="4.10.0";function Lx(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Yd{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ha("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L4 extends Yd{data(){return super.data()}}function kE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Cg extends Sg{}function Rg(r,e,...n){let i=[];e instanceof Sg&&i.push(e),i=i.concat(n),(function(c){const h=c.filter((g=>g instanceof jg)).length,p=c.filter((g=>g instanceof Rh)).length;if(h>1||h>0&&p>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Rh extends Cg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rh(e,n,i)}_apply(e){const n=this._parse(e);return ME(e._query,n),new _r(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=Ag(e.firestore);return(function(c,h,p,g,y,_,E){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zx(E,_);const H=[];for(const $ of E)H.push(Px(g,c,$));S={arrayValue:{values:H}}}else S=Px(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zx(E,_),S=O4(p,h,E,_==="in"||_==="not-in");return It.create(y,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tp(r,e,n){const i=e,o=ha("where",r);return Rh._create(o,i,n)}class jg extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)ME(h,g),h=mp(h,g)})(e._query,n),new _r(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends Cg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(c,h)})(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,oj(e._query,n))}}function OE(r,e="asc"){const n=e,i=ha("orderBy",r);return Ig._create(i,n)}class Dg extends Cg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Dg(e,n,i)}_apply(e){return new _r(e.firestore,e.converter,zd(e._query,this._limit,this._limitType))}}function P4(r){return Dg._create("limit",r,"F")}function Px(r,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(i))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jv(r,new pe(i))}if(n instanceof mt)return Jv(r,n._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function zx(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ME(r,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function z4(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class U4 extends DE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ui extends Yd{constructor(e,n,i,o,c,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ha("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",ui._jsonSchema={type:Dt("string",ui._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Sd extends ui{data(e={}){return super.data(e)}}class ra{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Sd(this._firestore,this._userDataWriter,i.key,i,new mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Sd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Sd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:B4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Dt("string",ra._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};const q4={maxAttempts:5};function Yl(r,e){if((r=pt(r)).firestore!==e)throw new le(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class F4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ag(e)}get(e){const n=Yl(e,this._firestore),i=new U4(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return xe(24041);const c=o[0];if(c.isFoundDocument())return new Yd(this._firestore,i,c.key,c,n.converter);if(c.isNoDocument())return new Yd(this._firestore,i,n._key,null,n.converter);throw xe(18433,{doc:c})}))}set(e,n,i){const o=Yl(e,this._firestore),c=z4(o.converter,n,i),h=k4(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,i);return this._transaction.set(o._key,h),this}update(e,n,i,...o){const c=Yl(e,this._firestore);let h;return h=typeof(n=pt(n))=="string"||n instanceof Sh?SE(this._dataReader,"Transaction.update",c._key,n,i,o):NE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,h),this}delete(e){const n=Yl(e,this._firestore);return this._transaction.delete(n._key),this}}class H4 extends F4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yl(e,this._firestore),i=new Ch(this._firestore);return super.get(e).then((o=>new ui(this._firestore,i,n._key,o._document,new mo(!1,!1),n.converter)))}}function VE(r,e,n){r=Qn(r,xi);const i={...q4,...n};(function(h){if(h.maxAttempts<1)throw new le(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const o=Cc(r);return w4(o,(c=>e(new H4(r,c))),i)}function LE(r){r=Qn(r,mt);const e=Qn(r.firestore,xi),n=Cc(e);return _4(n,r._key).then((i=>BE(e,r,i)))}function PE(r){r=Qn(r,_r);const e=Qn(r.firestore,xi),n=Cc(e),i=new Ch(e);return kE(r._query),E4(n,r._query).then((o=>new ra(e,i,r,o)))}function Xd(r,e,n,...i){r=Qn(r,mt);const o=Qn(r.firestore,xi),c=Ag(o);let h;return h=typeof(e=pt(e))=="string"||e instanceof Sh?SE(c,"updateDoc",r._key,e,n,i):NE(c,"updateDoc",r._key,e),UE(o,[h.toMutation(r._key,cn.exists(!0))])}function G4(r){return UE(Qn(r.firestore,xi),[new _h(r._key,cn.none())])}function zE(r,...e){r=pt(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Lx(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Lx(e[i])){const y=e[i];e[i]=y.next?.bind(y),e[i+1]=y.error?.bind(y),e[i+2]=y.complete?.bind(y)}let c,h,p;if(r instanceof mt)h=Qn(r.firestore,xi),p=gh(r._key.path),c={next:y=>{e[i]&&e[i](BE(h,r,y))},error:e[i+1],complete:e[i+2]};else{const y=Qn(r,_r);h=Qn(y.firestore,xi),p=y._query;const _=new Ch(h);c={next:E=>{e[i]&&e[i](new ra(h,_,y,E))},error:e[i+1],complete:e[i+2]},kE(r._query)}const g=Cc(h);return x4(g,p,o,c)}function UE(r,e){const n=Cc(r);return T4(n,e)}function BE(r,e,n){const i=n.docs.get(e._key),o=new Ch(r);return new ui(r,o,e._key,i,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_R(ga),ca(new fi("firestore",((i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new xi(new wR(i.getProvider("auth-internal")),new SR(h,i.getProvider("app-check-internal")),HR(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ls(Mx,Vx,e),Ls(Mx,Vx,"esm2020")})();var $4="firebase",Q4="12.8.0";Ls($4,Q4,"app");function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K4=qE,FE=new xc("auth","Firebase",qE());const Zd=new Hp("@firebase/auth");function Y4(r,...e){Zd.logLevel<=Pe.WARN&&Zd.warn(`Auth (${ga}): ${r}`,...e)}function Cd(r,...e){Zd.logLevel<=Pe.ERROR&&Zd.error(`Auth (${ga}): ${r}`,...e)}function Fs(r,...e){throw Og(r,...e)}function ds(r,...e){return Og(r,...e)}function kg(r,e,n){const i={...K4(),[e]:n};return new xc("auth","Firebase",i).create(e,{appName:r.name})}function ia(r){return kg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X4(r,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fs(r,"argument-error"),kg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Og(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return FE.create(r,...e)}function we(r,e,...n){if(!r)throw Og(e,...n)}function hr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Cd(e),new Error(e)}function xr(r,e){r||hr(e)}function wp(){return typeof self<"u"&&self.location?.href||""}function Z4(){return Ux()==="http:"||Ux()==="https:"}function Ux(){return typeof self<"u"&&self.location?.protocol||null}function J4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z4()||eC()||"connection"in navigator)?navigator.onLine:!0}function W4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||tC()}get(){return J4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mg(r,e){xr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new Ic(3e4,6e4);function Vg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Oo(r,e,n,i,o={}){return GE(r,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=_c({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return WS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&_i(r.emulatorConfig.host)&&(y.credentials="include"),HE.fetch()(await $E(r,r.config.apiHost,n,p),y)})}async function GE(r,e,n){r._canInitEmulator=!1;const i={...eD,...e};try{const o=new rD(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw pd(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw pd(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw pd(r,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kg(r,_,y);Fs(r,_)}}catch(o){if(o instanceof Gs)throw o;Fs(r,"network-request-failed",{message:String(o)})}}async function sD(r,e,n,i,o={}){const c=await Oo(r,e,n,i,o);return"mfaPendingCredential"in c&&Fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $E(r,e,n,i){const o=`${e}${n}?${i}`,c=r,h=c.config.emulator?Mg(r.config,o):`${r.config.apiScheme}://${o}`;return tD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ds(this.auth,"network-request-failed")),nD.get())})}}function pd(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ds(r,e,i);return o.customData._tokenResponse=n,o}async function iD(r,e){return Oo(r,"POST","/v1/accounts:delete",e)}async function Jd(r,e){return Oo(r,"POST","/v1/accounts:lookup",e)}function sc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aD(r,e=!1){const n=pt(r),i=await n.getIdToken(e),o=Lg(i);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:i,authTime:sc(Xm(o.auth_time)),issuedAtTime:sc(Xm(o.iat)),expirationTime:sc(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xm(r){return Number(r)*1e3}function Lg(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q_(n);return o?JSON.parse(o):(Cd("Failed to decode base64 JWT payload"),null)}catch(o){return Cd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bx(r){const e=Lg(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gs&&oD(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function oD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wd(r){const e=r.auth,n=await r.getIdToken(),i=await pc(r,Jd(e,{idToken:n}));we(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?QE(o.providerUserInfo):[],h=uD(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function cD(r){const e=pt(r);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function QE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dD(r,e){const n=await GE(r,{},async()=>{const i=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await $E(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&_i(r.emulatorConfig.host)&&(g.credentials="include"),HE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hD(r,e){return Oo(r,"POST","/v2/accounts:revokeToken",Vg(r,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await dD(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,h=new yo;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return hr("not implemented")}}function ti(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cs{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aD(this,e)}reload(){return cD(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await pc(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:H,stsTokenManager:$}=n;we(E&&$,e,"internal-error");const F=yo.fromJSON(this.name,$);we(typeof E=="string",e,"internal-error"),ti(i,e.name),ti(o,e.name),we(typeof S=="boolean",e,"internal-error"),we(typeof V=="boolean",e,"internal-error"),ti(c,e.name),ti(h,e.name),ti(p,e.name),ti(g,e.name),ti(y,e.name),ti(_,e.name);const se=new cs({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:_});return H&&Array.isArray(H)&&(se.providerData=H.map(ne=>({...ne}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,n,i=!1){const o=new yo;o.updateFromServerResponse(n);const c=new cs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Wd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new yo;p.updateFromIdToken(i);const g=new cs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const qx=new Map;function fr(r){xr(r instanceof Function,"Expected a class definition");let e=qx.get(r);return e?(xr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qx.set(r,e),e)}class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KE.type="NONE";const Fx=KE;function Rd(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Rd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Rd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jd(this.auth,{idToken:e}).catch(()=>{});return n?cs._fromGetAccountInfoResponse(this.auth,n,e):null}return cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new bo(fr(Fx),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||fr(Fx);const h=Rd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const S=await Jd(e,{idToken:_}).catch(()=>{});if(!S)break;E=await cs._fromGetAccountInfoResponse(e,S,_)}else E=cs._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new bo(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new bo(c,e,i))}}function Hx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function YE(r=sn()){return/firefox\//i.test(r)}function XE(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(r=sn()){return/crios\//i.test(r)}function JE(r=sn()){return/iemobile/i.test(r)}function WE(r=sn()){return/android/i.test(r)}function eT(r=sn()){return/blackberry/i.test(r)}function tT(r=sn()){return/webos/i.test(r)}function Pg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fD(r=sn()){return Pg(r)&&!!window.navigator?.standalone}function mD(){return nC()&&document.documentMode===10}function nT(r=sn()){return Pg(r)||WE(r)||tT(r)||eT(r)||/windows phone/i.test(r)||JE(r)}function sT(r,e=[]){let n;switch(r){case"Browser":n=Hx(sn());break;case"Worker":n=`${Hx(sn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${i}`}class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function gD(r,e={}){return Oo(r,"GET","/v2/passwordPolicy",Vg(r,e))}const yD=6;class bD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class vD{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gx(this),this.idTokenSubscription=new Gx(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jd(this,{idToken:e}),i=await cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ia(this));const n=e?pt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),n=new bD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jh(r){return pt(r)}class Gx{constructor(e){this.auth=e,this.observer=null,this.addObserver=uC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(r){zg=r}function _D(r){return zg.loadJS(r)}function ED(){return zg.gapiScript}function TD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function wD(r,e){const n=hh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(la(c,e??{}))return o;Fs(o,"already-initialized")}return n.initialize({options:e})}function AD(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function ND(r,e,n){const i=jh(r);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=rT(e),{host:h,port:p}=SD(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(la(y,i.config.emulator)&&la(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,_i(h)?(qp(`${c}//${h}${g}`),Fp("Auth",!0)):CD()}function rT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SD(r){const e=rT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:$x(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:$x(h)}}}function $x(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function CD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class iT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function vo(r,e){return sD(r,"POST","/v1/accounts:signInWithIdp",Vg(r,e))}const RD="http://localhost";class fa extends iT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const h=new fa(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,vo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}class Ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dc extends Ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ni extends Dc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";class dr extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return dr.credential(n,i)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class si extends Dc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";class ri extends Dc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ri.credential(n,i)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await cs._fromIdTokenResponse(e,i,o),h=Qx(i);return new No({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Qx(i);return new No({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Qx(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class eh extends Gs{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new eh(e,n,i,o)}}function aT(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,e,i):c})}async function jD(r,e,n=!1){const i=await pc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return No._forOperation(r,"link",i)}async function ID(r,e,n=!1){const{auth:i}=r;if(Hn(i.app))return Promise.reject(ia(i));const o="reauthenticate";try{const c=await pc(r,aT(i,o,e,r),n);we(c.idToken,i,"internal-error");const h=Lg(c.idToken);we(h,i,"internal-error");const{sub:p}=h;return we(r.uid===p,i,"user-mismatch"),No._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fs(i,"user-mismatch"),c}}async function DD(r,e,n=!1){if(Hn(r.app))return Promise.reject(ia(r));const i="signIn",o=await aT(r,i,e),c=await No._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(c.user),c}function kD(r,e,n,i){return pt(r).onIdTokenChanged(e,n,i)}function OD(r,e,n){return pt(r).beforeAuthStateChanged(e,n)}function oT(r){return pt(r).signOut()}const th="__sak";class lT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MD=1e3,VD=10;class cT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);mD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VD):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cT.type="LOCAL";const LD=cT;class uT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const dT=uT;function PD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await PD(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function Bg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Bg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Bs(){return window}function UD(r){Bs().location.href=r}function hT(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function BD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){return navigator?.serviceWorker?.controller||null}function FD(){return hT()?self:null}const fT="firebaseLocalStorageDb",HD=1,nh="firebaseLocalStorage",mT="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,e){return r.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function GD(){const r=indexedDB.deleteDatabase(fT);return new kc(r).toPromise()}function Np(){const r=indexedDB.open(fT,HD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(nh,{keyPath:mT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(nh)?e(i):(i.close(),await GD(),e(await Np()))})})}async function Kx(r,e,n){const i=Dh(r,!0).put({[mT]:e,value:n});return new kc(i).toPromise()}async function $D(r,e){const n=Dh(r,!1).get(e),i=await new kc(n).toPromise();return i===void 0?null:i.value}function Yx(r,e){const n=Dh(r,!0).delete(e);return new kc(n).toPromise()}const QD=800,KD=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await Kx(e,th,"1"),await Yx(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$D(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Dh(o,!1).getAll();return new kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const YD=pT;new Ic(3e4,6e4);function gT(r,e){return e?fr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class qg extends iT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XD(r){return DD(r.auth,new qg(r),r.bypassAuthState)}function ZD(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),ID(n,new qg(r),r.bypassAuthState)}async function JD(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),jD(n,new qg(r),r.bypassAuthState)}class yT{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XD;case"linkViaPopup":case"linkViaRedirect":return JD;case"reauthViaPopup":case"reauthViaRedirect":return ZD;default:Fs(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WD=new Ic(2e3,1e4);async function ek(r,e,n){if(Hn(r.app))return Promise.reject(ds(r,"operation-not-supported-in-this-environment"));const i=jh(r);X4(r,e,Ug);const o=gT(i,n);return new sa(i,"signInViaPopup",e,o).executeNotNull()}class sa extends yT{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}sa.currentPopupAction=null;const tk="pendingRedirect",jd=new Map;class nk extends yT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const i=await sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sk(r,e){const n=ak(e),i=ik(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function rk(r,e){jd.set(r._key(),e)}function ik(r){return fr(r._redirectPersistence)}function ak(r){return Rd(tk,r.config.apiKey,r.name)}async function ok(r,e,n=!1){if(Hn(r.app))return Promise.reject(ia(r));const i=jh(r),o=gT(i,e),h=await new nk(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const lk=600*1e3;class ck{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xx(e))}saveEventToCache(e){this.cachedEventUids.add(Xx(e)),this.lastProcessedEventTime=Date.now()}}function Xx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function bT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function uk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(r);default:return!1}}async function dk(r,e={}){return Oo(r,"GET","/v1/projects",e)}const hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fk=/^https?/;async function mk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dk(r);for(const n of e)try{if(pk(n))return}catch{}Fs(r,"unauthorized-domain")}function pk(r){const e=wp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!fk.test(n))return!1;if(hk.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const gk=new Ic(3e4,6e4);function Zx(){const r=Bs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yk(r){return new Promise((e,n)=>{function i(){Zx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zx(),n(ds(r,"network-request-failed"))},timeout:gk.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)i();else{const o=TD("iframefcb");return Bs()[o]=()=>{gapi.load?i():n(ds(r,"network-request-failed"))},_D(`${ED()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Id=null,e})}let Id=null;function bk(r){return Id=Id||yk(r),Id}const vk=new Ic(5e3,15e3),xk="__/auth/iframe",_k="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Mg(e,_k):`https://${r.config.authDomain}/${xk}`,i={apiKey:e.apiKey,appName:r.name,v:ga},o=Tk.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${_c(i).slice(1)}`}async function Ak(r){const e=await bk(r),n=Bs().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:wk(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=ds(r,"network-request-failed"),p=Bs().setTimeout(()=>{c(h)},vk.get());function g(){Bs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(h)})}))}const Nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,Ck=600,Rk="_blank",jk="http://localhost";class Jx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ik(r,e,n,i=Sk,o=Ck){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...Nk,width:i.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(p=ZE(y)?Rk:n),YE(y)&&(e=e||jk,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[V,H])=>`${S}${V}=${H},`,"");if(fD(y)&&p!=="_self")return Dk(e||"",p),new Jx(null);const E=window.open(e||"",p,_);we(E,r,"popup-blocked");try{E.focus()}catch{}return new Jx(E)}function Dk(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const kk="__/auth/handler",Ok="emulator/auth/handler",Mk=encodeURIComponent("fac");async function Wx(r,e,n,i,o,c){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:ga,eventId:o};if(e instanceof Ug){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",cC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Dc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${Mk}=${encodeURIComponent(g)}`:"";return`${Vk(r)}?${_c(p).slice(1)}${y}`}function Vk({config:r}){return r.emulator?Mg(r,Ok):`https://${r.authDomain}/${kk}`}const Zm="webStorageSupport";class Lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=ok,this._overrideRedirectResult=rk}async _openPopup(e,n,i,o){xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Wx(e,n,i,wp(),o);return Ik(e,c,Bg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await Wx(e,n,i,wp(),o);return UD(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(xr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Ak(e),i=new ck(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},o=>{const c=o?.[0]?.[Zm];c!==void 0&&n(!!c),Fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||XE()||Pg()}}const Pk=Lk;var e_="@firebase/auth",t_="1.12.0";class zk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Uk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bk(r){ca(new fi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(r)},y=new vD(i,o,c,g);return AD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ca(new fi("auth-internal",e=>{const n=jh(e.getProvider("auth").getImmediate());return(i=>new zk(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(e_,t_,Uk(r)),Ls(e_,t_,"esm2020")}const qk=300,Fk=Z_("authIdTokenMaxAge")||qk;let n_=null;const Hk=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Fk)return;const o=n?.token;n_!==o&&(n_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Gk(r=$p()){const e=hh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=wD(r,{popupRedirectResolver:Pk,persistence:[YD,LD,dT]}),i=Z_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=Hk(c.toString());OD(n,h,()=>h(n.currentUser)),kD(n,p=>h(p))}}const o=K_("auth");return o&&ND(n,`http://${o}`),n}function $k(){return document.getElementsByTagName("head")?.[0]??document}xD({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=ds("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",$k().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bk("Browser");const Qk={apiKey:"AIzaSyBoJz2b7j4Q_0j8BEKAUsb2MpyopPSH9mk",authDomain:"mudanzas-cadena.firebaseapp.com",projectId:"mudanzas-cadena",storageBucket:"mudanzas-cadena.firebasestorage.app",messagingSenderId:"1000922434241",appId:"1:1000922434241:web:bc41a61fbb4ae32e2b2240"},vT=t1(Qk),Xt=C4(vT),Sp=Gk(vT),Kk=()=>{const[r,e]=L.useState(""),[n,i]=L.useState(""),[o,c]=L.useState(!1),[h,p]=L.useState(null),[g,y]=L.useState(""),_=async H=>{if(H.preventDefault(),!(!r.trim()||!n.trim())){c(!0),y(""),p(null);try{const $=Rg(mc(Xt,"moves"),Tp("folio","==",r.trim().toUpperCase()),Tp("phone","==",n.trim()),P4(1)),F=await PE($);F.empty?y("Los datos no coinciden. Revisa tu folio y el telfono registrado."):p(F.docs[0].data())}catch($){console.error($),y("Hubo un error de conexin al servidor.")}finally{c(!1)}}},E=(H,$)=>{if($&&$>0)return $;switch(H){case"Pendiente":return 5;case"Programada":return 10;case"Contrato Firmado":return 15;case"En Carga":return 35;case"En Trnsito":return 70;case"Finalizada":return 100;default:return 0}},S=H=>{switch(H){case"Finalizada":return"bg-green-500";case"En Trnsito":return"bg-cadena-blue";case"En Carga":return"bg-cadena-pink";default:return"bg-gray-300"}},V=h?E(h.status,h.porcentaje):0;return u.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-cadena-blue/10 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2 pointer-events-none z-0"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-cadena-pink/10 rounded-full blur-3xl translate-y-1/3 translate-x-1/4 pointer-events-none z-0"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-full shadow-xl flex items-center justify-center p-2 border border-white/50",children:u.jsx("img",{src:uh,alt:"Mascota Cadena",className:"w-full h-full object-contain"})})}),u.jsxs("h1",{className:"text-4xl font-extrabold text-cadena-dark mb-4",children:["Rastrea tu ",u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cadena-blue to-cadena-pink",children:"Mudanza"})]}),u.jsx("p",{className:"text-gray-600 mb-8 font-medium",children:"Ingresa tu nmero de folio y telfono para validar tu identidad."}),u.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-md mx-auto",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{type:"text",placeholder:"Folio (MUD-XXXX)",value:r,onChange:H=>e(H.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg uppercase"})}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"tel",placeholder:"Telfono registrado",value:n,onChange:H=>i(H.target.value),className:"w-full px-6 py-4 rounded-2xl bg-white/50 backdrop-blur-sm border-2 border-white focus:border-cadena-blue outline-none transition text-lg shadow-lg"})}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-cadena-pink hover:bg-pink-600 text-white py-4 rounded-2xl font-black transition flex items-center justify-center gap-2 shadow-xl shadow-pink-200 disabled:opacity-70",children:o?"Buscando...":u.jsxs(u.Fragment,{children:[u.jsx(aS,{size:20})," Rastrear Mudanza"]})})]}),g&&u.jsxs("div",{className:"mt-6 p-4 max-w-md mx-auto bg-red-50/80 backdrop-blur-sm text-red-600 rounded-xl border border-red-100 flex items-center justify-center gap-2 animate-pulse",children:[u.jsx(Pp,{size:20}),g]})]}),h&&u.jsxs("div",{className:"max-w-4xl mx-auto bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60 animate-fade-in-up",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cadena-dark to-slate-800 text-white p-8 flex justify-between items-center flex-wrap gap-4 border-b border-white/20",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Cliente"}),u.jsx("h3",{className:"text-2xl font-bold",children:h.client})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-pink-200 text-xs uppercase tracking-widest font-bold mb-1",children:"Folio de Seguimiento"}),u.jsx("span",{className:"font-mono font-bold text-2xl text-white bg-white/10 px-4 py-1 rounded-lg border border-white/20",children:h.folio})]})]}),u.jsxs("div",{className:"p-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-12 bg-white/30 p-6 rounded-3xl border border-white/40",children:[u.jsxs("div",{className:"text-center w-1/3",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-blue",children:u.jsx(gr,{size:24})}),u.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.origin}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Origen"})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center px-4 relative",children:[u.jsx("div",{className:"w-full h-[2px] bg-gradient-to-r from-cadena-blue to-cadena-pink relative top-3",children:u.jsx("div",{className:"absolute -right-1 -top-[9px] text-cadena-pink",children:u.jsx(I_,{size:20,strokeWidth:3})})}),u.jsx("p",{className:"text-xs font-bold text-cadena-blue mt-6 bg-blue-50/50 backdrop-blur-sm px-3 py-1 rounded-full border border-blue-100 uppercase",children:h.date})]}),u.jsxs("div",{className:"text-center w-1/3",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-3 text-cadena-pink",children:u.jsx(gr,{size:24})}),u.jsx("p",{className:"font-bold text-lg text-gray-800 leading-tight",children:h.destination}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Destino"})]})]}),u.jsxs("div",{className:"mb-12",children:[u.jsxs("div",{className:"flex justify-between items-end mb-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Estado Actual"}),u.jsx("p",{className:"text-2xl font-black text-cadena-dark",children:h.status})]}),u.jsxs("span",{className:"text-3xl font-black text-cadena-blue",children:[V,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200/50 rounded-full h-5 p-1 border border-white shadow-inner",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-lg ${S(h.status)}`,style:{width:`${V}%`}})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative",children:[u.jsx(Jm,{icon:u.jsx(di,{size:28}),label:"Recoleccin",active:V>=30,color:"text-cadena-pink",bgColor:"bg-white"}),u.jsx(Jm,{icon:u.jsx(hi,{size:28}),label:"En Ruta",active:V>=60,color:"text-cadena-blue",bgColor:"bg-white"}),u.jsx(Jm,{icon:u.jsx(Up,{size:28}),label:"Entregado",active:V===100,color:"text-green-600",bgColor:"bg-white"})]})]})]})]})]})},Jm=({icon:r,label:e,active:n,color:i,bgColor:o})=>u.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-700 ${n?"opacity-100 scale-105":"opacity-30 grayscale"}`,children:[u.jsx("div",{className:`w-20 h-20 rounded-3xl shadow-xl flex items-center justify-center border-2 transition-all duration-700 ${n?`${o} border-white shadow-blue-200/50`:"bg-gray-100/50 border-transparent"}`,children:u.jsx("div",{className:n?i:"text-gray-400",children:r})}),u.jsx("span",{className:`font-black text-xs uppercase tracking-tighter ${n?"text-cadena-dark":"text-gray-400"}`,children:e})]}),Yk={"Sala y Estancia":{icon:u.jsx(B_,{size:20}),items:["Silln 1 Plaza","Silln 2 Plazas","Silln 3 Plazas","Sof Cama","Sala en L (Seccional)","Mesa de Centro","Librero","Mueble de TV / Entretenimiento",'TV Pantalla (24" - 42")','TV Pantalla (43" - 55")','TV Pantalla (60" - 85")',"Ventilador","Espejo Grande","Cuadro / Arte"]},"Comedor y Cocina":{icon:u.jsx(q_,{size:20}),items:["Mesa Comedor (Madera)","Mesa Comedor (Vidrio)","Mesa Comedor (Tubular)","Sillas de Comedor (Unitario)","Bancos / Taburetes","Vitrina / Credenza","Refrigerador Chico (1 pta)","Refrigerador Grande (2 ptas)","Refrigerador Duplex","Frigobar / Minibar","Estufa","Microondas","Alacena"]},Recmara:{icon:u.jsx(D_,{size:20}),items:["Base+Colchn Individual","Base+Colchn Matrimonial","Base+Colchn Queen","Base+Colchn King","Cabecera Individual","Cabecera Matrimonial","Cabecera Queen","Cabecera King","Litera","Cuna de Beb","Bur","Tocador / Peinador","Ropero / Closet"]},"Lavado y Bao":{icon:u.jsx(oh,{size:20}),items:["Lavadora","Secadora","Centro de Lavado (Torre)","Botes / Cestos","Mueble de Bao"]},"Oficina y Electrnica":{icon:u.jsx(k_,{size:20}),items:["Escritorio","Silla de Oficina","Computadora / Monitor","Impresora / Multifuncional"]},"Cajas y Bultos":{icon:u.jsx(Vp,{size:20}),items:["Caja Cartn Chica","Caja Cartn Mediana","Caja Cartn Grande","Caja Plstico Chica","Caja Plstico Mediana","Caja Plstico Grande","Bulto Chico","Bulto Mediano","Bulto Grande"]},"Vehculos y Varios":{icon:u.jsx(oN,{size:20}),items:["Bicicleta","Motocicleta","Auto Compacto","Auto Sedn","Auto Deportivo","Camioneta","Escalera","Macetas","Piano","Caja Fuerte"]}},Xk=()=>{const[r,e]=L.useState(1),[n,i]=L.useState(!1),[o,c]=L.useState(null),[h,p]=L.useState(!1),[g,y]=L.useState({client:"",phone:"",date:"",origin:"",destination:"",notes:""}),[_,E]=L.useState({}),[S,V]=L.useState("Sala y Estancia"),[H,$]=L.useState(""),F=N=>{const C=S!==N;V(C?N:null),C&&setTimeout(()=>{const w=document.getElementById(`cat-${N}`);w&&w.scrollIntoView({behavior:"smooth",block:"start"})},100)},se=N=>{E(C=>{const w=C[N]||0;return{...C,[N]:w+1}})},ne=()=>{H.trim()&&(se(H.trim()),$(""))},re=N=>{N.key==="Enter"&&(N.preventDefault(),ne())},he=N=>{E(C=>{const w=C[N]||0;if(w<=1){const R={...C};return delete R[N],R}return{...C,[N]:w-1}})},ve=N=>{E(C=>{const w={...C};return delete w[N],w})},ge=async N=>{N.preventDefault(),i(!0);try{const C=Object.entries(_).map(([R,j])=>({name:R,quantity:j}));let w="";await VE(Xt,async R=>{const j=Kn(Xt,"counters","moves_counter"),k=await R.get(j);let I=1;k.exists()&&(I=k.data().current+1),w=`MUD-${String(I).padStart(4,"0")}`;const ke=Kn(mc(Xt,"moves"));R.set(ke,{...g,items:C,folio:w,status:"Pendiente",porcentaje:0,price:0,subtotal:0,iva:0,retention:0,financialItems:[{description:"FLETE COTIZACIN PENDIENTE",cost:0,quantity:1}],createdAt:new Date}),R.set(j,{current:I})}),c(w)}catch(C){console.error(C),alert("Error al enviar. Intenta de nuevo.")}finally{i(!1)}};return o?u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsxs("div",{className:"relative z-10 bg-white/40 backdrop-blur-xl p-10 rounded-[2.5rem] shadow-2xl text-center max-w-md border border-white/60 animate-fade-in-up",children:[u.jsx("div",{className:"w-24 h-24 bg-green-500 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-200 rotate-12",children:u.jsx(ah,{size:48})}),u.jsx("h2",{className:"text-3xl font-black text-cadena-dark",children:"Recibido!"}),u.jsxs("p",{className:"text-gray-600 mt-4 font-medium",children:["Tu folio de cotizacin es:",u.jsx("span",{className:"font-black text-cadena-blue text-3xl block mt-2 bg-white/50 py-2 rounded-2xl border border-white tracking-tighter",children:o})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-6 leading-relaxed",children:"Un asesor analizar tu inventario y te contactar por WhatsApp en breve con tu cotizacin oficial."}),u.jsx("a",{href:"/",className:"block mt-8 bg-cadena-dark text-white py-4 rounded-2xl font-bold hover:bg-black transition shadow-xl",children:"Volver al Inicio"})]})]}):u.jsxs("div",{className:"min-h-screen bg-slate-50 pt-28 pb-12 px-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"max-w-3xl mx-auto relative z-10",children:u.jsxs("div",{className:"bg-white/40 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/60",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cadena-blue to-blue-700 p-8 text-white relative",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] bg-white/20 px-3 py-1 rounded-full border border-white/30",children:"Cotizacin en lnea"}),u.jsx("h2",{className:"text-3xl font-black mt-3",children:"Calcula tu Mudanza"}),u.jsxs("p",{className:"text-blue-100 text-sm mt-1 font-medium",children:["Paso ",r," de 2: ",r===1?"Tus Datos":"Inventario"]})]}),u.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-md",children:u.jsx(hi,{size:32})})]}),u.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-cadena-pink transition-all duration-500",style:{width:`${r/2*100}%`}})]}),u.jsxs("form",{onSubmit:ge,className:"p-6 md:p-10 space-y-8",children:[r===1&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-pink rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Informacin de Contacto"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsx("div",{className:"group",children:u.jsx("input",{required:!0,placeholder:"Nombre Completo",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:g.client,onChange:N=>y({...g,client:N.target.value})})}),u.jsx("input",{required:!0,type:"tel",placeholder:"Telfono (WhatsApp)",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:g.phone,onChange:N=>y({...g,phone:N.target.value})}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Fecha deseada del servicio"}),u.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-white/50 backdrop-blur-sm rounded-2xl border-2 border-white focus:border-cadena-blue focus:bg-white outline-none transition-all shadow-sm",value:g.date,onChange:N=>y({...g,date:N.target.value})})]})]}),u.jsxs("button",{type:"button",onClick:()=>e(2),className:"w-full bg-cadena-dark text-white py-5 rounded-2xl font-black text-lg mt-4 hover:bg-black transition shadow-xl shadow-gray-200 flex items-center justify-center gap-3",children:["Siguiente: Inventario ",u.jsx(hi,{size:20})]})]}),r===2&&u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"bg-blue-50/50 p-4 sm:p-6 rounded-3xl border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Ruta del Servicio"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:"origin",className:"text-[10px] font-black text-cadena-blue uppercase ml-4",children:"Direccin de Origen"}),u.jsx("input",{id:"origin",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-blue-100 focus:border-cadena-blue focus:ring-2 focus:ring-blue-100 outline-none shadow-sm text-sm",value:g.origin,onChange:N=>y({...g,origin:N.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{htmlFor:"destination",className:"text-[10px] font-black text-cadena-pink uppercase ml-4",children:"Direccin de Destino"}),u.jsx("input",{id:"destination",required:!0,placeholder:"Calle, Nmero, Colonia, Ciudad, CP",className:"w-full p-3 sm:p-4 bg-white rounded-2xl border border-pink-100 focus:border-cadena-pink focus:ring-2 focus:ring-pink-100 outline-none shadow-sm text-sm",value:g.destination,onChange:N=>y({...g,destination:N.target.value})})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-1.5 h-6 bg-cadena-blue rounded-full"}),u.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-sm",children:"Selecciona tus Muebles"})]}),u.jsx("div",{className:"space-y-3",children:Object.entries(Yk).map(([N,C])=>u.jsxs("div",{id:`cat-${N}`,className:"border-2 border-white bg-white/40 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition scroll-mt-20",children:[u.jsxs("button",{type:"button",onClick:()=>F(N),className:`w-full flex justify-between items-center p-4 font-bold text-left transition ${S===N?"bg-cadena-blue text-white":"text-gray-700 hover:bg-white/60"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[C.icon,u.jsx("span",{children:N})]}),S===N?u.jsx(M_,{size:20}):u.jsx(O_,{size:20})]}),S===N&&u.jsx("div",{className:"p-2 bg-white/80 grid grid-cols-1 sm:grid-cols-2 gap-2 animate-fade-in",children:C.items.map((w,R)=>u.jsxs("button",{type:"button",onClick:()=>se(w),className:"flex justify-between items-center p-3 text-sm text-gray-600 bg-slate-50 hover:bg-blue-50 hover:text-cadena-blue rounded-xl transition group text-left",children:[u.jsx("span",{className:"leading-tight",children:w}),u.jsx("span",{className:"bg-white shadow-sm border border-gray-100 text-gray-400 group-hover:bg-cadena-blue group-hover:text-white w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold transition",children:"+"})]},R))})]},N))}),u.jsxs("div",{className:"mt-4 p-4 bg-white/40 border border-white rounded-2xl",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"No encuentras algo?"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Ej. Mquina de coser, Asador grande...",className:"flex-1 p-3 rounded-xl border border-gray-200 text-sm focus:border-cadena-blue outline-none",value:H,onChange:N=>$(N.target.value),onKeyDown:re}),u.jsx("button",{type:"button",onClick:ne,className:"bg-gray-800 text-white px-4 rounded-xl font-bold text-xs hover:bg-black transition",children:"AGREGAR"})]})]})]}),u.jsxs("div",{className:"bg-white/60 p-6 rounded-[2rem] border border-white shadow-inner",children:[u.jsxs("h3",{className:"font-black text-gray-800 uppercase tracking-wider text-xs mb-4 flex items-center gap-2",children:[u.jsx(di,{size:16})," Resumen de Inventario"]}),Object.keys(_).length===0?u.jsx("div",{className:"text-center py-8 text-gray-400 italic text-sm",children:"No has seleccionado ningn mueble an."}):u.jsx("div",{className:"space-y-3",children:Object.entries(_).map(([N,C])=>u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white p-3 rounded-2xl shadow-sm border border-gray-50 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[u.jsx("span",{className:"font-black text-cadena-blue bg-blue-50 w-8 h-8 flex items-center justify-center rounded-full text-sm shrink-0",children:C}),u.jsx("span",{className:"text-sm font-bold text-gray-700 leading-tight",children:N})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>he(N),className:"w-10 h-10 flex items-center justify-center bg-gray-200 rounded-lg text-gray-600 hover:bg-gray-300 transition",children:u.jsx("span",{className:"text-xl font-black mb-1",children:"-"})}),u.jsx("button",{type:"button",onClick:()=>se(N),className:"w-10 h-10 flex items-center justify-center bg-cadena-blue rounded-lg text-white hover:bg-blue-700 transition shadow-md shadow-blue-200",children:u.jsx("span",{className:"text-xl font-black mb-1",children:"+"})}),u.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),u.jsx("button",{type:"button",onClick:()=>ve(N),className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-lg text-red-500 hover:bg-red-200 transition",children:u.jsx("span",{className:"text-xs font-black",children:"X"})})]})]},N))})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-4",children:"Observaciones especiales"}),u.jsx("textarea",{placeholder:"Ej: Tercer piso sin elevador, volado de muebles, condominio con horario restringido...",className:"w-full p-4 bg-white/50 rounded-2xl border-2 border-white focus:border-cadena-blue outline-none h-24 text-sm shadow-sm",value:g.notes,onChange:N=>y({...g,notes:N.target.value})})]}),u.jsxs("div",{className:"text-[10px] text-center text-gray-500 pt-4 px-4 leading-tight",children:["Al solicitar esta cotizacin, aceptas nuestro"," ",u.jsx("button",{type:"button",onClick:()=>p(!0),className:"font-bold text-cadena-blue underline hover:text-cadena-dark transition",children:"Aviso de Privacidad"})," ","y el tratamiento de tus datos para fines del servicio."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsxs("button",{type:"button",onClick:()=>e(1),className:"flex items-center justify-center gap-2 px-8 py-4 text-gray-400 font-black text-xs uppercase tracking-widest hover:text-cadena-dark transition",children:[u.jsx(ih,{size:16})," Atrs"]}),u.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-cadena-pink text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-pink-200 hover:scale-[1.02] transition-all disabled:opacity-50",children:n?"Procesando...":`Finalizar Cotizacin (${Object.values(_).reduce((N,C)=>N+C,0)} tems)`})]})]})]})]})}),u.jsx(F_,{isOpen:h,onClose:()=>p(!1)})]})},Hl="print:break-after-page print:min-h-screen print:flex print:flex-col print:justify-between relative bg-white shadow-lg p-12 mb-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-gray-800 print:shadow-none print:m-0 print:w-full",Zk=()=>{const{id:r}=Ip(),e=L.useRef(null),[n,i]=L.useState(null),[o,c]=L.useState(!0),[h,p]=L.useState(!1),[g,y]=L.useState(!1),[_,E]=L.useState(!1),[S,V]=L.useState(null),[H,$]=L.useState(null);L.useEffect(()=>{if(!r)return;const W=Kn(Xt,"moves",r),ie=zE(W,me=>{if(me.exists()){const Se=me.data();Se.idUrl&&!Se.idUrlFront&&(Se.idUrlFront=Se.idUrl),i({id:me.id,...Se})}else alert("Enlace no vlido.");c(!1)});return()=>ie()},[r]);const F=W=>new Promise(ie=>{const me=new FileReader;me.readAsDataURL(W),me.onload=Se=>{const O=new Image;O.src=Se.target.result,O.onload=()=>{const Z=document.createElement("canvas"),oe=800,ce=oe/O.width;Z.width=oe,Z.height=O.height*ce,Z.getContext("2d").drawImage(O,0,0,Z.width,Z.height),ie(Z.toDataURL("image/jpeg",.6))}}}),se=W=>{const ie=W.target.files[0];ie&&(V(ie),$(URL.createObjectURL(ie)))},ne=()=>{V(null),$(null)},re=async W=>{if(S){p(!0);try{const ie=await F(S);let me={};W==="ine_front"?me={idUrlFront:ie,idUrl:ie}:W==="ine_back"?me={idUrlBack:ie}:W==="address"&&(me={addressUrl:ie}),await Xd(Kn(Xt,"moves",r),me),V(null),$(null)}catch(ie){console.error(ie),alert("Error al subir imagen.")}p(!1)}},he=(W,ie)=>{const me=ie.getBoundingClientRect(),Se=ie.width/me.width,O=ie.height/me.height;return{x:((W.clientX||W.touches[0].clientX)-me.left)*Se,y:((W.clientY||W.touches[0].clientY)-me.top)*O}},ve=W=>{const ie=e.current,me=ie.getContext("2d"),{x:Se,y:O}=he(W,ie);me.lineWidth=3,me.lineCap="round",me.strokeStyle="#000",me.beginPath(),me.moveTo(Se,O),y(!0)},ge=W=>{if(!g)return;const ie=e.current,me=ie.getContext("2d"),{x:Se,y:O}=he(W,ie);me.lineTo(Se,O),me.stroke(),W.type!=="mousemove"&&W.preventDefault()},N=()=>{const W=e.current;W.getContext("2d").clearRect(0,0,W.width,W.height)},C=async()=>{if(!e.current)return;const W=document.createElement("canvas");if(W.width=e.current.width,W.height=e.current.height,e.current.toDataURL()===W.toDataURL()){alert("Por favor firme antes de aceptar.");return}const ie=e.current.toDataURL();try{await Xd(Kn(Xt,"moves",r),{signature:ie,status:"Contrato Firmado",signedAt:new Date}),alert("Contrato firmado correctamente!")}catch{alert("Error al guardar firma")}};if(o)return u.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-gray-500",children:"Cargando..."});if(!n)return u.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Enlace no vlido."});const w=!n.idUrlFront,R=!n.idUrlBack,j=!n.addressUrl,I=!w&&!R&&!j&&n.status==="Pendiente",ke=["Programada","Contrato Firmado","En Carga","En Trnsito","Finalizada"].includes(n.status);let De="loading";w?De="upload_ine_front":R?De="upload_ine_back":j?De="upload_address":I?De="waiting":ke&&(!_&&n.status!=="Contrato Firmado"?De="review_data":De="contract");const K=()=>u.jsxs("div",{className:"mt-auto pt-8 border-t border-gray-300 flex justify-between items-end text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:"MUDANZAS CADENA"}),u.jsxs("p",{children:["Folio: ",n.folio]})]}),u.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?u.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):u.jsx("div",{className:"h-12"}),u.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold",children:"FIRMA C."})]})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 print:bg-white print:p-0",children:[u.jsxs("div",{className:"max-w-xl mx-auto print:hidden",children:[De==="upload_ine_front"&&u.jsx(Wm,{title:"INE / ID (Frente)",desc:"Sube la parte delantera de tu identificacin",icon:u.jsx(oa,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:se,preview:H,onConfirm:()=>re("ine_front"),onCancel:ne,uploading:h}),De==="upload_ine_back"&&u.jsx(Wm,{title:"INE / ID (Reverso)",desc:"Ahora sube la parte trasera",icon:u.jsx(oa,{size:40}),color:"text-cadena-blue",bg:"bg-blue-100",onSelect:se,preview:H,onConfirm:()=>re("ine_back"),onCancel:ne,uploading:h}),De==="upload_address"&&u.jsx(Wm,{title:"Comprobante de Domicilio",desc:"Recibo de luz, agua o internet",icon:u.jsx(Up,{size:40}),color:"text-cadena-pink",bg:"bg-pink-100",onSelect:se,preview:H,onConfirm:()=>re("address"),onCancel:ne,uploading:h}),De==="waiting"&&u.jsxs("div",{className:"p-12 text-center bg-white rounded-3xl shadow-xl border-t-8 border-yellow-400",children:[u.jsx(zp,{size:80,className:"mx-auto text-yellow-500 mb-6 animate-pulse"}),u.jsx("h2",{className:"text-2xl font-bold",children:"Validando Documentacin"}),u.jsx("p",{className:"text-gray-500 mt-4",children:"Tus documentos (INE Frente, Reverso y Domicilio) han sido recibidos. Un asesor los revisar en breve."})]}),De==="review_data"&&u.jsxs("div",{className:"p-8 bg-white rounded-3xl shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Revisa los Datos Finales"}),u.jsxs("div",{className:"space-y-4 mb-6 text-sm",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Cliente:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Origen:"})," ",n.origin]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Destino:"})," ",n.destination]}),u.jsxs("p",{className:"text-xl font-black text-cadena-blue text-right",children:["Total: $",n.price?.toLocaleString()]})]}),u.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-cadena-dark text-white py-4 rounded-xl font-bold flex justify-center gap-2",children:["Datos Correctos, Ver Contrato ",u.jsx(I_,{})]})]})]}),De==="contract"&&u.jsxs("div",{className:"max-w-[21.5cm] mx-auto",children:[u.jsxs("div",{className:Hl,children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("img",{src:ic,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),u.jsx("p",{className:"text-xs tracking-[0.2em] text-gray-400 font-bold uppercase mt-1 ml-1",children:"COTIZA HOY, MDATE HOY"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-black text-gray-700 text-lg",children:"CONTRATO DE SERVICIO"}),u.jsxs("p",{className:"text-sm text-gray-500",children:["FOLIO: ",u.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),u.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"space-y-6 text-sm uppercase",children:[u.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),u.jsx("p",{children:n.origin})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),u.jsx("p",{children:n.destination})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",u.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),u.jsx("div",{className:"mt-auto"}),u.jsx(K,{})]}),u.jsxs("div",{className:Hl,children:[u.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),u.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b pb-4",children:"Revisado y Autorizado por el Cliente"}),u.jsx("div",{className:"flex-1",children:n.items&&n.items.length>0?u.jsx("div",{className:"columns-2 md:columns-3 gap-8",children:n.items.map((W,ie)=>u.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-3 text-sm",children:[u.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center",children:W.quantity}),u.jsx("span",{className:"leading-tight",children:W.name})]},ie))}):u.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:u.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})}),u.jsx("div",{className:"mt-auto"}),u.jsx(K,{})]}),u.jsxs("div",{className:Hl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),u.jsxs("div",{className:"text-[10px] leading-relaxed text-justify space-y-2 flex-1",children:[u.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),u.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),u.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),u.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),u.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),u.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),u.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),u.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),u.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),u.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),u.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio, de $50,000.00 como valor mnimo de embarque para la modalidad compartida o una pliza de seguro por el 10% adicional del valor de total del servicio, de $50,000.00 hasta $100,000.00 como lmite mximo por embarque para la modalidad exclusiva, por los hechos que la ley seala como riesgos ordinarios de trnsito, robo total con violencia y/o asalto. En caso de que el valor declarado de sus bienes exceda estos montos, se le da la opcin al cliente de ampliar su pliza de seguro para que su carga vaya asegurada por completo. La territorialidad de la pliza de seguro consta de (Bodega  Bodega), es decir, desde el momento que sale de Bodega MUDANZAS CADENA hasta el DESTINO FINAL del cliente. La Pliza de Seguro compartida y exclusiva se considera por todo el embarque, es decir, sobre todos los artculos, embalajes, que viajen en el mismo contenedor, bajo ninguna circunstancia se contrata el seguro por un artculo u embalaje en especial. En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),u.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),u.jsx("p",{children:"13. El cliente que es quien remite el servicio, encomienda a MUDANZAS CADENA, y este se obliga a transportar en sujecin de las leyes, aquellos bienes descritos en el presente documento al lugar del destino que seale el cliente."}),u.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),u.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."}),u.jsx("p",{className:"font-bold text-center mt-4",children:"AL FIRMAR ESTE CONTRATO, EST ACEPTANDO LAS CONDICIONES DE SERVICIO ANTES MENCIONADAS."})]}),u.jsx(K,{})]}),u.jsxs("div",{className:Hl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),u.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[u.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),u.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),u.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),u.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),u.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((W,ie)=>u.jsxs("tr",{className:"border-b border-black",children:[u.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:W.description}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(W.cost).toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:W.quantity}),u.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(W.cost*W.quantity).toLocaleString()]})]},ie)):u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),u.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),u.jsxs("div",{className:"w-1/2 ml-auto",children:[u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"SUBTOTAL"})," ",u.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"IVA (16%)"})," ",u.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[u.jsx("span",{children:"RETENCIN (-4%)"})," ",u.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[u.jsx("span",{children:"TOTAL"})," ",u.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]}),u.jsx("div",{className:"flex-1"}),u.jsx(K,{})]}),u.jsxs("div",{className:Hl,children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),u.jsxs("div",{className:"space-y-6 text-sm flex-1 text-center",children:[u.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),u.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),u.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),u.jsx("p",{children:"CUENTA: 047 181 9445"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",u.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]}),u.jsx(K,{})]}),u.jsx("div",{className:"mt-8 mb-16 p-8 bg-gray-100 border-2 border-dashed border-gray-300 rounded-3xl text-center print:hidden",children:n.status!=="Contrato Firmado"&&!n.signature?u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-2xl font-bold text-cadena-dark mb-4",children:"Aceptacin del Contrato"}),u.jsx("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:"Al firmar a continuacin, confirmas que has ledo todas las clusulas, verificado el inventario y aceptas las condiciones del servicio."}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 max-w-md mx-auto mb-6 touch-none",children:[u.jsx("p",{className:"text-xs text-gray-400 mb-2 uppercase font-bold text-left",children:"Dibuja tu firma:"}),u.jsx("canvas",{ref:e,width:300,height:150,className:"w-full h-full cursor-crosshair border-b border-gray-300",onMouseDown:ve,onMouseMove:ge,onMouseUp:()=>y(!1),onTouchStart:ve,onTouchMove:ge,onTouchEnd:()=>y(!1)}),u.jsx("button",{onClick:N,className:"text-xs text-red-500 underline w-full text-right mt-1",children:"Borrar firma"})]}),u.jsxs("button",{onClick:C,className:"bg-cadena-blue text-white px-12 py-4 rounded-full font-bold shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-3 mx-auto",children:[u.jsx(L_,{size:20})," FIRMAR Y FINALIZAR"]})]}):u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-green-200 inline-block",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mx-auto mb-4",children:u.jsx(ah,{size:40})}),u.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Contrato Firmado!"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Hemos recibido tu firma correctamente. Tu asesor te enviar el documento final en breve."})]})})]})]})},Wm=({title:r,desc:e,icon:n,color:i,bg:o,onSelect:c,preview:h,onConfirm:p,onCancel:g,uploading:y})=>u.jsxs("div",{className:"p-8 text-center bg-white rounded-3xl shadow-xl max-w-md mx-auto",children:[u.jsx("div",{className:`w-20 h-20 ${o} ${i} rounded-full flex items-center justify-center mx-auto mb-6`,children:n}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r}),u.jsx("p",{className:"text-gray-500 mb-6",children:e}),h?u.jsxs("div",{className:"animate-fade-in-up",children:[u.jsx("div",{className:"mb-6 relative rounded-xl overflow-hidden border-2 border-gray-200 shadow-sm max-h-64 mx-auto",children:u.jsx("img",{src:h,alt:"Vista previa",className:"w-full h-full object-contain bg-gray-50"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:p,disabled:y,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition ${y?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 hover:scale-[1.02]"}`,children:y?u.jsx(u.Fragment,{children:"Subiendo..."}):u.jsxs(u.Fragment,{children:[u.jsx(ah,{size:20})," Confirmar y Enviar"]})}),u.jsxs("button",{onClick:g,disabled:y,className:"w-full py-3 rounded-xl font-bold text-red-500 bg-red-50 hover:bg-red-100 flex items-center justify-center gap-2 transition",children:[u.jsx(Xl,{size:18})," Cancelar / Cambiar Foto"]})]})]}):u.jsxs("label",{className:"block w-full border-2 border-dashed border-gray-300 rounded-2xl p-10 cursor-pointer hover:bg-gray-50 hover:border-cadena-blue transition group",children:[u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c}),u.jsx(oh,{className:`mx-auto ${i} mb-4 group-hover:scale-110 transition`,size:48}),u.jsx("span",{className:"font-bold text-gray-600 group-hover:text-cadena-blue",children:"Toca para seleccionar foto"})]})]}),Jk=["mudanzascadenamx@gmail.com","carlos.mtzvelez@gmail.com"],Wk=()=>{const[r,e]=L.useState(""),[n,i]=L.useState(!1),o=Co(),c=async()=>{i(!0),e("");const h=new dr;try{const g=(await ek(Sp,h)).user;Jk.includes(g.email)?o("/admin/dashboard"):(await oT(Sp),e("Acceso denegado. Tu correo no tiene permisos de administrador."))}catch(p){console.error(p),e("Error al conectar con Google. Intenta de nuevo.")}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-cadena-blue/10 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-cadena-pink/10 rounded-full blur-3xl pointer-events-none"}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl w-full max-w-md border border-white relative z-10 text-center",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-lg overflow-hidden relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-cadena-blue/20 to-transparent"}),u.jsx("img",{src:uh,alt:"Admin",className:"w-full h-full object-cover object-top pt-2 scale-110"})]}),u.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Acceso Administrativo"}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Panel de control exclusivo para personal autorizado."})]}),r&&u.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-xl text-sm font-bold flex items-start gap-3 mb-6 border border-red-100 text-left animate-pulse",children:[u.jsx(Pp,{size:20,className:"shrink-0 mt-0.5"}),u.jsx("span",{children:r})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:c,disabled:n,className:"w-full bg-white border-2 border-slate-100 text-slate-700 py-4 rounded-xl font-bold shadow-sm hover:bg-slate-50 hover:border-slate-300 transition transform active:scale-95 flex items-center justify-center gap-3 group",children:[u.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Verificando...":"Iniciar Sesin con Google"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-400",children:[u.jsx(z_,{size:14})," Acceso protegido y monitoreado."]})]}),u.jsx("div",{className:"mt-10 border-t border-slate-100 pt-6",children:u.jsxs(Gn,{to:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-cadena-blue font-bold text-sm transition",children:[u.jsx(ih,{size:16})," Volver al sitio web"]})})]})]})},gd=({move:r,onEdit:e,onDelete:n,onCopyLink:i,onViewId:o,onPrintOrder:c,onViewContract:h,isPending:p})=>{const g=Array.isArray(r.items)&&r.items.length>0;return u.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border flex flex-col md:flex-row justify-between gap-6 hover:shadow-lg transition-all duration-300 ${p?"border-l-[6px] border-l-cadena-pink border-t border-r border-b border-gray-100":"border border-gray-100"}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"bg-gray-100 text-gray-500 px-2 py-1 rounded-md text-xs font-bold font-mono tracking-wider",children:r.folio}),u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r.client}),r.phone&&u.jsx("a",{href:`https://wa.me/${r.phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-500 bg-green-50 p-1.5 rounded-full hover:bg-green-100 transition",children:u.jsx(Bp,{size:18})})]}),u.jsxs("div",{className:"text-sm text-gray-500 space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx(gr,{size:16,className:"text-cadena-pink"})," ",u.jsx("span",{className:"font-medium truncate max-w-xs",children:r.origin})]}),u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx(hi,{size:16,className:"text-gray-400"})," ",g?`${r.items.length} Artculos registrados`:"Sin lista de inventario"]})]}),u.jsxs("div",{className:"flex gap-2",children:[r.idUrl&&u.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold",children:"INE OK"}),r.addressUrl&&u.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:"DOM OK"})]})]}),u.jsxs("div",{className:"flex flex-col items-end justify-between min-w-[140px] border-l border-gray-50 pl-6 md:border-l-0 md:pl-0",children:[u.jsxs("div",{className:"text-right",children:[r.price>0?u.jsxs("p",{className:"text-2xl font-black text-cadena-dark",children:["$",r.price.toLocaleString()]}):u.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full font-bold uppercase tracking-wide",children:"Por Cotizar"}),u.jsx("div",{className:`mt-2 inline-block px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide text-white ${r.status==="Contrato Firmado"?"bg-purple-500":"bg-cadena-blue"}`,children:r.status})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[h&&u.jsx("button",{onClick:h,title:"Ver Contrato",className:"p-2.5 text-blue-500 bg-blue-50 rounded-xl hover:bg-blue-100 transition",children:u.jsx(oa,{size:20})}),c&&u.jsx("button",{onClick:c,className:"p-2.5 text-orange-600 bg-orange-50 rounded-xl hover:bg-orange-100 transition",children:u.jsx(ch,{size:20})}),u.jsx("button",{onClick:o,className:"p-2.5 text-green-600 bg-green-50 rounded-xl hover:bg-green-100 transition",children:u.jsx(_N,{size:20})}),u.jsx("button",{onClick:e,className:"p-2.5 text-white bg-cadena-blue rounded-xl shadow-md hover:bg-blue-700 transition hover:-translate-y-0.5",children:u.jsx(YN,{size:20})}),i&&u.jsx("button",{onClick:i,className:"p-2.5 text-purple-600 bg-purple-50 rounded-xl hover:bg-purple-100 transition",children:u.jsx(yN,{size:20})}),u.jsx("button",{onClick:n,className:"p-2.5 text-red-400 bg-red-50 rounded-xl hover:bg-red-100 transition",children:u.jsx(Xl,{size:20})})]})]})]})};const xT="firebasestorage.googleapis.com",_T="storageBucket",eO=120*1e3,tO=600*1e3;class Wt extends Gs{constructor(e,n,i=0){super(ep(e),`Firebase Storage: ${n} (${ep(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function ep(r){return"storage/"+r}function nO(){const r="An unknown error occurred, please check the error payload for server response.";return new Wt(Jt.UNKNOWN,r)}function sO(r){return new Wt(Jt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function rO(r){return new Wt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Jt.UNAUTHENTICATED,r)}function aO(){return new Wt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oO(r){return new Wt(Jt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function lO(){return new Wt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cO(){return new Wt(Jt.CANCELED,"User canceled the upload/download.")}function uO(r){return new Wt(Jt.INVALID_URL,"Invalid URL '"+r+"'.")}function dO(r){return new Wt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function hO(){return new Wt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_T+"' property when initializing the app?")}function Cp(r){return new Wt(Jt.INVALID_ARGUMENT,r)}function ET(){return new Wt(Jt.APP_DELETED,"The Firebase app was deleted.")}function fO(r){return new Wt(Jt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gl(r){throw new Wt(Jt.INTERNAL_ERROR,"Internal error: "+r)}class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(i.path==="")return i;throw dO(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(he){he.path_=decodeURIComponent(he.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${_}/b/${o}/o${S}`,"i"),H={bucket:1,path:3},$=n===xT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",se=new RegExp(`^https?://${$}/${o}/${F}`,"i"),re=[{regex:p,indices:g,postModify:c},{regex:V,indices:H,postModify:y},{regex:se,indices:{bucket:1,path:2},postModify:y}];for(let he=0;he<re.length;he++){const ve=re[he],ge=ve.regex.exec(e);if(ge){const N=ge[ve.indices.bucket];let C=ge[ve.indices.path];C||(C=""),i=new $n(N,C),ve.postModify(i);break}}if(i==null)throw uO(e);return i}}class mO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function pO(r,e,n){let i=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function _(...F){y||(y=!0,e.apply(null,F))}function E(F){o=setTimeout(()=>{o=null,r(V,g())},F)}function S(){c&&clearTimeout(c)}function V(F,...se){if(y){S();return}if(F){S(),_.call(null,F,...se);return}if(g()||h){S(),_.call(null,F,...se);return}i<64&&(i*=2);let re;p===1?(p=2,re=0):re=(i+Math.random())*1e3,E(re)}let H=!1;function $(F){H||(H=!0,S(),!y&&(o!==null?(F||(p=2),clearTimeout(o),E(0)):F||(p=1)))}return E(0),c=setTimeout(()=>{h=!0,$(!0)},n),$}function gO(r){r(!1)}function yO(r){return r!==void 0}function s_(r,e,n,i){if(i<e)throw Cp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Cp(`Invalid value for '${r}'. Expected ${n} or less.`)}function bO(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function vO(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var aa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(aa||(aa={}));function xO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}class _O{constructor(e,n,i,o,c,h,p,g,y,_,E,S=!0,V=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,$)=>{this.resolve_=H,this.reject_=$,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new yd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===aa.NO_ERROR,g=c.getStatus();if(!p||xO(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===aa.ABORT;i(!1,new yd(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new yd(y,c))})},n=(i,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());yO(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=nO();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?ET():cO();h(g)}else{const g=lO();h(g)}};this.canceled_?n(!1,new yd(!1,null,!0)):this.backoffId_=pO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function EO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function TO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function AO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function NO(r,e,n,i,o,c,h=!0,p=!1){const g=vO(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return wO(_,e),EO(_,n),TO(_,c),AO(_,i),new _O(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function SO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function CO(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function RO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class jO{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function IO(r){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=aO():o=iO():n.getStatus()===402?o=rO(r.bucket):n.getStatus()===403?o=oO(r.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function DO(r){const e=IO(r);function n(i,o){let c=e(i,o);return i.getStatus()===404&&(c=sO(r.path)),c.serverResponse=o.serverResponse,c}return n}function kO(r,e){const n=e.fullServerUrl(),i=bO(n,r.host,r._protocol),o="DELETE",c=r.maxOperationRetryTime;function h(g,y){}const p=new jO(i,o,h,c);return p.successCodes=[200,204],p.errorHandler=DO(e),p}class OO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,c){if(this.sent_)throw Gl("cannot .send() more than once");if(_i(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MO extends OO{initXhr(){this.xhr_.responseType="text"}}function VO(){return new MO}class ma{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RO(this._location.path)}get storage(){return this._service}get parent(){const e=SO(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fO(e)}}function LO(r){r._throwIfRoot("deleteObject");const e=kO(r.storage,r._location);return r.storage.makeRequestWithTokens(e,VO)}function PO(r,e){const n=CO(r._location.path,e),i=new $n(r._location.bucket,n);return new ma(r.storage,i)}function zO(r){return/^[A-Za-z]+:\/\//.test(r)}function UO(r,e){return new ma(r,e)}function TT(r,e){if(r instanceof Fg){const n=r;if(n._bucket==null)throw hO();const i=new ma(n,n._bucket);return e!=null?TT(i,e):i}else return e!==void 0?PO(r,e):r}function BO(r,e){if(e&&zO(e)){if(r instanceof Fg)return UO(r,e);throw Cp("To use ref(service, url), the first argument must be a Storage instance.")}else return TT(r,e)}function r_(r,e){const n=e?.[_T];return n==null?null:$n.makeFromBucketSpec(n,r)}function qO(r,e,n,i={}){r.host=`${e}:${n}`;const o=_i(e);o&&(qp(`https://${r.host}/b`),Fp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(r._overrideAuthToken=typeof c=="string"?c:J_(c,r.app.options.projectId))}class Fg{constructor(e,n,i,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=xT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eO,this._maxUploadRetryTime=tO,this._requests=new Set,o!=null?this._bucket=$n.makeFromBucketSpec(o,this._host):this._bucket=r_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=r_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,i,o,c=!0){if(this._deleted)return new mO(ET());{const h=NO(e,this._appId,i,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const i_="@firebase/storage",a_="0.14.0";const wT="storage";function FO(r){return r=pt(r),LO(r)}function HO(r,e){return r=pt(r),BO(r,e)}function GO(r=$p(),e){r=pt(r);const i=hh(r,wT).getImmediate({identifier:e}),o=Y_("storage");return o&&$O(i,...o),i}function $O(r,e,n,i={}){qO(r,e,n,i)}function QO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Fg(n,i,o,e,ga)}function KO(){ca(new fi(wT,QO,"PUBLIC").setMultipleInstances(!0)),Ls(i_,a_,""),Ls(i_,a_,"esm2020")}KO();const YO={"Sala y Estancia":{icon:u.jsx(B_,{size:18}),items:["Silln 1 Plaza","Silln 2 Plazas","Silln 3 Plazas","Sof Cama","Sala en L (Seccional)","Mesa de Centro","Librero","Mueble de TV / Entretenimiento",'TV Pantalla (24" - 42")','TV Pantalla (43" - 55")','TV Pantalla (60" - 85")',"Ventilador","Espejo Grande","Cuadro / Arte"]},"Comedor y Cocina":{icon:u.jsx(q_,{size:18}),items:["Mesa Comedor (Madera)","Mesa Comedor (Vidrio)","Mesa Comedor (Tubular)","Sillas de Comedor (Unitario)","Bancos / Taburetes","Vitrina / Credenza","Refrigerador Chico (1 pta)","Refrigerador Grande (2 ptas)","Refrigerador Duplex","Frigobar / Minibar","Estufa","Microondas","Alacena"]},Recmara:{icon:u.jsx(D_,{size:18}),items:["Base+Colchn Individual","Base+Colchn Matrimonial","Base+Colchn Queen","Base+Colchn King","Cabecera Individual","Cabecera Matrimonial","Cabecera Queen","Cabecera King","Litera","Cuna de Beb","Bur","Tocador / Peinador","Ropero / Closet"]},"Lavado y Bao":{icon:u.jsx(oh,{size:18}),items:["Lavadora","Secadora","Centro de Lavado (Torre)","Botes / Cestos","Mueble de Bao"]},"Oficina y Electrnica":{icon:u.jsx(k_,{size:18}),items:["Escritorio","Silla de Oficina","Computadora / Monitor","Impresora / Multifuncional"]},"Cajas y Bultos":{icon:u.jsx(Vp,{size:18}),items:["Caja Cartn Chica","Caja Cartn Mediana","Caja Cartn Grande","Caja Plstico Chica","Caja Plstico Mediana","Caja Plstico Grande","Bulto Chico","Bulto Mediano","Bulto Grande"]}},XO=({title:r,onClose:e,children:n})=>u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:u.jsx(vc,{size:20})})]}),u.jsx("div",{className:"p-8",children:n})]})}),ZO=({url:r,onClose:e})=>u.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[60] flex flex-col items-center justify-center p-4 animate-fade-in",onClick:e,children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white bg-white/20 p-2 rounded-full hover:bg-white/40 transition",children:u.jsx(vc,{size:32})}),u.jsx("img",{src:r,alt:"Documento",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),u.jsx("p",{className:"text-white/70 mt-4 text-sm",children:"Toca cualquier parte para cerrar"})]}),JO=({moveData:r,onClose:e,onSuccess:n})=>{const[i,o]=L.useState({...r,taxType:r.taxType||"retention"}),[c,h]=L.useState({name:"",quantity:1}),[p,g]=L.useState(null),[y,_]=L.useState(null),[E,S]=L.useState("Sala y Estancia");L.useEffect(()=>{let R={...r,taxType:r.taxType||"retention"};R.idUrl&&!R.idUrlFront&&(R.idUrlFront=R.idUrl),o(R)},[r]);const V=R=>{const j=[...i.items||[]],k=j.findIndex(I=>I.name===R);k>=0?j[k].quantity=Number(j[k].quantity)+1:j.push({name:R,quantity:1}),o({...i,items:j})},H=()=>{if(!c.name)return;const R=[...i.items||[]],j=R.findIndex(k=>k.name.toLowerCase()===c.name.toLowerCase());j>=0?R[j].quantity=Number(R[j].quantity)+Number(c.quantity):R.push({...c}),o({...i,items:R}),h({name:"",quantity:1})},$=R=>{const j=[...i.items];j.splice(R,1),o({...i,items:j})},F=(R,j)=>{const k=[...i.items];k[R].quantity=Number(j),o({...i,items:k})},se=()=>{const R=i.financialItems||[];o({...i,financialItems:[...R,{description:"",cost:0,quantity:1}]})},ne=R=>{const j=[...i.financialItems||[]];j.splice(R,1),o({...i,financialItems:j})},re=(R,j,k)=>{const I=[...i.financialItems||[]];I[R][j]=k,o({...i,financialItems:I})},he=()=>{const j=(i.financialItems||[]).reduce((De,K)=>De+Number(K.cost)*Number(K.quantity),0);let k=0,I=0;switch(i.taxType){case"iva":k=j*.16,I=0;break;case"retention":k=j*.16,I=j*.04;break;default:k=0,I=0;break}const ke=j+k-I;o({...i,subtotal:j.toFixed(2),iva:k.toFixed(2),retention:I.toFixed(2),price:ke.toFixed(2)})},ve=async(R,j)=>{if(!window.confirm("Seguro que quieres eliminar este archivo?"))return;g(R),(async()=>{try{const I=GO(),ke=HO(I,j);await FO(ke)}catch(I){console.warn("Archivo fsico no encontrado",I)}})();try{const I=Kn(Xt,"moves",i.id);await Xd(I,{[R]:V4()}),o(ke=>({...ke,[R]:null}))}catch(I){console.error(I),alert("Error al actualizar la base de datos.")}finally{g(null)}},ge=async R=>{R.preventDefault();try{await Xd(Kn(Xt,"moves",i.id),{...i,taxType:i.taxType||"retention",notes:i.notes||"",items:i.items||[]}),alert("Servicio actualizado correctamente."),n&&n(),e()}catch(j){console.error(j),alert("Error: "+j.message)}},N="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue focus:bg-white transition text-sm",C="block text-xs font-bold text-gray-500 uppercase mb-1.5",w=({title:R,urlField:j,urlValue:k,colorClass:I,badgeColor:ke})=>u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-600",children:R}),k?u.jsx("span",{className:`text-[10px] ${ke} px-2 py-0.5 rounded-full font-bold`,children:"CARGADO"}):u.jsx("span",{className:"text-[10px] bg-red-50 text-red-400 px-2 py-0.5 rounded-full",children:"PENDIENTE"})]}),k?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("div",{className:"w-full h-24 bg-gray-100 rounded overflow-hidden flex items-center justify-center cursor-pointer border border-gray-200 hover:opacity-80 transition",onClick:()=>_(k),children:u.jsx("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>_(k),className:`flex-1 ${I} bg-opacity-10 text-xs font-bold py-2 rounded transition text-center flex items-center justify-center gap-2 hover:bg-opacity-20`,children:[u.jsx(FN,{size:14})," VER"]}),u.jsx("button",{type:"button",onClick:()=>ve(j,k),disabled:!!p,className:`px-3 rounded transition flex items-center justify-center ${p===j?"bg-gray-100 cursor-wait":"bg-red-50 text-red-500 hover:bg-red-100"}`,children:p===j?u.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 border-t-transparent rounded-full"}):u.jsx(Xl,{size:14})})]})]}):u.jsx("div",{className:"text-xs text-gray-400 italic text-center py-2 border-t border-dashed border-gray-100 mt-2",children:"Esperando archivo..."})]});return u.jsxs(u.Fragment,{children:[y&&u.jsx(ZO,{url:y,onClose:()=>_(null)}),u.jsx(XO,{title:`Editor de Servicio: ${i.folio}`,onClose:e,children:u.jsxs("form",{onSubmit:ge,className:"space-y-8",children:[u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Datos Generales"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Nombre Cliente"}),u.jsx("input",{className:N,value:i.client,onChange:R=>o({...i,client:R.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"WhatsApp"}),u.jsx("input",{className:N,value:i.phone,onChange:R=>o({...i,phone:R.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Fecha Tentativa"}),u.jsx("input",{type:"date",className:N,value:i.date,onChange:R=>o({...i,date:R.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Estado Actual"}),u.jsxs("select",{className:`${N} cursor-pointer font-bold text-cadena-blue`,value:i.status,onChange:R=>o({...i,status:R.target.value}),children:[u.jsx("option",{value:"Pendiente",children:"Pendiente (Docs)"}),u.jsx("option",{value:"Programada",children:"Programada (Autorizado)"}),u.jsx("option",{value:"Contrato Firmado",children:"Contrato Firmado"}),u.jsx("option",{value:"En Carga",children:"En Carga"}),u.jsx("option",{value:"En Trnsito",children:"En Trnsito"}),u.jsx("option",{value:"Finalizada",children:"Finalizada"})]})]})]})]}),u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4",children:"Ruta Logstica"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Direccin Origen"}),u.jsx("textarea",{className:`${N} h-24`,value:i.origin,onChange:R=>o({...i,origin:R.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Direccin Destino"}),u.jsx("textarea",{className:`${N} h-24`,value:i.destination,onChange:R=>o({...i,destination:R.target.value})})]})]})]}),u.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[u.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(di,{size:18})," Inventario Detallado"]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:h-[500px] h-auto",children:[u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 mb-2",children:"CATLOGO POR CATEGORA:"}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 border border-gray-100 rounded-lg p-2 bg-gray-50 h-64 md:h-auto",children:Object.entries(YO).map(([R,j])=>u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[u.jsxs("button",{type:"button",onClick:()=>S(E===R?null:R),className:`w-full flex justify-between items-center p-3 text-sm font-bold transition ${E===R?"bg-cadena-blue text-white":"hover:bg-gray-50 text-gray-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[j.icon," ",R]}),E===R?u.jsx(M_,{size:16}):u.jsx(O_,{size:16})]}),E===R&&u.jsx("div",{className:"p-2 grid grid-cols-1 gap-1 animate-fade-in",children:j.items.map((k,I)=>u.jsxs("button",{type:"button",onClick:()=>V(k),className:"text-left text-xs p-2 hover:bg-blue-50 hover:text-blue-700 rounded transition flex justify-between group border-b border-gray-50 last:border-0",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"opacity-0 group-hover:opacity-100 font-bold bg-blue-100 px-1.5 rounded text-[10px]",children:"+1"})]},I))})]},R))}),u.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-200",children:[u.jsx("p",{className:"text-xs font-bold text-gray-400 mb-1",children:"NO EST EN LA LISTA?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("div",{className:"flex gap-2 flex-1",children:[u.jsx("input",{type:"number",className:"w-16 p-2 border border-gray-200 rounded-lg text-sm text-center",placeholder:"1",value:c.quantity,onChange:R=>h({...c,quantity:Number(R.target.value)})}),u.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Ej. Estatua Gigante",value:c.name,onChange:R=>h({...c,name:R.target.value})})]}),u.jsxs("button",{type:"button",onClick:H,className:"bg-gray-800 text-white p-2 rounded-lg hover:bg-black transition flex items-center justify-center sm:w-10",children:[u.jsx(WN,{size:18})," ",u.jsx("span",{className:"sm:hidden ml-2 text-xs font-bold",children:"AGREGAR"})]})]})]})]}),u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full bg-blue-50/30 rounded-xl border border-blue-100 p-4 h-64 md:h-auto",children:[u.jsxs("p",{className:"text-xs font-bold text-gray-400 mb-2 uppercase text-center",children:["Lista de Carga (",i.items?.reduce((R,j)=>R+Number(j.quantity),0)||0," pzas)"]}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:i.items&&i.items.length>0?i.items.map((R,j)=>u.jsxs("div",{className:"flex items-center gap-3 bg-white p-2.5 rounded-lg shadow-sm border border-gray-100 text-sm group",children:[u.jsx("input",{type:"number",className:"w-12 p-1 border border-gray-200 rounded text-center font-bold text-cadena-blue bg-blue-50 focus:bg-white transition outline-none",value:R.quantity,onChange:k=>F(j,k.target.value)}),u.jsx("span",{className:"flex-1 font-medium text-gray-700 leading-tight",children:R.name}),u.jsx("button",{type:"button",onClick:()=>$(j),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1.5 rounded transition",children:u.jsx(Xl,{size:15})})]},j)):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-60",children:[u.jsx(di,{size:40,className:"mb-2"}),u.jsx("p",{className:"text-xs",children:"Sin artculos"})]})})]})]})]}),u.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 text-cadena-blue",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sv,{size:20}),u.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Desglose Financiero"})]}),u.jsx("button",{type:"button",onClick:se,className:"text-xs bg-white border border-cadena-blue px-3 py-1 rounded-full hover:bg-blue-100 transition",children:"+ Agregar Fila"})]}),u.jsx("div",{className:"space-y-4 mb-6",children:i.financialItems&&i.financialItems.map((R,j)=>u.jsx("div",{className:"bg-white p-3 rounded-xl border border-blue-100 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[u.jsxs("div",{className:"col-span-12 sm:col-span-6",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Descripcin / Concepto"}),u.jsx("textarea",{className:`${N} h-12 py-2 text-xs resize-none`,placeholder:"Descripcin...",value:R.description,onChange:k=>re(j,"description",k.target.value)})]}),u.jsxs("div",{className:"col-span-5 sm:col-span-3",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Costo"}),u.jsx("input",{type:"number",className:`${N} text-center`,placeholder:"$0",value:R.cost,onChange:k=>re(j,"cost",k.target.value)})]}),u.jsxs("div",{className:"col-span-5 sm:col-span-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 block sm:hidden",children:"Cant."}),u.jsx("input",{type:"number",className:`${N} text-center`,placeholder:"1",value:R.quantity,onChange:k=>re(j,"quantity",k.target.value)})]}),u.jsx("div",{className:"col-span-2 sm:col-span-1",children:u.jsx("button",{type:"button",onClick:()=>ne(j),className:"w-full h-[46px] flex items-center justify-center text-red-400 hover:text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition border border-red-100",children:u.jsx(Xl,{size:18})})})]})},j))}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 border-t border-blue-100 pt-4",children:[u.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[u.jsx(nS,{size:18,className:"text-gray-400"}),u.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:border-cadena-blue",value:i.taxType||"retention",onChange:R=>o({...i,taxType:R.target.value}),children:[u.jsx("option",{value:"none",children:"Sin Impuestos (Neto)"}),u.jsx("option",{value:"iva",children:"Solo IVA (16%)"}),u.jsx("option",{value:"retention",children:"IVA (16%) + Retencin (-4%)"})]})]}),u.jsxs("button",{type:"button",onClick:he,className:"bg-cadena-dark text-white px-6 py-2 rounded-lg text-xs font-bold hover:bg-black transition shadow-md flex gap-2 items-center w-full sm:w-auto justify-center",children:[u.jsx(Sv,{size:14})," Calcular Totales"]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex justify-between w-48",children:[u.jsx("span",{children:"Subtotal:"})," ",u.jsxs("span",{className:"font-bold",children:["$",Number(i.subtotal||0).toLocaleString()]})]}),(i.taxType==="iva"||i.taxType==="retention")&&u.jsxs("div",{className:"flex justify-between w-48",children:[u.jsx("span",{children:"IVA (16%):"})," ",u.jsxs("span",{className:"font-bold",children:["$",Number(i.iva||0).toLocaleString()]})]}),i.taxType==="retention"&&u.jsxs("div",{className:"flex justify-between w-48 text-red-500",children:[u.jsx("span",{children:"Retencin (4%):"})," ",u.jsxs("span",{className:"font-bold",children:["-$",Number(i.retention||0).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between w-64 mt-2 pt-2 border-t border-cadena-blue items-center",children:[u.jsx("span",{className:"font-black text-cadena-blue",children:"TOTAL FINAL:"}),u.jsx("input",{type:"number",className:"w-32 p-2 text-xl font-black text-cadena-blue bg-white border-2 border-cadena-blue rounded-lg text-right outline-none",value:i.price||"",onChange:R=>o({...i,price:R.target.value})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Notas / Observaciones"}),u.jsx("textarea",{className:`${N} h-32 resize-none`,value:i.notes||"",onChange:R=>o({...i,notes:R.target.value}),placeholder:"Detalles importantes..."})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[u.jsx(oh,{size:16})," Documentos del Cliente"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(w,{title:"INE / ID (FRENTE)",urlField:"idUrlFront",urlValue:i.idUrlFront||i.idUrl,colorClass:"text-blue-600 bg-blue-600",badgeColor:"bg-green-100 text-green-700"}),u.jsx(w,{title:"INE / ID (REVERSO)",urlField:"idUrlBack",urlValue:i.idUrlBack,colorClass:"text-blue-600 bg-blue-600",badgeColor:"bg-green-100 text-green-700"}),u.jsx(w,{title:"COMPROBANTE DOMICILIO",urlField:"addressUrl",urlValue:i.addressUrl,colorClass:"text-purple-600 bg-purple-600",badgeColor:"bg-purple-100 text-purple-700"})]})]})]}),u.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition flex justify-center gap-2 items-center text-lg mt-4",children:[u.jsx(rS,{size:20})," Guardar Cambios y Actualizar"]})]})})]})},bd=({label:r,icon:e,active:n,onClick:i,count:o,colorClass:c})=>u.jsxs("button",{onClick:i,className:`flex items-center gap-2 py-4 border-b-4 font-bold transition whitespace-nowrap px-4 ${n?`border-${c} text-${c}`:"border-transparent text-gray-400 hover:text-gray-600"}`,children:[e," ",r,o>0&&u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${n?`bg-${c}/10 text-${c}`:"bg-gray-100 text-gray-500"}`,children:o})]}),vd=({msg:r})=>u.jsx("div",{className:"text-center py-16 bg-white rounded-2xl border-2 border-dashed border-gray-100",children:u.jsx("p",{className:"text-gray-400 font-medium",children:r})}),o_=({title:r,onClose:e,children:n})=>u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl overflow-hidden animate-fade-in-up max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-800",children:r}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition",children:u.jsx(vc,{size:20})})]}),u.jsx("div",{className:"p-8",children:n})]})}),WO=()=>{const r=Co(),[e,n]=L.useState("cotizaciones"),[i,o]=L.useState([]),[c,h]=L.useState(!1),[p,g]=L.useState(null),[y,_]=L.useState(null),[E,S]=L.useState({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""});L.useEffect(()=>{const w=Rg(mc(Xt,"moves"),OE("createdAt","desc")),R=zE(w,j=>{o(j.docs.map(k=>({id:k.id,...k.data()})))});return()=>R()},[]);const V=async()=>{await oT(Sp),r("/admin")},H=async w=>{confirm("Eliminar registro?")&&await G4(Kn(Xt,"moves",w))},$=w=>{const j=`${window.location.href.split("#")[0]}#/contrato/${w}`;navigator.clipboard.writeText(j),alert("Enlace copiado.")},F=w=>{r(`/admin/ver-contrato/${w.id}`)},se=async w=>{w.preventDefault();try{await VE(Xt,async R=>{const j=Kn(Xt,"counters","moves_counter"),k=await R.get(j);let I=1;k.exists()&&(I=k.data().current+1);const ke=`MUD-${String(I).padStart(4,"0")}`,De=Number(E.price)||0,K=[{description:"FLETE Y MANIOBRAS",cost:De,quantity:1}],W=De>0&&E.date?"Programada":"Pendiente",ie=Kn(mc(Xt,"moves"));R.set(ie,{...E,folio:ke,status:W,items:[],price:De,subtotal:De,iva:0,retention:0,financialItems:K,createdAt:new Date}),R.set(j,{current:I})}),h(!1),S({client:"",phone:"",origin:"",destination:"",date:"",price:"",notes:""}),alert("Registro creado con xito.")}catch(R){console.error("Error creando folio:",R),alert("Error al generar registro.")}},ne=w=>w.folio&&parseInt(w.folio.split("-")[1])||0,re=w=>w.sort((R,j)=>ne(j)-ne(R)),he=re(i.filter(w=>w.status==="Pendiente"&&(!w.idUrl||!w.addressUrl))),ve=re(i.filter(w=>w.status==="Pendiente"&&w.idUrl&&w.addressUrl||w.status==="Programada")),ge=re(i.filter(w=>["Contrato Firmado","En Carga","En Trnsito"].includes(w.status))),N=re(i.filter(w=>w.status==="Finalizada")),C=w=>({key:w.id,move:w,onEdit:()=>g(w),onDelete:()=>H(w.id),onCopyLink:()=>$(w.id),onViewId:()=>_(w),onViewContract:()=>F(w),isPending:w.price===0});return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[u.jsxs("nav",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-20 border-b border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-2 text-cadena-pink font-black text-xl tracking-tight",children:[u.jsx(ON,{className:"text-cadena-blue"})," Panel Cadena"]}),u.jsxs("button",{onClick:V,className:"text-gray-400 hover:text-red-500 font-medium text-sm flex gap-2 transition",children:[u.jsx(PN,{size:18})," Salir"]})]}),u.jsx("div",{className:"bg-white px-4 sm:px-8 shadow-sm relative z-10",children:u.jsxs("div",{className:"flex space-x-2 sm:space-x-8 overflow-x-auto pb-1 sm:pb-0",children:[u.jsx(bd,{label:"Nuevas",icon:u.jsx(oa,{size:18}),active:e==="cotizaciones",onClick:()=>n("cotizaciones"),count:he.length,colorClass:"gray-600"}),u.jsx(bd,{label:"Por Firmar",icon:u.jsx(L_,{size:18}),active:e==="por_firmar",onClick:()=>n("por_firmar"),count:ve.length,colorClass:"cadena-pink"}),u.jsx(bd,{label:"Activas",icon:u.jsx(hi,{size:18}),active:e==="operaciones",onClick:()=>n("operaciones"),count:ge.length,colorClass:"cadena-blue"}),u.jsx(bd,{label:"Historial",icon:u.jsx(ah,{size:18}),active:e==="historial",onClick:()=>n("historial"),count:N.length,colorClass:"green-600"})]})}),u.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e==="cotizaciones"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Solicitudes Recientes"}),u.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl flex gap-2 font-bold shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5",children:[u.jsx(Cv,{size:20})," Crear Manual"]})]}),he.length===0?u.jsx(vd,{msg:"No hay solicitudes nuevas."}):u.jsx("div",{className:"grid gap-4",children:he.map(w=>u.jsx(gd,{...C(w)}))})]}),e==="por_firmar"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"bg-pink-50 border border-pink-100 p-4 rounded-xl flex items-start gap-3",children:[u.jsx(Pp,{className:"text-cadena-pink shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-cadena-pink",children:"En Proceso de Firma"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Mudanzas cotizadas esperando firma del cliente o revisin de documentos."})]})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Listos para Revisin y Firma"}),ve.length===0?u.jsx(vd,{msg:"Nadie est esperando revisin."}):u.jsx("div",{className:"grid gap-4",children:ve.map(w=>u.jsx(gd,{...C(w)}))})]}),e==="operaciones"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Operaciones en Curso"}),ge.length===0?u.jsx(vd,{msg:"Sin operaciones firmadas en curso."}):u.jsx("div",{className:"grid gap-4",children:ge.map(w=>u.jsx(gd,{...C(w),onPrintOrder:()=>r(`/orden-carga/${w.id}`)}))})]}),e==="historial"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Historial Finalizado"}),N.length===0?u.jsx(vd,{msg:"An no hay mudanzas finalizadas."}):u.jsx("div",{className:"grid gap-4 opacity-80 hover:opacity-100 transition duration-300",children:N.map(w=>u.jsx(gd,{...C(w),onPrintOrder:()=>r(`/orden-carga/${w.id}`)}))})]})]}),p&&u.jsx(JO,{moveData:p,onClose:()=>g(null),onSuccess:()=>g(null)}),y&&u.jsx(o_,{title:`Documentacin: ${y.client}`,onClose:()=>_(null),children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Identificacin Oficial (INE)"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1",children:"FRENTE:"}),y.idUrlFront||y.idUrl?u.jsx("img",{src:y.idUrlFront||y.idUrl,className:"w-full h-48 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"INE Frente"}):u.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 text-gray-400 text-xs italic border-2 border-dashed rounded-xl",children:"Sin imagen"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1",children:"REVERSO:"}),y.idUrlBack?u.jsx("img",{src:y.idUrlBack,className:"w-full h-48 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"INE Reverso"}):u.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 text-gray-400 text-xs italic border-2 border-dashed rounded-xl",children:"Sin imagen"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-gray-400 mb-3 uppercase text-xs tracking-widest border-b pb-1",children:"Comprobante de Domicilio"}),y.addressUrl?u.jsx("img",{src:y.addressUrl,className:"w-full max-h-80 object-contain bg-gray-100 rounded-xl border shadow-sm",alt:"Domicilio"}):u.jsx("p",{className:"text-gray-400 italic text-sm py-8 text-center bg-gray-50 rounded border-2 border-dashed",children:"No adjuntado"})]})]})}),c&&u.jsx(o_,{title:"Nueva Mudanza Completa",onClose:()=>h(!1),children:u.jsxs("form",{onSubmit:se,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(e3,{size:14})," Nombre del Cliente"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Ej. Juan Prez",value:E.client,onChange:w=>S({...E,client:w.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(lh,{size:14})," Telfono"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"55 1234 5678",value:E.phone,onChange:w=>S({...E,phone:w.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(gr,{size:14,className:"text-green-500"})," Origen"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.origin,onChange:w=>S({...E,origin:w.target.value})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(gr,{size:14,className:"text-red-500"})," Destino"]}),u.jsx("input",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",placeholder:"Colonia / Ciudad",value:E.destination,onChange:w=>S({...E,destination:w.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(Lp,{size:14})," Fecha Tentativa"]}),u.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm",value:E.date,onChange:w=>S({...E,date:w.target.value})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5 flex items-center gap-1",children:[u.jsx(TN,{size:14})," Precio Estimado ($)"]}),u.jsx("input",{type:"number",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm font-bold text-green-600",placeholder:"0.00",value:E.price,onChange:w=>S({...E,price:w.target.value})}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'Si pones precio, la mudanza pasar a "Programada".'})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Notas / Observaciones"}),u.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg outline-none focus:border-cadena-blue transition text-sm h-20",placeholder:"Ej. Casa de 3 pisos, volado, piano...",value:E.notes,onChange:w=>S({...E,notes:w.target.value})})]}),u.jsxs("button",{className:"w-full bg-cadena-pink hover:bg-pink-600 text-white font-bold py-4 rounded-xl shadow-md transition flex justify-center items-center gap-2 text-lg",children:[u.jsx(Cv,{size:24})," Crear Registro Completo"]})]})})]})},e3=r=>u.jsxs("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t3=()=>{const[r,e]=L.useState([]),[n,i]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const c=Rg(mc(Xt,"moves"),Tp("status","in",["Contrato Firmado","En Carga","En Trnsito"]),OE("date","asc")),p=(await PE(c)).docs.map(g=>({id:g.id,...g.data()}));e(p)}catch(c){console.error("Error cargando trabajos:",c)}finally{i(!1)}})()},[]),n?u.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Cargando..."}):u.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-20 p-4 print:bg-white print:text-black print:p-0 print:m-0",children:[u.jsx("button",{onClick:()=>window.print(),className:"fixed bottom-4 right-4 bg-cadena-blue text-white p-4 rounded-full shadow-xl z-50 print:hidden hover:bg-blue-700 transition",children:u.jsx(ch,{size:24})}),u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-cadena-blue border-b border-gray-800 pb-4 print:hidden",children:"rdenes de Carga Activas"}),u.jsxs("div",{className:"space-y-6 print:space-y-4 print:block",children:[r.length===0&&u.jsxs("div",{className:"text-center py-10 opacity-50",children:[u.jsx(di,{size:48,className:"mx-auto mb-4"}),u.jsx("p",{children:"No hay trabajos activos."})]}),r.map(o=>u.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-lg relative overflow-hidden break-inside-avoid print:bg-white print:border-b-2 print:border-black print:shadow-none print:rounded-none print:p-0 print:mb-6 print:page-break-inside-avoid",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2 print:mb-2 print:border-b print:border-gray-300 print:pb-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider print:text-black print:text-[10px]",children:"FOLIO"}),u.jsx("span",{className:"text-xl font-black text-white print:text-black",children:o.folio})]}),u.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase print:hidden ${o.status==="En Trnsito"?"bg-green-500/20 text-green-400":"bg-pink-500/20 text-pink-400"}`,children:o.status})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"bg-gray-900/50 px-3 py-1 rounded-lg border border-gray-600 inline-flex items-center gap-2 print:bg-transparent print:border-0 print:p-0",children:[u.jsx(Lp,{size:14,className:"text-cadena-blue print:text-black"}),u.jsx("span",{className:"text-sm font-bold print:text-black",children:o.date})]})})]}),u.jsxs("div",{className:"space-y-4 pl-2 print:space-y-1",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 print:grid-cols-3 gap-4 print:gap-2 print:text-[10px]",children:[u.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Origen"}),u.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.origin})]}),u.jsxs("div",{className:"border-l-2 border-red-500 pl-3",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Destino"}),u.jsx("p",{className:"font-medium text-gray-200 leading-tight print:text-black",children:o.destination})]}),u.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-700 flex gap-3 items-center print:bg-transparent print:border-0 print:p-0 print:block",children:[u.jsx("div",{className:"print:hidden bg-blue-500/20 p-1.5 rounded-full text-blue-400",children:u.jsx(lh,{size:16})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold print:text-black",children:"Contacto"}),u.jsx("p",{className:"font-bold text-white print:text-black",children:o.phone}),u.jsx("p",{className:"text-xs text-gray-400 print:text-black",children:o.client})]})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 print:border-black print:mt-2 print:pt-2",children:[u.jsxs("p",{className:"text-xs text-gray-500 uppercase font-bold flex items-center gap-2 mb-2 print:text-black print:mb-1 print:text-[10px]",children:[u.jsx(di,{size:12,className:"text-cadena-pink print:hidden"})," Inventario"]}),u.jsx("div",{className:"bg-gray-900/80 p-3 rounded-xl border border-gray-700/50 min-h-[50px] print:bg-transparent print:border-none print:p-0",children:Array.isArray(o.items)&&o.items.length>0?u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 print:grid-cols-4 gap-2 text-xs",children:o.items.map((c,h)=>u.jsxs("div",{className:"flex items-start gap-1 border-b border-gray-800 pb-1 mb-1 print:border-gray-200 print:mb-0",children:[u.jsx("span",{className:"font-bold bg-gray-700 text-cadena-blue px-1.5 rounded text-[10px] min-w-[1.2rem] text-center shrink-0 border border-gray-600 print:bg-gray-200 print:text-black print:border-gray-400",children:c.quantity}),u.jsx("span",{className:"text-gray-300 leading-tight print:text-black text-[10px] break-words",children:c.name})]},h))}):u.jsx("div",{className:"text-center py-2 opacity-50 print:text-black",children:typeof o.items=="string"&&o.items.length>1?u.jsx("p",{className:"text-xs italic text-gray-400 print:text-black",children:o.items}):u.jsx("p",{className:"text-[10px] text-gray-500 italic print:text-black",children:"Sin detalles"})})}),o.notes&&u.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg print:border print:border-black print:bg-transparent",children:[u.jsx("p",{className:"text-[10px] text-yellow-500 font-bold uppercase print:text-black inline mr-2",children:"Nota:"}),u.jsx("span",{className:"text-xs text-yellow-100/80 italic print:text-black",children:o.notes})]})]})]})]},o.id))]})]})},n3=()=>{const{id:r}=Ip(),e=Co(),[n,i]=L.useState(null),[o,c]=L.useState(!0),h=async()=>{if(navigator.share)try{await navigator.share({title:`Orden de Carga ${n.folio}`,text:`Detalles de la mudanza para ${n.client}`,url:window.location.href})}catch(p){console.log("Error al compartir:",p)}else alert("Copia este enlace para compartir: "+window.location.href)};return L.useEffect(()=>{(async()=>{if(r)try{const g=Kn(Xt,"moves",r),y=await LE(g);y.exists()?i({id:y.id,...y.data()}):(alert("Orden no encontrada"),e("/app/dashboard"))}catch(g){console.error("Error cargando orden:",g)}finally{c(!1)}})()},[r,e]),o?u.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando formato..."}):n?u.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans print:text-black",children:[u.jsx("style",{children:`
          @media print {
            @page {
              margin: 1cm; /* Margen fsico seguro */
              size: letter; /* Tamao carta */
            }
            html, body {
              margin: 0 !important;
              padding: 0 !important;
              height: auto !important;
              overflow: visible !important;
              background-color: white !important;
            }
            /* Ocultar elementos del navegador */
            body > *:not(#root) {
              display: none !important;
            }
            /* Asegurar que el contenido fluya */
            #root {
              width: 100% !important;
              position: relative !important;
              display: block !important;
            }
            /* Forzar fondo blanco y texto negro */
            * {
              -webkit-print-color-adjust: exact !important;
              print-color-adjust: exact !important;
            }
          }
        `}),u.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap justify-between items-center print:hidden gap-3",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[u.jsx(ih,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Volver"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg shadow-sm font-bold hover:bg-blue-200 transition",children:[u.jsx(P_,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Compartir"})]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[u.jsx(ch,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]})]})]}),u.jsxs("div",{className:"max-w-[21.5cm] mx-auto bg-white shadow-2xl p-8 md:p-10 rounded-xl print:shadow-none print:w-full print:max-w-none print:p-0 print:rounded-none print:m-0 flex flex-col relative",children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-black pb-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:ic,alt:"Mudanzas Cadena",className:"h-16 w-auto object-contain"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-black leading-none",children:"Orden de Carga"}),u.jsx("p",{className:"text-gray-500 font-bold text-xs tracking-[0.3em] mt-1",children:"MUDANZAS CADENA  LOGSTICA"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Folio de Servicio"}),u.jsx("p",{className:"text-3xl font-black text-red-600 leading-none",children:n.folio||"S/N"}),u.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1 text-gray-600",children:[u.jsx(Lp,{size:12}),u.jsx("p",{className:"text-xs font-bold",children:n.date})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 text-sm border-b border-gray-200 pb-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 font-black text-black mb-2 uppercase text-xs tracking-wider",children:[u.jsx(mS,{size:14})," Cliente / Contacto"]}),u.jsxs("div",{className:"pl-2 border-l-2 border-cadena-blue",children:[u.jsx("p",{className:"text-lg font-bold uppercase leading-tight",children:n.client}),u.jsx("p",{className:"mt-0.5 text-gray-600 font-mono",children:n.phone})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded p-2 print:bg-white print:border-black",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1 text-gray-500",children:[u.jsx(oa,{size:10}),u.jsx("p",{className:"font-bold text-[9px] uppercase",children:"Instrucciones de Oficina:"})]}),u.jsx("p",{className:"uppercase text-xs font-bold text-black leading-snug",children:n.notes||"Sin instrucciones especiales."})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[u.jsx(gr,{size:12})," Origen"]}),u.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-green-500 pl-2",children:n.origin})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-0.5 text-[10px] text-gray-400 uppercase tracking-widest",children:[u.jsx(hi,{size:12})," Destino"]}),u.jsx("p",{className:"uppercase text-black text-xs font-bold leading-snug border-l-2 border-red-500 pl-2",children:n.destination})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-black pb-1",children:[u.jsxs("h3",{className:"font-black text-sm uppercase tracking-widest flex items-center gap-2",children:[u.jsx(di,{size:16})," Lista de Carga (Checklist)"]}),u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400",children:"Marcar al cargar"})]}),Array.isArray(n.items)&&n.items.length>0?u.jsx("div",{className:"columns-1 md:columns-3 print:columns-3 gap-x-6 gap-y-2",children:n.items.map((p,g)=>u.jsxs("div",{className:"break-inside-avoid flex items-center gap-2 border-b border-gray-300 pb-1 mb-1 print:border-gray-400",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-sm shrink-0 bg-white"}),u.jsx("span",{className:"font-black text-sm text-black min-w-[1.2rem] text-center",children:p.quantity}),u.jsx("span",{className:"leading-tight uppercase text-[10px] font-bold text-gray-800 pt-0.5",children:p.name})]},g))}):u.jsx("div",{className:"p-6 text-center text-gray-400 italic border-2 border-dashed border-gray-200 rounded-lg",children:typeof n.items=="string"?n.items:"No hay inventario desglosado en el sistema."})]}),u.jsx("div",{className:"mt-12 break-inside-avoid border-t-2 border-gray-100 pt-4 print:border-none",children:u.jsxs("div",{className:"flex justify-between items-end text-center text-xs font-bold uppercase gap-8",children:[u.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[u.jsx("p",{children:"Firma Operador"}),u.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Responsable de carga"})]}),u.jsxs("div",{className:"w-1/2 border-t-2 border-black pt-2",children:[u.jsx("p",{children:"Firma Cliente"}),u.jsx("p",{className:"text-[9px] text-gray-500 font-normal normal-case mt-1",children:"Conformidad de servicio"})]})]})})]})]}):null},s3=()=>{const{id:r}=Ip(),e=Co(),[n,i]=L.useState(null),[o,c]=L.useState(!0);L.useEffect(()=>{(async()=>{if(r)try{const _=Kn(Xt,"moves",r),E=await LE(_);if(E.exists()){let S=E.data();S.idUrl&&!S.idUrlFront&&(S.idUrlFront=S.idUrl),i({id:E.id,...S})}else alert("Contrato no encontrado"),e("/admin")}catch(_){console.error("Error:",_)}finally{c(!1)}})()},[r,e]);const h=async()=>{if(navigator.share)try{await navigator.share({title:`Contrato ${n.folio}`,text:`Contrato de servicio para ${n.client}`,url:window.location.href})}catch(y){console.log("Error al compartir:",y)}else alert("Enlace copiado al portapapeles"),navigator.clipboard.writeText(window.location.href)};if(o)return u.jsx("div",{className:"p-10 text-center text-gray-500",children:"Cargando contrato..."});if(!n)return null;const p="bg-white shadow-2xl p-10 mx-auto max-w-[21.5cm] min-h-[27.9cm] text-black text-sm flex flex-col mb-8 last:mb-0 print:shadow-none print:m-0 print:w-full print:max-w-none print:min-h-[27.9cm] print:h-[27.9cm] print:break-after-page print:mb-0 print:rounded-none relative",g=()=>u.jsxs("div",{className:"pt-8 border-t border-gray-300 flex justify-between items-end text-xs break-inside-avoid",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-black",children:"MUDANZAS CADENA"}),u.jsxs("p",{className:"text-black",children:["Folio: ",n.folio]})]}),u.jsxs("div",{className:"flex flex-col items-center w-40",children:[n.signature?u.jsx("img",{src:n.signature,className:"h-12 object-contain -mb-2",alt:"Firma"}):u.jsx("div",{className:"h-12"}),u.jsx("div",{className:"border-t border-black w-full text-center pt-1 font-bold text-black",children:"FIRMA C."})]})]});return u.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8 print:bg-white print:p-0 font-sans",children:[u.jsx("style",{children:`
          @media print {
            @page {
              margin: 0;
              size: letter;
            }
            html, body {
              margin: 0 !important;
              padding: 0 !important;
              background-color: white !important;
            }
            body * {
              visibility: hidden;
            }
            #root, #root * {
              visibility: visible;
            }
            .print\\:bg-white {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
            }
            .print\\:columns-3 {
              column-count: 3 !important;
            }
          }
        `}),u.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap justify-between items-center print:hidden gap-3",children:[u.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm font-bold text-gray-700 hover:bg-gray-50 transition",children:[u.jsx(ih,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Volver"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg shadow-sm font-bold hover:bg-blue-200 transition",children:[u.jsx(P_,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Compartir"})]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-cadena-dark text-white px-6 py-2 rounded-lg shadow-md font-bold hover:bg-black transition",children:[u.jsx(ch,{size:20})," ",u.jsx("span",{className:"hidden sm:inline",children:"Imprimir Contrato"})]})]})]}),u.jsxs("div",{className:p,children:[u.jsxs("div",{className:"flex justify-between items-end border-b-4 border-cadena-pink pb-4 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("img",{src:ic,alt:"Mudanzas Cadena",className:"h-24 object-contain object-left -ml-3"}),u.jsx("p",{className:"text-xs tracking-[0.2em] font-bold uppercase mt-1 ml-1 text-gray-500",children:"COTIZA HOY, MDATE HOY"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-black text-lg",children:"CONTRATO DE SERVICIO"}),u.jsxs("p",{className:"text-sm",children:["FOLIO: ",u.jsx("span",{className:"text-red-600 font-black text-xl",children:n.folio})]}),u.jsx("p",{className:"text-xs font-bold uppercase text-cadena-blue mt-1",children:new Date(n.createdAt?.seconds*1e3||Date.now()).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"space-y-6 text-sm uppercase mb-12",children:[u.jsxs("div",{className:"border p-4 rounded bg-gray-50 border-gray-200",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"CLIENTE:"})," ",n.client]}),u.jsxs("p",{children:[u.jsx("strong",{children:"TELFONO:"})," ",n.phone]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"ORIGEN"}),u.jsx("p",{children:n.origin})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold border-b border-gray-300 mb-2",children:"DESTINO"}),u.jsx("p",{children:n.destination})]})]}),u.jsxs("div",{className:"border-t pt-4 border-gray-200",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"NOTAS:"})," ",n.notes||"Sin notas adicionales."]}),u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"FECHA TENTATIVA DE CARGA:"})," ",u.jsx("span",{className:"text-cadena-blue font-bold",children:n.date||"Por definir"})]})]})]}),u.jsx(g,{})]}),u.jsxs("div",{className:p,children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"INVENTARIO DECLARADO"}),u.jsx("p",{className:"text-center text-xs text-gray-400 mb-6 uppercase tracking-widest border-b border-gray-200 pb-4",children:"Revisado y Autorizado por el Cliente"}),u.jsx("div",{className:"flex-1 mb-8",children:n.items&&n.items.length>0?u.jsx("div",{className:"columns-2 md:columns-3 print:columns-3 gap-4",children:n.items.map((y,_)=>u.jsxs("div",{className:"break-inside-avoid mb-2 border-b border-gray-100 pb-1 flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs min-w-[2rem] text-center border border-gray-200",children:y.quantity}),u.jsx("span",{className:"leading-tight",children:y.name})]},_))}):u.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:u.jsx("p",{className:"text-gray-400 italic",children:"Sin inventario desglosado en sistema."})})})]}),u.jsx(g,{})]}),u.jsxs("div",{className:p,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"CONDICIONES DEL SERVICIO"}),u.jsx("p",{children:"1. Se deber realizar un anticipo del 50% para poder confirmar su servicio."}),u.jsx("p",{children:"2. El valor total a pagar debe ser liquidado al momento que la unidad se encuentre en el destino para poder comenzar con la descarga."}),u.jsx("p",{children:"3. El valor del flete incluye maniobras de carga y descarga."}),u.jsx("p",{children:"4. El valor del flete incluye cubierta a muebles con hule poliestrech y proteccin con colchonetas a bordo de la unidad de transporte."}),u.jsx("p",{children:"5. Se debern de marcar las cajas que sean frgiles y de igual manera informrselo al operador para tener un cuidado especial de las mismas."}),u.jsx("p",{children:"6. Todos los muebles estn susceptibles a daos, en caso de requerir un empaque especializado para su mayor proteccin, tendr un costo adicional."}),u.jsx("p",{children:'7. Al firmar este contrato el C. se hace responsable de las pertenencias que entregue al operador, desde el momento de la carga hasta la descarga. Todos los artculos "empacados por el cliente" viajan por cuenta y riesgo, esto quiere decir, que no nos haremos responsables por las condiciones en las que lleguen a su destino, debido a que desconocemos el contenido y condiciones de origen de estas, no se aceptan reclamaciones.'}),u.jsx("p",{children:"8. Queda prohibido transportar animales vivos o muertos, armas de fuego, sustancias toxicas y plantas."}),u.jsx("p",{children:"9. En caso de salir menaje extra a la hora de la carga se realizar la modificacin de su cotizacin."}),u.jsx("p",{children:"10. En caso que se requieran realizar maniobras extras no reportadas por el cliente, se cobrarn por separado."}),u.jsx("p",{children:"11. La empresa ofrece una pliza de seguro por el 5% adicional del valor total del servicio, de $50,000.00 como valor mnimo de embarque para la modalidad compartida o una pliza de seguro por el 10% adicional del valor de total del servicio, de $50,000.00 hasta $100,000.00 como lmite mximo por embarque para la modalidad exclusiva, por los hechos que la ley seala como riesgos ordinarios de trnsito, robo total con violencia y/o asalto. En caso de que el valor declarado de sus bienes exceda estos montos, se le da la opcin al cliente de ampliar su pliza de seguro para que su carga vaya asegurada por completo. La territorialidad de la pliza de seguro consta de (Bodega  Bodega), es decir, desde el momento que sale de Bodega MUDANZAS CADENA hasta el DESTINO FINAL del cliente. La Pliza de Seguro compartida y exclusiva se considera por todo el embarque, es decir, sobre todos los artculos, embalajes, que viajen en el mismo contenedor, bajo ninguna circunstancia se contrata el seguro por un artculo u embalaje en especial. En caso de no requerir el servicio de pliza de seguro, el cliente acepta que su mercanca viaje por cuenta y riesgo de el mismo."}),u.jsx("p",{children:"12. MUDANZAS CADENA se compromete a realizar la recoleccin y la entrega establecida por ambas partes."}),u.jsx("p",{children:"13. El cliente que es quien remite el servicio, encomienda a MUDANZAS CADENA, y este se obliga a transportar en sujecin de las leyes, aquellos bienes descritos en el presente documento al lugar del destino que seale el cliente."}),u.jsx("p",{children:"14. En caso de que el cliente requiera hacer algn cambio o cancelacin, se podr realizar siempre y cuando este sea 24 hrs antes de la hora en la que se agend la recoleccin del servicio, de no ser as deber pagar el 20% del costo total por los gastos de operacin."}),u.jsx("p",{children:"15. No nos hacemos responsables de las cajas que se entreguen empacadas y selladas por la mano del mismo cliente, ya que desconocemos el contenido y el estado de lo que contenga el interior."})]}),u.jsx(g,{})]}),u.jsxs("div",{className:p,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"COSTO DEL SERVICIO"}),u.jsxs("table",{className:"w-full border-2 border-black mb-8 text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 border-b-2 border-black",children:[u.jsx("th",{className:"p-2 border-r border-black w-1/2",children:"SERVICIO / CONCEPTO"}),u.jsx("th",{className:"p-2 border-r border-black",children:"COSTO U."}),u.jsx("th",{className:"p-2 border-r border-black",children:"CANT."}),u.jsx("th",{className:"p-2",children:"SUBTOTAL"})]})}),u.jsx("tbody",{children:n.financialItems&&n.financialItems.length>0?n.financialItems.map((y,_)=>u.jsxs("tr",{className:"border-b border-black",children:[u.jsx("td",{className:"p-4 border-r border-black align-top whitespace-pre-wrap",children:y.description}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",Number(y.cost).toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:y.quantity}),u.jsxs("td",{className:"p-4 align-top text-center font-bold",children:["$",(y.cost*y.quantity).toLocaleString()]})]},_)):u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 border-r border-black align-top h-40",children:n.serviceDescription||"SERVICIO DE FLETE EXCLUSIVO..."}),u.jsxs("td",{className:"p-4 border-r border-black align-top text-center",children:["$",n.subtotal?.toLocaleString()]}),u.jsx("td",{className:"p-4 border-r border-black align-top text-center",children:"1"}),u.jsxs("td",{className:"p-4 align-top text-center",children:["$",n.subtotal?.toLocaleString()]})]})})]}),u.jsxs("div",{className:"w-1/2 ml-auto",children:[u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"SUBTOTAL"})," ",u.jsxs("span",{children:["$",n.subtotal?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1",children:[u.jsx("span",{children:"IVA (16%)"})," ",u.jsxs("span",{children:["$",n.iva?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-b border-gray-300 py-1 text-red-500",children:[u.jsx("span",{children:"RETENCIN (-4%)"})," ",u.jsxs("span",{children:["- $",n.retention?.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between border-t-2 border-black py-2 font-black text-lg mt-2",children:[u.jsx("span",{children:"TOTAL"})," ",u.jsxs("span",{children:["$",n.price?.toLocaleString()]})]})]})]}),u.jsx(g,{})]}),u.jsxs("div",{className:p,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-center mb-8",children:"FORMAS DE PAGO / CONTACTO"}),u.jsxs("div",{className:"space-y-6 text-sm text-center",children:[u.jsx("p",{className:"font-bold",children:"SE DEBER REALIZAR UN ANTICIPO DEL 50% PARA PODER CONFIRMAR SU SERVICIO Y DEBE SER LIQUIDADO AL MOMENTO QUE LA UNIDAD SE ENCUENTRE EN EL DESTINO PARA PODER COMENZAR CON LA DESCARGA."}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"CITIBANAMEX"}),u.jsx("p",{children:"CAROLINA SARAI CADENA HERNANDEZ"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0021 8070 1057 3228 51"})]}),u.jsxs("div",{className:"border-2 border-cadena-blue p-6 rounded-xl",children:[u.jsx("h3",{className:"font-black text-lg text-blue-800 mb-2",children:"FACTURACIN (BBVA)"}),u.jsx("p",{children:"JONATAN SAMUEL CADENA HERNANDEZ"}),u.jsx("p",{children:"CUENTA: 047 181 9445"}),u.jsx("p",{className:"font-mono font-bold text-lg",children:"CLABE: 0121 8000 4718 194455"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-8",children:["UNA VEZ REALIZADO EL DEPSITO ENVIAR COMPROBANTE A: mudanzascadenamx@gmail.com ",u.jsx("br",{})," O WHATSAPP: 55 7945 3056 ADJUNTADO CON UNA COPIA DE UNA IDENTIFICACIN OFICIAL VIGENTE."]})]})]}),u.jsx(g,{})]})]})},r3=()=>{const{pathname:r}=Hs(),[e,n]=L.useState(!1),o=["/cotizar","/rastreo"].includes(r);return L.useEffect(()=>{if(!o){const c=setTimeout(()=>n(!0),1e3);return()=>clearTimeout(c)}},[o]),o?null:u.jsxs(Gn,{to:"/cotizar",className:`fixed bottom-6 right-6 z-[60] flex flex-col items-end cursor-pointer group transition-transform duration-500 ${e?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:[u.jsxs("div",{className:"relative mr-4 mb-2 animate-bounce-slow",children:[u.jsx("div",{className:"bg-white text-cadena-dark font-bold text-sm px-4 py-2 rounded-2xl shadow-xl border border-gray-100 transform transition-transform origin-bottom-right group-hover:scale-110",children:"Psst! Cotizamos? "}),u.jsx("div",{className:"absolute -bottom-1 right-4 w-3 h-3 bg-white border-r border-b border-gray-100 transform rotate-45"})]}),u.jsxs("div",{className:"relative w-20 h-20 md:w-32 md:h-32 transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-cadena-blue/30 blur-2xl rounded-full scale-0 group-hover:scale-100 transition-transform duration-300"}),u.jsx("img",{src:uh,alt:"Cotiza con nosotros",className:"w-full h-full object-contain drop-shadow-2xl transform transition-all duration-300 group-hover:-translate-y-2 group-hover:rotate-6"}),u.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white"})]})]})]})},i3=()=>{const{pathname:r}=Hs();return L.useEffect(()=>{window.scrollTo(0,0)},[r]),null};function a3(){return u.jsxs(u.Fragment,{children:[u.jsx(i3,{}),u.jsxs(dA,{children:[u.jsxs(Fn,{path:"/",element:u.jsxs(u.Fragment,{children:[u.jsx(TS,{}),u.jsx(r3,{})]}),children:[u.jsx(Fn,{index:!0,element:u.jsx(zS,{})}),u.jsx(Fn,{path:"servicios",element:u.jsx(H_,{})}),u.jsx(Fn,{path:"rastreo",element:u.jsx(Kk,{})}),u.jsx(Fn,{path:"cotizar",element:u.jsx(Xk,{})})]}),u.jsx(Fn,{path:"/admin",element:u.jsx(Wk,{})}),u.jsx(Fn,{path:"/admin/dashboard",element:u.jsx(WO,{})}),u.jsx(Fn,{path:"/contrato/:id",element:u.jsx(Zk,{})}),u.jsx(Fn,{path:"/trabajadores",element:u.jsx(t3,{})}),u.jsx(Fn,{path:"/orden-carga/:id",element:u.jsx(n3,{})}),u.jsx(Fn,{path:"/admin/ver-contrato/:id",element:u.jsx(s3,{})})]})]})}d2.createRoot(document.getElementById("root")).render(u.jsx(r2.StrictMode,{children:u.jsx(MA,{children:u.jsx(a3,{})})}));
